(()=>{"use strict";var __webpack_modules__={4577:()=>{eval('\n// UNUSED EXPORTS: checkSafeFrameViewability, isSafeFrameWindow\n\n;// CONCATENATED MODULE: ./src/constants.ts\nvar IFRAME_INLINE_STYLE = "height: 100% !important; width: 100% !important; z-index: 1; overflow: hidden; min-height: inherit !important; min-width: inherit !important; max-height: inherit !important; max-width: inherit !important; display: block !important;border: 0 !important;";\nvar IFRAME_SANDBOX = "allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation";\nvar BLIINK_CLASS_PREFIX = "bliink";\nvar BLIINK_ADUNIT_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-adunit");\nvar BLIINK_NATIVE_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-native");\nvar BLIINK_ADUNIT_WRAPPER_CLASS = "".concat(BLIINK_ADUNIT_CLASS, "__wrapper");\nvar BLIINK_ADUNIT_IFRAME_CLASS = "".concat(BLIINK_ADUNIT_CLASS, "__iframe");\nvar BLIINK_ADUNIT_OVERLAY_CLASS = "".concat(BLIINK_ADUNIT_CLASS, "__overlay");\nvar BLIINK_ADVIEW_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-adview");\nvar BLIINK_PLAYER_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-player");\nvar BLIINK_PLAY_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-replay-button");\nvar CREATIVE_POST_MESSAGE = "https://tag.bliink.io/creative.min.js";\nvar PIXEL_INLINE_STYLE = "width: 1px; height: 1px; border: 0; opacity: 0;";\nvar IMAGES_LOCATOR_QUERY = \'img, div[style*="background-image"], div[style*="background: url"]\';\nvar IMAGES_LOCATOR_QUERY_WRAPPER = \':wrapper img, :wrapper picture span, :wrapper div[style*="background-image"], :wrapper div[style*="background: url"]\';\nvar EVENT_API_URL = "https://e.api.bliink.io";\nvar CreativeEvent;\n(function (CreativeEvent) {\n    CreativeEvent["CLICK"] = "bliink-click";\n    CreativeEvent["VISIBLE"] = "bliink-visible";\n    CreativeEvent["SHOW"] = "bliink-show";\n    CreativeEvent["HIDE"] = "bliink-hide";\n    CreativeEvent["HIDE_CLOSE"] = "bliink-hide-close";\n    CreativeEvent["DESTROY"] = "bliink-destroy";\n    CreativeEvent["PLAY_VIDEO"] = "bliink-play-video";\n    CreativeEvent["VIDEO_STARTED"] = "bliink-video-started";\n    CreativeEvent["VIDEO_FIRST_QUARTILE"] = "bliink-video-first-quartile";\n    CreativeEvent["VIDEO_MIDPOINT"] = "bliink-video-midpoint";\n    CreativeEvent["VIDEO_THIRD_QUARTILE"] = "bliink-video-third-quartile";\n    CreativeEvent["VIDEO_COMPLETE"] = "bliink-video-complete";\n    CreativeEvent["EVENT"] = "bliink-event";\n    CreativeEvent["EXPAND"] = "bliink-expand";\n    CreativeEvent["REDUCE"] = "bliink-reduce";\n    CreativeEvent["STICKY"] = "bliink-sticky";\n    CreativeEvent["ENABLE_SWITCH"] = "bliink-enable-switch";\n    CreativeEvent["SWITCH"] = "bliink-switch";\n})(CreativeEvent || (CreativeEvent = {}));\nvar AdEvent;\n(function (AdEvent) {\n    AdEvent["AD_ERROR"] = "adError";\n    AdEvent["ERROR"] = "error";\n    AdEvent["CALL"] = "call";\n    AdEvent["IMPRESSION"] = "impression";\n    AdEvent["CLICK"] = "click";\n    AdEvent["VISIBLE"] = "visible";\n    AdEvent["CLOSE"] = "close";\n    AdEvent["CREATIVE_VIEW"] = "creativeView";\n    AdEvent["STARTED"] = "start";\n    AdEvent["FIRST_QUARTILE"] = "firstquartile";\n    AdEvent["MIDPOINT"] = "midpoint";\n    AdEvent["THIRD_QUARTILE"] = "thirdquartile";\n    AdEvent["COMPLETE"] = "complete";\n    AdEvent["RESUMED"] = "resume";\n    AdEvent["ADBLOCK"] = "adblock";\n    AdEvent["BID_REQUEST"] = "bid-request";\n    AdEvent["BID_RESPONSE"] = "bid-response";\n    AdEvent["CREATIVE_ERROR"] = "creative-error";\n    AdEvent["CUSTOM"] = "custom";\n    AdEvent["VISIBLE_THIRTY"] = "bliink-visible-thirty";\n    AdEvent["VISIBLE_FIFTY_ONE"] = "bliink-visible-fifty-one";\n    AdEvent["VISIBLE_FIFTY_TWO"] = "bliink-visible-fifty-two";\n    AdEvent["VISIBLE_FULL"] = "bliink-visible-full";\n})(AdEvent || (AdEvent = {}));\nvar AdMode;\n(function (AdMode) {\n    AdMode["TEST"] = "test";\n    AdMode["AD_SERVER"] = "normal";\n    AdMode["AD_SERVER_NEW"] = "ad";\n    AdMode["RTB"] = "rtb";\n    AdMode["NO_AD"] = "no-ad";\n})(AdMode || (AdMode = {}));\nvar MediaFileType;\n(function (MediaFileType) {\n    MediaFileType["VPAID"] = "application/javascript";\n    MediaFileType["VIDEO"] = "video/mp4";\n})(MediaFileType || (MediaFileType = {}));\n\n;// CONCATENATED MODULE: ./src/SafeFrame/index.ts\n// import { sendEventWithToken } from "~/actions";\n// import { AdEvent } from "~/constants";\n// import Logger from "../Logger";\n\n// eslint-disable-next-line no-var\nvar viewableTimerId30;\nvar viewableTimerId50;\nvar viewableTimerId50Bis;\nvar viewableTimerId100;\nvar viewableIntervalId;\nvar viewableFired = {\n    "bliink-visible-thirty": false,\n    "bliink-visible-fifty-one": false,\n    "bliink-visible-fifty-two": false,\n    "bliink-visible-full": false,\n};\nvar isSafeFrameWindow = function () {\n    return !!(typeof $sf !== "undefined" && $sf.ext);\n};\nfunction notifyViewable(event) {\n    console.log(\'notifyViewable called\', event);\n    console.log(\'notifyViewable called boolean\', viewableFired[event]);\n    if (viewableFired[event])\n        return;\n    console.log(\'notifyViewable called pass\');\n    clearInterval(viewableIntervalId);\n    viewableFired[event] = true;\n    var iframeTest = document.querySelector("iframe");\n    if (iframeTest === null || iframeTest === void 0 ? void 0 : iframeTest.contentWindow) {\n        console.log("sending event postMessage");\n        iframeTest.contentWindow.postMessage(event, "*");\n        // return;\n    }\n    console.log("sending event with token, is viewable");\n    // new Logger().info("is viewable");\n}\nfunction statusUpdate() {\n    var percentageView = $sf.ext.inViewPercentage();\n    if (percentageView > 30) {\n        console.log("percentage view IN 30");\n        if (!viewableTimerId30) {\n            console.log("fistart viewable timerrst");\n            // new Logger().info("start viewable timer");\n            viewableTimerId30 = setTimeout(notifyViewable.bind(null, AdEvent.VISIBLE_THIRTY), 1000);\n        }\n    }\n    else {\n        clearTimeout(viewableTimerId30);\n        viewableTimerId30 = null;\n    }\n    if (percentageView === 100) {\n        console.log("percentage view IN 100");\n        if (!viewableTimerId100) {\n            console.log("fistart viewable timerrst");\n            // new Logger().info("start viewable timer");\n            viewableTimerId100 = setTimeout(notifyViewable.bind(null, AdEvent.VISIBLE_FULL), 1000);\n        }\n    }\n    else {\n        clearTimeout(viewableTimerId30);\n        viewableTimerId100 = null;\n    }\n    if (percentageView > 50) {\n        console.log("percentage view IN 50");\n        if (!viewableTimerId50) {\n            // new Logger().info("start viewable timer");\n            viewableTimerId50 = setTimeout(notifyViewable.bind(null, AdEvent.VISIBLE_FIFTY_ONE), 1000);\n        }\n        if (!viewableTimerId50Bis) {\n            viewableTimerId50Bis = setTimeout(notifyViewable.bind(null, AdEvent.VISIBLE_FIFTY_TWO), 2000);\n        }\n    }\n    else {\n        clearTimeout(viewableTimerId50);\n        clearTimeout(viewableTimerId50Bis);\n        viewableTimerId50 = null;\n        viewableTimerId50Bis = null;\n    }\n}\nfunction checkSafeFrameViewability() {\n    if (isSafeFrameWindow()) {\n        console.log("in safeframe***");\n        viewableIntervalId = setInterval(statusUpdate, 100);\n    }\n    else {\n        console.log("no safeframe***");\n    }\n}\ncheckSafeFrameViewability();\n\n\n//# sourceURL=webpack://native/./src/SafeFrame/index.ts_+_1_modules?')}},__webpack_exports__={};__webpack_modules__[4577]()})();