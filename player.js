(()=>{var __webpack_modules__={7758:(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(9252)(false);\n// imports\n\n\n// module\nexports.push([module.id, "* {\\n    margin: 0;\\n    padding: 0;\\n}\\n\\niframe {\\n    border: 0 !important;\\n}\\n\\nbody {\\n    overflow: hidden;\\n    height: 100%;\\n}", ""]);\n\n// exports\n\n\n//# sourceURL=webpack://native/./src/Banner/style.css?./node_modules/css-loader/index.js')},8564:(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(9252)(false);\n// imports\n\n\n// module\nexports.push([module.id, ".bliink-native {\\n  background: #fff;\\n  background: rgba(255, 255, 255, 0.8);\\n  font-family: Helvetica, Arial, sans-serif;\\n  font-weight: normal;\\n  color: #1f2534;\\n  right: 0;\\n  bottom: 0;\\n  border: 0;\\n  position: absolute;\\n  width: 70%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  padding: 1.5%;\\n}\\n.bliink-native-1 {\\n  background: #fff;\\n  background: rgba(255, 255, 255, 0.8);\\n  font-family: Helvetica, Arial, sans-serif;\\n  font-weight: normal;\\n  color: #1f2534;\\n  right: 0;\\n  bottom: 0;\\n  border: 0;\\n  position: absolute;\\n  width: 70%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  padding: 1.5%;\\n}\\n\\n.bliink-native__link {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  padding: 1.5%;\\n  box-sizing: border-box;\\n  color: #1f2534;\\n}\\n.bliink-native__link-1 {\\n  height: 100%;\\n  width: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  padding: 1.5%;\\n  box-sizing: border-box;\\n  color: #1f2534;\\n  display: flex;\\n  justify-content: space-between;\\n  text-decoration: none;\\n  align-items: center;\\n  bottom: 0;\\n}\\n.bliink-native__vertical-link {\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.bliink-native__content {\\n  display: inline-block;\\n  padding: 0 1.5%;\\n  position: absolute;\\n  height: 85%;\\n}\\n.bliink-native__content-1 {\\n  padding: 0 1.5%;\\n  height: 85%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  flex-grow: 1;\\n}\\n.bliink-native__content-vertical {\\n  width: 90%;\\n}\\n\\n.bliink-native__title-1 {\\n  font-size: 29px;\\n  width: max-content;\\n  font-weight: 700;\\n  line-height: inherit;\\n  text-transform: uppercase;\\n}\\n.bliink-native__title-vertical {\\n  font-size: 3rem;\\n}\\n\\n.bliink-native__adchoices {\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  height: 20px;\\n  margin: 0;\\n  padding: 0;\\n  display: block;\\n  z-index: 2;\\n  font-size: 12px;\\n  text-decoration: none;\\n  vertical-align: top;\\n  color: #1f2534;\\n  font-weight: 500;\\n}\\n\\n.bliink-native__adchoices img {\\n  bottom: 5px;\\n  right: 5px;\\n  height: 12px;\\n  float: right;\\n  margin: 0 6px 0 4px;\\n}\\n\\n.bliink-native__adchoices img:first-child {\\n  margin-left: 0;\\n}\\n\\n.bliink-native__text {\\n  width: 100%;\\n  font-size: 14px;\\n  line-height: 18px;\\n  font-weight: 400;\\n}\\n.bliink-native__cta {\\n  background: #9b0020;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: fit-content;\\n  padding: 5px 10px;\\n  font-size: 17px;\\n  line-height: 18px;\\n  font-weight: 700;\\n  color: #fff;\\n}\\n.bliink-native__text-1 {\\n  font-size: 19px;\\n  width: 100%;\\n  line-height: 18px;\\n  font-weight: 400;\\n}\\n\\n.bliink-native__text-vertical {\\n  font-size: 1.5rem;\\n}\\n.bliink-native__sponsored {\\n  position: absolute;\\n  font-size: 10px;\\n  padding: 3px 6px;\\n  background: #1f2534;\\n  top: 0;\\n  right: 0;\\n  z-index: 2;\\n  color: #fff;\\n  opacity: 0.8;\\n}\\n\\n.bliink-native__thumb {\\n  max-width: 30%;\\n  height: 100%;\\n  overflow: hidden;\\n  display: inline-block;\\n  position: relative;\\n}\\n.bliink-native__thumb-1 {\\n  height: 100%;\\n  overflow: hidden;\\n  display: inline-block;\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  /* margin-right: 10px; */\\n}\\n.bliink-native__thumb-vertical {\\n  width: 90%;\\n  max-width: inherit;\\n}\\n.bliink-native__thumb-icon {\\n  max-width: 40%;\\n  height: 100%;\\n  overflow: hidden;\\n  display: inline-block;\\n  position: relative;\\n  width: 38%;\\n  max-width: 100px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.bliink-native__thumb-vertical-icon {\\n  justify-content: center;\\n  order: -1;\\n  align-items: center;\\n  align-self: center;\\n  width: 38%;\\n  height: 38%;\\n}\\n\\n.bliink-native__thumb img {\\n  height: 100%;\\n}\\n.bliink-native__thumb-1 img {\\n  width: 100%;\\n  height: 100%;\\n}\\n@media screen and (max-height: 100px) {\\n  .bliink-native__thumb-1 img {\\n    height: 100%;\\n  }\\n  .bliink-native__title-1 {\\n    font-size: 12px;\\n    width: 100%;\\n  }\\n  .bliink-native__link-1 {\\n    padding: 0;\\n  }\\n  .bliink-native__text-1,\\n  .bliink-native__cta {\\n    font-size: 14px;\\n  }\\n  .bliink-native__link-1 {\\n    padding: 0;\\n  }\\n  .bliink-native__thumb-1 {\\n    width: auto;\\n  }\\n  .bliink-native__content-1 {\\n    justify-content: space-evenly;\\n    height: 100%;\\n  }\\n}\\n@media screen and (max-height: 60px) {\\n  .bliink-native__title-1 {\\n    font-size: 10px;\\n  }\\n  .bliink-native__text-1,\\n  .bliink-native__cta {\\n    font-size: 12px;\\n    padding: 1px 5px;\\n  }\\n  .bliink-native__thumb-1 {\\n    width: 20%;\\n  }\\n  .bliink-native__content-1 {\\n    justify-content: space-between;\\n  }\\n}\\n\\n@media only screen and (max-width: 500px) {\\n  .bliink-native {\\n    width: 100%;\\n  }\\n  .bliink-native__title-vertical {\\n    font-size: 1rem;\\n  }\\n  .bliink-native__text-vertical {\\n    font-size: 0.9rem;\\n  }\\n  .bliink-native__content-vertical {\\n    width: 95%;\\n  }\\n  .bliink-native__thumb-vertical {\\n    width: 95%;\\n  }\\n\\n  .bliink-native__title {\\n    font-size: 11px;\\n    line-height: 12px;\\n    margin-bottom: 2px;\\n  }\\n\\n  .bliink-native__text {\\n    font-size: 10px;\\n    line-height: 12px;\\n  }\\n\\n  .bliink-native__sponsored {\\n    font-size: 7px;\\n  }\\n\\n  .bliink-native__adchoices,\\n  .bliink-native__adchoices img {\\n    height: 9px;\\n    font-size: 9px;\\n    bottom: 6px;\\n  }\\n}\\nbody {\\n  margin: 0;\\n  padding: 0;\\n}\\n", ""]);\n\n// exports\n\n\n//# sourceURL=webpack://native/./src/Native/style.css?./node_modules/css-loader/index.js')},1072:(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(9252)(false);\n// imports\n\n\n// module\nexports.push([module.id, ".bliink-adunit body,\\n.bliink-adunit html {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.bliink-adunit {\\n  display: block;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 20;\\n}\\n\\n.bliink-adunit.in-feed {\\n  height: 360px;\\n  position: relative;\\n}\\n\\n.bliink-adunit.in-feed.bliink-is-active .bliink-adview {\\n  position: relative;\\n  height: 360px;\\n  max-width: 640px;\\n  width: 100%;\\n}\\n\\n.bliink-adunit--footer {\\n  display: block;\\n  position: fixed;\\n  top: auto;\\n  left: 0;\\n  bottom: 0;\\n  height: 0;\\n  width: 100%;\\n  z-index: 999;\\n}\\n\\n.bliink-adunit__wrapper {\\n  background: transparent;\\n  border: 0;\\n  display: block;\\n  float: none;\\n  margin: 0;\\n  max-width: none;\\n  opacity: 1;\\n  padding: 0;\\n  position: relative;\\n  vertical-align: baseline;\\n  visibility: visible;\\n  z-index: 3;\\n}\\n\\n.in-image-frame .bliink-adunit__wrapper {\\n  overflow: hidden;\\n}\\n\\n.bliink-adunit__iframe {\\n  left: 0;\\n  top: 0;\\n  border: 0;\\n  position: absolute;\\n  width: 100%;\\n  margin: 0 !important;\\n  display: block !important;\\n}\\n\\n.bliink-adunit__iframe iframe:first-child {\\n  height: 100% !important;\\n  width: 100% !important;\\n  top: 0;\\n  left: 0;\\n}\\n\\n.bliink-adunit__overlay {\\n  position: absolute;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: -1;\\n}\\n\\n.bliink-adunit__overlay.bliink-is-active {\\n  z-index: 99;\\n}\\n\\n.bliink-adunit--sticky,\\n.bliink-adunit.bliink-is-sticky .bliink-adunit__overlay,\\n.bliink-adunit.bliink-is-sticky .bliink-adunit__wrapper {\\n  position: fixed;\\n  width: 100vw !important;\\n  height: 25vw !important;\\n  max-width: 320px !important;\\n  max-height: 80px !important;\\n  top: auto !important;\\n  right: auto !important;\\n  bottom: 0px !important;\\n  left: 30px !important;\\n}\\n\\n.bliink-adunit--sticky-bottom_right {\\n  top: auto !important;\\n  right: 30px !important;\\n  bottom: 0px !important;\\n  left: auto !important;\\n}\\n\\n.bliink-adunit--sticky-top_right {\\n  top: 0px !important;\\n  right: 30px !important;\\n  bottom: auto !important;\\n  left: auto !important;\\n}\\n\\n.bliink-adunit--sticky-top_left {\\n  top: 0px !important;\\n  right: auto !important;\\n  bottom: auto !important;\\n  left: 30px !important;\\n}\\n\\n.bliink-adunit--sticky.in-image-frame,\\n.bliink-adunit.bliink-is-sticky.in-image-frame .bliink-adunit__overlay,\\n.bliink-adunit.bliink-is-sticky.in-image-frame .bliink-adunit__wrapper {\\n  height: 56.25vw !important;\\n  max-height: 180px !important;\\n  /* overflow: auto; */\\n}\\n\\n/* .bliink-adunit--sticky {\\n  overflow: hidden;\\n} */\\n\\n.bliink-adunit--sticky .bliink-adunit__overlay,\\n.bliink-adunit--sticky .bliink-adunit__wrapper {\\n  height: 100%;\\n  width: 100%;\\n  overflow: visible;\\n}\\n\\n.bliink-adunit.bliink-is-sticky .bliink-adunit__wrapper {\\n  overflow: visible !important;\\n}\\n\\n.bliink-adunit--sticky,\\n.bliink-adunit.bliink-is-sticky .bliink-adunit__overlay.bliink-is-active,\\n.bliink-adunit.bliink-is-sticky .bliink-adunit__wrapper {\\n  z-index: 2147483647;\\n}\\n\\n.bliink-adunit__close {\\n  background: url(\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABBRJREFUaAXVmstrE1EUxlsfUFsTN9WV1mwaEQQhBKooxIIgFEGhXYpLwYWb6h9Q3aorF4LL4h+gIC5EwSzECmmpKyEBDW1FKN2YWC0+wO83zR2m6bxuXmQOfJnJzLnnfN/cx9zcm8GBztiQwkwIeSEjHBNSwoiAbQp1YVWoCiXhg7AltGWDbZROq2yhgTM6IsLGIL8gFBuo2RQ2vq0IgOg14bowbAK1efyp8vPCU8GqVmwE7FXwK8INYVTohm0o6BPhufAvToK4Ao4o2EPhZJygHfD5pBi3hfWoWDzVKDslh8fC8SjHDt4/rFiXhGUhVESUgCkFuC8wovTa6F/k/yZUgpKHCaDwPSHMJyhup66Te1JYE3xFBJGj2fDkg+7rVk/tnLLx3lhvzurXiemwDGndGmmaOcT9zgjF0L1DxJ6m0jxxRpt+Iw9NOMFtR6toFsA436uhUqmsDW5wdM3bhHjDPhP68em7hHVCU7oqOG9sbw0wPeh38qLocISrY6YGmJi9EIa3L/f9J3Ony0LN1ACzSmvys7Ozo7Va7XSpVMpmMpn9cWXju7i4eIKyxIhbzuMHVzgPmBp4oPMLXLAxCKRSqX2UWVlZ2SoUCuVqtfonLAbki8VidmxszJl+1+v1v+l0+mNYmYB7b3X9DjVAIObz1lapVNypL4QgFlYTzeRJWC6Xf1kn3i4A5yEE8EvKeRrb1+N/Tk9Pf+bJmxJhIvzIU3ZmZuaLKW95hPMEAvKWBV13mgvNJkpEEPk4Tc5N5n+Spw88Es763493NYwgEbxtnu9x+wu+EfYeAby8jkY4Rt4OEkFB02E57yB5wq0h4I1wiG/tmp8Ib8wOkyf0d/qAWfrw5mrp3K9PmEBdIE/oEQQk2hDAolNHLKwJhQ2xbSTfRAArZm2bH3maDTDBuyCijoBVk6DVYxB5xvk474lW88IdAdU2AgyEkadT+3XsDtZEFQGlVgVEkTdxuyiixHuAOcXrxtHkjHVkSpzL5Q4a56ih0k+wYtTz+XzZxLA40rcuUgOcLFgUdF3Hx8fdSWAUeQr51UQ2mz3gBrQ7gfMWArDi9sHuc25u7ivzeZ5i3ImZEbG0tPSDssSwy+p6O5xpQljif1KyuTDvSEnGB1ydDRFTA9CmPSd6WYXOzOZCvxsc3be76cSGNDsjbC70q8ENjq55m5C5mKjF3R0LpQ0FzE6XhSnB737DraeH38p2S9i1ABBEcF3O7IxMCv1gd0XinR+RIAH4siPCzgibC2F+ut0148lD/mVQhihiiGBn5LxgvfQYlDTm9Q350Wx8n7yJESUAP5rTKyEnsHvYC2O0uSnsavPNyf1GoWYf8x2xid3oNiI48sZmfT5xfzWAvNcS+2cPrwhzTq2wSMw6a0bo2d9t/gM2qrY9fYtfdAAAAABJRU5ErkJggg==\\");\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  height: 15px;\\n  /* opacity: 0; */\\n  position: absolute;\\n  right: 5px;\\n  top: -20px;\\n  width: 15px;\\n  z-index: 2;\\n  cursor: pointer;\\n  transition: opacity 1s 1s;\\n  z-index: 99;\\n}\\n\\n.in-image-frame .bliink-adunit__close {\\n  top: 5px;\\n}\\n\\n.bliink-adunit--sticky .bliink-adunit__close {\\n  right: 5px;\\n  top: 5px;\\n}\\n\\n.bliink-is-vertical .bliink-adunit__close {\\n  right: 10px;\\n  top: 10px;\\n}\\n/*\\n.bliink-adunit.bliink-is-sticky .bliink-adunit__close {\\n  right: -10px;\\n  top: -10px;\\n}\\n */\\n.bliink-adunit--sticky.native .bliink-adunit__close {\\n  top: 15px;\\n}\\n.bliink-is-active .bliink-adunit__close {\\n  opacity: 1;\\n}\\n\\n@media (orientation: portrait) {\\n  .bliink-adunit--sticky {\\n    overflow: visible;\\n  }\\n\\n  .bliink-adunit--sticky,\\n  .bliink-adunit.bliink-is-sticky .bliink-adunit__overlay,\\n  .bliink-adunit.bliink-is-sticky .bliink-adunit__wrapper {\\n    bottom: 0 !important;\\n    left: 50% !important;\\n    transform: translate(-50%, 0);\\n    max-height: 100px !important;\\n    max-width: inherit !important;\\n  }\\n\\n  .bliink-adunit--sticky.in-image-frame,\\n  .bliink-adunit.bliink-is-sticky.in-image-frame .bliink-adunit__overlay,\\n  .bliink-adunit.bliink-is-sticky.in-image-frame .bliink-adunit__wrapper {\\n    max-height: 150px !important;\\n    max-width: 320px !important;\\n    overflow: visible;\\n  }\\n\\n  /* .bliink-adunit--sticky .bliink-adunit__close,\\n  .bliink-adunit.bliink-is-sticky .bliink-adunit__close {\\n    right: 1px;\\n    top: -25px;\\n    height: 15px;\\n    width: 15px;\\n  } */\\n\\n  .bliink-adunit--sticky-top_left .bliink-adunit__close,\\n  .bliink-adunit--sticky-top_right .bliink-adunit__close {\\n    top: 5px;\\n    right: 5px;\\n  }\\n\\n  .bliink-adunit--sticky.bliink-adunit--video {\\n    left: 0 !important;\\n    bottom: 0 !important;\\n    top: auto !important;\\n    transform: none;\\n    max-height: 60px !important;\\n    max-width: 120px !important;\\n    overflow: visible;\\n  }\\n\\n  /* .bliink-adunit--sticky.bliink-adunit--video .bliink-player__close,\\n  .bliink-adunit--sticky.bliink-adunit--video .bliink-btn--mute {\\n    display: none;\\n  } */\\n\\n  .bliink-adunit--sticky.bliink-adunit--sticky--unify.in-image-frame.bliink-adunit--sticky-bottom_right {\\n    top: auto !important;\\n    right: 10px !important;\\n    bottom: 10px !important;\\n    left: auto !important;\\n    max-height: 115px !important;\\n    max-width: 200px !important;\\n    transform: none;\\n  }\\n\\n  .bliink-adunit--sticky.bliink-adunit--sticky--unify.in-image-frame.bliink-adunit--sticky-bottom_left {\\n    top: auto !important;\\n    left: 10px !important;\\n    bottom: 10px !important;\\n    right: auto !important;\\n    max-height: 115px !important;\\n    max-width: 200px !important;\\n    transform: none;\\n  }\\n}\\n\\n/* PLAYER */\\n.bliink-player {\\n  background: #000;\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  transition: top ease-in 0.5s;\\n}\\n\\n.bliink-adunit--footer .bliink-player {\\n  position: fixed;\\n}\\n\\n/* .bliink-adunit__overlay.bliink-is-active .bliink-player,\\n.bliink-adview.bliink-is-active .bliink-player {\\n  top: 0;\\n} */\\n\\n.bliink-player__video,\\n.bliink-player__vpaid {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  min-width: inherit !important;\\n  min-height: inherit !important;\\n  max-width: inherit !important;\\n  max-height: inherit !important;\\n  top: 0;\\n  left: 0;\\n}\\n/* .bliink-player__vpaid {\\n  height: 100% !important;\\n  width: 100% !important;\\n} */\\n\\n.bliink-player__vpaid {\\n  z-index: 2;\\n}\\n\\n.bliink-player__close {\\n  background-image: url(\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABFFJREFUaAXVmj9PFFEUxRdN0OwWoIksFSYW7gZjgIZQUBCloICCL2Bhp42JlR8AEys3saAmfgEKNaFQQ4GJJhYShYXCAkLCAkFCsSuoUc9vzJuMw/yfYXe5yckMM/fdd87Mfe/dfUNHLhvrVJh+oST0Cj1CXrgoYEdCQ9gVasK6sCr8EFJZR4rWBbUdEAYFyCMijkEeEZ+EZaEuxLYkAi6ol3FhQuA8CztWkAXhtcB5ZIsj4JyijgpTQlfkHuI5Hsr9hbAk/I7SNKqASwp2X7gaJWgGPhuKMSschMU6H+ag+9eEh0Ixgm9WLt0KNCx8FQJFhAkYUYB7AjNKs40ZjP73hS2/zoME0PiuQO63yuh7SNgTPEX4CSBtePKtJK/ubbups6pwIp28BDBgyflWpI269TQeJCI+CkdOD7cAHJs9YJ18gs4ZE9eFd8If4+hOEeb5Zk2VhkOcI9zgaJtTAKsqi1S7GxztCsApgPLgtFbYLB8KHOFqmRFAYUZtc1YMrnC2p8kBnduvhRtRbGZmplSv1+9Uq9XJcrkcedbCV22maEuMKH25fOAK55yphahzKItjGQTy+bwlfGdn53BsbOzl2tpaIygI5BcXFyeLxaKVro1G47hQKDwPauNzjzJ8lhQyP0Z8/Pwvb25uHpi7EIJY0Jtwk6etYnwzMWIe++XfiQDrJGZjy316evoNT960DRLhRZ62ivHWtI95tB48ApLkoNUX6ULahInwIx8l5UJElRgDD4QbIY6Bt4MI0tCZ8/wddbzgG2IrCHgsXAlxDL3tJ4KGZsByniF5wu0hoCJYcypX0piXCGe8jMkTus4YoEjKxLzGhAl8CuQJfREBZ9oQ8F99nUZNUAoFTbEp+jxCQODKGTW4F3nSBpgYpyCigYBd00HSox955vko60TSfuGOgFqKALkg8gxqr4Gd4ZuoIYCN1kQWRt4EPUUR6whYFRLtEs/Pz9+Oukj5iVCMW0ZozKO1OYwAs0scs30u19fXxw6GZVHmeS8RinHZxIh5tB48AjBq69hWqVQ+UM+L2HbUwsyI0LFGW2LE7vhfA4uz+UFDKfFEsH6cJAzYzGZswT8S6mZf6Kf+4G2UhbNgr0RyBaImhTjn44K96HChTQ2OcLXMKYDXwseFdjc42l9xnAIgviRscNKmBjc42mbGgLnAnuMXYVjIrMw2wVMeSZ2nwndnHLcA7lGd8mVkRHC/IV1qif1Sr8+EbXfvXgLwYbtkXxjijzawOXH47MXDTwC+W8KewL58q94ET35OeC94WpAAGiCCLyOIaPaYIOdJG88nr+uWhQnAiXTiywgfF7qFZhizDQP2RM67OzelhPu619+k0ajA/nyXl0MG13jqzPNMlZl+6HZyo14aFyaErGonFqYFgRXWXqR0Hmpx3oA7GAXggDAoJNlfNWU8VeWy0LR/9lBfJ8zscJd0p1foEfKCGfisLQ2B3981YV2w6nkdU9lfDT+5/YD6K+QAAAAASUVORK5CYII=\\");\\n  background-color: rgba(0, 0, 0, 0.6);\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n  cursor: pointer;\\n  position: absolute;\\n  height: 27px;\\n  width: 27px;\\n  top: 10px;\\n  right: 10px;\\n  z-index: 99;\\n}\\n\\n.bliink-btn--mute {\\n  background-image: url(\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAVCAYAAABR915hAAAAAXNSR0IArs4c6QAAAelJREFUSA29lrtKA0EUhjdB0SiiaBNBJEJIGhtt1RdQMalEfYI8gBALUay81N7eIKCNeGssxVJtBDUoiIoBi6CgFiKs3wlnwzJsXExWD/x7zpw58/8zy+7MWFYVZtt2FMyCpN9watbAul+dbz8kY+AZiG35DaBmtVRp29N+tZ79DG4CG0riuAPPYleSwgg4A19gwNXlHzKgH1wC0zyFKZoDWYeZOAY+wImT+9FTGAZZ8Am8rJJwTounHAHaK5obllyIRiM+DVok4bJ64kkw6MqZ4WEoFBoxk3C2kzsFbaCHmhdyHcQP4Ih2yiIhX2e1Vl4xBBmwCHHJiNNKuuDK7ZF7Aw1hkl1OR40+wfgZSFPCw6p2cNdgQtpqMtFmMCTCQZms7Aksuwj3iRNMpltz5+rjgQmzwldIt0ESoVYVuFAfU19QHw1MWAlv1MfVF9XLxyZWbgctLII2cCZgCsqXLVYMTJjXK7/OOMjraxeBXnlgd6WnZUXVF+o0CMLNQ9IJMi6yUWKZyL3m+tTfyooftVGry0OwhMiuEPEGZFOS0ysnbTXZbN7BsexcEQL59/5350KwojGpP9urK4q6O5iAnE5XwLTylmnU13Y6GWRyHm8ayp7Cxrjqz2OD6Lc3ELn6iFV3AzHEa75zfQNWzg+otWuu/gAAAABJRU5ErkJggg==\\");\\n  background-color: rgba(0, 0, 0, 0.6);\\n  background-size: 14px auto;\\n  background-repeat: no-repeat;\\n  background-position: 7px center;\\n  cursor: pointer;\\n  color: #fff;\\n  position: absolute;\\n  bottom: 10px;\\n  right: 10px;\\n  z-index: 99;\\n  width: 0px;\\n  overflow: hidden;\\n  transition: width 1s 0s;\\n  padding: 7px 0 7px 27px;\\n  height: 13px;\\n  border-radius: 100px;\\n  -webkit-box-sizing: content-box;\\n  -moz-box-sizing: content-box;\\n  box-sizing: content-box;\\n}\\n\\n.bliink-btn--mute.bliink-is-muted {\\n  background-image: url(\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAVCAYAAABR915hAAAAAXNSR0IArs4c6QAAAY5JREFUSA29lj1LA0EQhu+S+BFUIpjKKlhqZyX4KyzFVrEQbKwsLG38AWKjBAtFtLHQRuVQLBQbwSJYqKVdilR25zPnDpzHBe5jNwMPs7tz+767m2MvnlcgwjD0YRO+YbeARP4pGLUgAI2P/Co5Z+C0Cj11NPkzp0z2xzGYhuuEoXbdGKO+Al11ScmFjGsIzbL3dRhNOYM5xhZTxvsOobdAcRl2fN/vxR+kVpVxePPo9DtCSpni346ZsWVmPZEbaky7Cqem1hZjeaBMJI0riB0bwWdyA+Rkz8zYI3nCurHsEGExbxujF/KFaT+Qx6NToGF1x7GjFfMjYyjpHsa0XtGGgywv0mRMV3Y6on0nxuxsCINzWIIADmEe7qhNkaPfw+pRIzwMlyBxC3WQu/0AJF6haf3lQnRb1IkbqEe7+9ugmO9LgTipMdbVoqV8hY4c9R4XyI9q0hbDDfodeJde2ZvrC9EZNbCWWZiTuzrTAjEf/NcpvjIWsAaD+x4nzFuYB6Dh/h+ILgBHeSlL/ef6BRERXKYhMFIOAAAAAElFTkSuQmCC\\");\\n}\\n\\n.bliink-btn--mute.bliink-is-muted:hover,\\n.bliink-show-tooltip.bliink-btn--mute {\\n  width: 86px;\\n}\\n\\n.bliink-btn--mute span {\\n  width: 90px;\\n  display: block;\\n  vertical-align: middle;\\n  line-height: 14px;\\n  font-size: 12px;\\n  font-family: \\"Helvetica\\", Arial, sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.bliink-player-progress {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  height: 3px;\\n  z-index: 999;\\n  width: 100%;\\n}\\n\\n.bliink-player-progress-bar {\\n  background: #d50984;\\n  background: -webkit-linear-gradient(330deg, #d50984 0%, #ff6000 80%);\\n  background: -moz-linear-gradient(330deg, #d50984 0%, #ff6000 80%);\\n  background: -o-linear-gradient(330deg, #d50984 0%, #ff6000 80%);\\n  background: linear-gradient(120deg, #d50984 0%, #ff6000 80%);\\n  position: absolute;\\n  left: 0;\\n  height: 100%;\\n  width: 0;\\n}\\n\\n#share_1 {\\n  width: 100px !important;\\n}\\n\\n.bliink-button-play {\\n  border: 0;\\n  background: transparent;\\n  box-sizing: border-box;\\n  width: 0;\\n  height: 42px;\\n  border-color: transparent transparent transparent #202020;\\n  transition: 100ms all ease;\\n  cursor: pointer;\\n  border-style: solid;\\n  position: absolute;\\n  bottom: 10px;\\n  left: 10px;\\n  z-index: 99;\\n  border-width: 20px 0 20px 35px;\\n}\\n.bliink-button-play.played {\\n  border-style: double;\\n  border-width: 0px 0 0px 34px;\\n  height: 30px;\\n  bottom: 15px;\\n}\\n.bliink-button-play:hover {\\n  border-color: transparent transparent transparent #404040;\\n}\\n\\n.bliink-replay-button {\\n  background-image: url(\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABWUlEQVQ4jcXSv0vDUBAH8O/F9BeBFLEgpeBfULfiX6Cbjm8RyZD3kKSCYKeCS3eHIuhSSqc6dVMHEf+Bouig/QsEl+ISENonzbm0UkxCRm+7d3cf7uABCSGEWKm77nlSfRFG3KPv+6ulYvGOiY7TAIoFXPcGRLvz9AvAGwP9zyDoDAYDnboBcjkHRA8AYGm9zkRNAnZKtj30HKcSO9NqtUzfdbeXc0/Ky+UeT6mmL+WzECIbATwp3bqU94nHLs6T8tpX6ihyAjF7M6KzNICY22A+iAAwjCobxksaMAGeAFSjAPPMNM1JGmBNpwQgjALAKNS6lgZ8Fwo1AkZxG1wR80kaQMwNAP0IYFpWB8CGp1Qzabiu1CkTlcdB0P0Flxs8x6lQJnML4J2Y28jnHwEg1HqLmBtMVDbDcO+i1/uIBQBACJFds+1DA9hnYHPe9AqgPw6C7t+v/P/xAxmWczrCN0o5AAAAAElFTkSuQmCC\\");\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n  font-family: \\"Helvetica\\", Arial, sans-serif;\\n  height: 20px;\\n  width: 20px;\\n}\\n.bliink-replay-button_wrapper {\\n  display: none;\\n}\\n.bliink-replay-button_wrapper.end {\\n  position: absolute;\\n  /* width: 250px; */\\n  z-index: 99;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  top: 0;\\n  bottom: 0;\\n  margin-top: auto;\\n  margin-bottom: auto;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-weight: 600;\\n  background-color: #ffffffb3;\\n}\\n.bliink-replay-button_text {\\n  margin: 0;\\n  color: #696363;\\n  font-size: 21px;\\n  margin-left: 10px;\\n}\\n\\n.bliink-replay-button_circle {\\n  width: 30px;\\n  height: 30px;\\n  border: 2px solid #696363;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 50%;\\n}\\n", ""]);\n\n// exports\n\n\n//# sourceURL=webpack://native/./src/stylesheets/style.css?./node_modules/css-loader/index.js')},9252:module=>{eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn "@media " + item[2] + "{" + content + "}";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || \'\';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === \'function\') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn \'/*# sourceURL=\' + cssMapping.sourceRoot + source + \' */\'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n\t}\n\n\treturn [content].join(\'\\n\');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = \'sourceMappingURL=data:application/json;charset=utf-8;base64,\' + base64;\n\n\treturn \'/*# \' + data + \' */\';\n}\n\n\n//# sourceURL=webpack://native/./node_modules/css-loader/lib/css-base.js?')},2616:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// css-to-string-loader: transforms styles from css-loader to a string output\n\n// Get the styles\nvar styles = __webpack_require__(7758);\n\nif (typeof styles === 'string') {\n  // Return an existing string\n  module.exports = styles;\n} else {\n  // Call the custom toString method from css-loader module\n  module.exports = styles.toString();\n}\n\n//# sourceURL=webpack://native/./src/Banner/style.css?")},355:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// css-to-string-loader: transforms styles from css-loader to a string output\n\n// Get the styles\nvar styles = __webpack_require__(8564);\n\nif (typeof styles === 'string') {\n  // Return an existing string\n  module.exports = styles;\n} else {\n  // Call the custom toString method from css-loader module\n  module.exports = styles.toString();\n}\n\n//# sourceURL=webpack://native/./src/Native/style.css?")},9799:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// css-to-string-loader: transforms styles from css-loader to a string output\n\n// Get the styles\nvar styles = __webpack_require__(1072);\n\nif (typeof styles === 'string') {\n  // Return an existing string\n  module.exports = styles;\n} else {\n  // Call the custom toString method from css-loader module\n  module.exports = styles.toString();\n}\n\n//# sourceURL=webpack://native/./src/stylesheets/style.css?")},8500:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "AbsoluteTimeOffset": () => (/* reexport */ AbsoluteTimeOffset),\n  "AdBuffet": () => (/* reexport */ AdBuffet),\n  "AdPod": () => (/* reexport */ AdPod),\n  "AdSystem": () => (/* reexport */ AdSystem),\n  "Category": () => (/* reexport */ Category),\n  "Click": () => (/* reexport */ Click),\n  "Companion": () => (/* reexport */ Companion),\n  "CompanionAds": () => (/* reexport */ CompanionAds),\n  "Creative": () => (/* reexport */ Creative),\n  "CreativeExtension": () => (/* reexport */ CreativeExtension),\n  "Extension": () => (/* reexport */ Extension),\n  "FlashResource": () => (/* reexport */ FlashResource),\n  "HTMLResource": () => (/* reexport */ HTMLResource),\n  "IFrameResource": () => (/* reexport */ IFrameResource),\n  "Icon": () => (/* reexport */ Icon),\n  "IconClicks": () => (/* reexport */ IconClicks),\n  "Impression": () => (/* reexport */ Impression),\n  "InLine": () => (/* reexport */ InLine),\n  "InteractiveCreativeFile": () => (/* reexport */ InteractiveCreativeFile),\n  "JavaScriptResource": () => (/* reexport */ JavaScriptResource),\n  "Linear": () => (/* reexport */ Linear),\n  "MediaFile": () => (/* reexport */ MediaFile),\n  "NonLinear": () => (/* reexport */ NonLinear),\n  "NonLinearAds": () => (/* reexport */ NonLinearAds),\n  "Pricing": () => (/* reexport */ Pricing),\n  "RelativeTimeOffset": () => (/* reexport */ RelativeTimeOffset),\n  "SortedList": () => (/* reexport */ SortedList),\n  "SortedListItem": () => (/* reexport */ SortedListItem),\n  "StaticResource": () => (/* reexport */ StaticResource),\n  "Survey": () => (/* reexport */ Survey),\n  "TrackingEvent": () => (/* reexport */ TrackingEvent),\n  "TrackingEvents": () => (/* reexport */ TrackingEvents),\n  "UniversalAdId": () => (/* reexport */ UniversalAdId),\n  "VAST": () => (/* reexport */ VAST),\n  "Verification": () => (/* reexport */ Verification),\n  "VideoClicks": () => (/* reexport */ VideoClicks),\n  "ViewableImpression": () => (/* reexport */ ViewableImpression),\n  "Wrapper": () => (/* reexport */ Wrapper)\n});\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/util/sorted-list-item.js\n/**\n * Represents an item in a {@link SortedList}. Base class for {@link Ad} and\n * {@link Creative}.\n *\n * @abstract\n */\nclass SortedListItem {\n  constructor () {\n    this._sequence = null\n  }\n\n  /**\n   * The sequence number of this item within its parent.\n   *\n   * @type {number}\n   */\n  get sequence () {\n    return this._sequence\n  }\n\n  set sequence (value) {\n    this._sequence = value\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/util/sorted-list.js\n/**\n * Represents a list of {@link SortedListItem}s, ordered by\n * {@link SortedListItem#sequence}.\n */\nclass SortedList {\n  constructor () {\n    this._contents = []\n  }\n\n  /**\n   * The length of this list.\n   *\n   * @type {number}\n   */\n  get length () {\n    return this._contents.length\n  }\n\n  /**\n   * Adds the given item to this list.\n   *\n   * @param {SortedListItem} item - the item.\n   */\n  add (item) {\n    this._contents.push(item)\n    this._contents.sort((a, b) => (a.sequence || 0) - (b.sequence || 0))\n  }\n\n  /**\n   * Removes the given item from this list.\n   *\n   * @param {SortedListItem} item - the item.\n   */\n  remove (item) {\n    let index = this._contents.indexOf(item)\n    while (index >= 0) {\n      this._contents.splice(index, 1)\n      index = this._contents.indexOf(item, index)\n    }\n  }\n\n  /**\n   * Gets the item at the given index.\n   *\n   * @param {number} index - the index.\n   * @return {SortedListItem} the item.\n   */\n  get (index) {\n    return this._contents[index]\n  }\n\n  /**\n   * Empties this list.\n   */\n  clear () {\n    this._contents.length = 0\n  }\n\n  [Symbol.iterator] () {\n    const that = this\n    let i = 0\n    return {\n      next () {\n        return (i < that.length) ? { value: that.get(i++), done: false }\n          : { value: undefined, done: true }\n      }\n    }\n  }\n\n  /**\n   * Creates an array representation of this list.\n   *\n   * @return {SortedListItem[]} the item array.\n   */\n  toArray () {\n    return this._contents.slice()\n  }\n\n  get $type () {\n    return \'SortedList\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/ad/abstract.js\n\n\n\n/**\n * Abstract class for ads (i.e., {@link InLine} and {@link Wrapper}).\n *\n * @abstract\n * @protected\n */\nclass AbstractAd extends SortedListItem {\n  constructor () {\n    super()\n    this._id = null\n    this._conditionalAd = false\n    this._adSystem = null\n    this._impressions = []\n    this._pricing = null\n    this._errors = []\n    this._viewableImpression = null\n    this._verifications = []\n    this._extensions = []\n    this._creatives = new SortedList()\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ad server-defined identifier for this ad.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  /**\n   * The conditional attribute for this ad.\n   *\n   * @type {boolean}\n   */\n  get conditionalAd () {\n    return this._conditionalAd\n  }\n\n  set conditionalAd (value) {\n    this._conditionalAd = value\n  }\n\n  // Children.\n\n  /**\n   * The ad system for this ad.\n   *\n   * @type {AdSystem}\n   */\n  get adSystem () {\n    return this._adSystem\n  }\n\n  set adSystem (value) {\n    this._adSystem = value\n  }\n\n  /**\n   * The impression-tracking configurations for this ad.\n   *\n   * @type {Impression[]}\n   */\n  get impressions () {\n    return this._impressions\n  }\n\n  /**\n   * The pricing configuration for this ad.\n   *\n   * @type {Pricing}\n   */\n  get pricing () {\n    return this._pricing\n  }\n\n  set pricing (value) {\n    this._pricing = value\n  }\n\n  /**\n   * The error-tracking URIs for this ad.\n   *\n   * @type {string[]}\n   */\n  get errors () {\n    return this._errors\n  }\n\n  /**\n   * The viewable impression for this ad.\n   *\n   * @type {ViewableImpression}\n   */\n  get viewableImpression () {\n    return this._viewableImpression\n  }\n\n  set viewableImpression (value) {\n    this._viewableImpression = value\n  }\n\n  /**\n   * The verifications for this ad.\n   *\n   * @type {Verification[]}\n   */\n  get verifications () {\n    return this._verifications\n  }\n\n  /**\n   * The extensions for this ad.\n   *\n   * @type {Extension[]}\n   */\n  get extensions () {\n    return this._extensions\n  }\n\n  /**\n   * The creatives for this ad.\n   *\n   * @type {SortedList.<Creative>}\n   */\n  get creatives () {\n    return this._creatives\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/ad/in-line.js\n\n\n/**\n * Represents an InLine ad.\n */\nclass InLine extends AbstractAd {\n  constructor () {\n    super()\n    this._adTitle = null\n    this._categories = []\n    this._description = null\n    this._surveys = []\n  }\n\n  // Children.\n\n  /**\n   * The title for this ad.\n   *\n   * @type {string}\n   */\n  get adTitle () {\n    return this._adTitle\n  }\n\n  set adTitle (value) {\n    this._adTitle = value\n  }\n\n  /**\n   * The categories for this ad.\n   *\n   * @type {Category[]}\n   */\n  get categories () {\n    return this._categories\n  }\n\n  /**\n   * The description for this ad.\n   *\n   * @type {string}\n   */\n  get description () {\n    return this._description\n  }\n\n  set description (value) {\n    this._description = value\n  }\n\n  /**\n   * The advertiser name for this ad.\n   *\n   * @type {string}\n   */\n  get advertiser () {\n    return this._advertiser\n  }\n\n  set advertiser (value) {\n    this._advertiser = value\n  }\n\n  /**\n   * The survey URI for this ad.\n   *\n   * @type {Survey[]}\n   */\n  get surveys () {\n    return this._surveys\n  }\n\n  get $type () {\n    return \'InLine\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/ad/wrapper.js\n\n\n/**\n * Represents a wrapper ad.\n */\nclass Wrapper extends AbstractAd {\n  constructor () {\n    super()\n    this._followAdditionalWrappers = true\n    this._allowMultipleAds = false\n    this._fallbackOnNoAd = false\n    this._vastAdTagURI = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * Whether subsequent wrappers after a requested VAST response is allowed.\n   *\n   * @type {boolean}\n   */\n  get followAdditionalWrappers () {\n    return this._followAdditionalWrappers\n  }\n\n  set followAdditionalWrappers (value) {\n    this._followAdditionalWrappers = value\n  }\n\n  /**\n   * Whether multiple ads are allowed in the requested VAST response.\n   *\n   * @type {boolean}\n   */\n  get allowMultipleAds () {\n    return this._allowMultipleAds\n  }\n\n  set allowMultipleAds (value) {\n    this._allowMultipleAds = value\n  }\n\n  /**\n   * Whether to use an available Ad when the requested VAST response returns no\n   * ads.\n   *\n   * @type {boolean}\n   */\n  get fallbackOnNoAd () {\n    return this._fallbackOnNoAd\n  }\n\n  set fallbackOnNoAd (value) {\n    this._fallbackOnNoAd = value\n  }\n\n  // Children.\n\n  /**\n   * The URI to a VAST response that may be another VAST {@link Wrapper} or a\n   * VAST {@link InLine} ad.\n   *\n   * @type {string}\n   */\n  get vastAdTagURI () {\n    return this._vastAdTagURI\n  }\n\n  set vastAdTagURI (value) {\n    this._vastAdTagURI = value\n  }\n\n  get $type () {\n    return \'Wrapper\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/clicks/abstract.js\n/**\n * Stores the click-through URI and a set of click-tracking pixels.\n *\n * @abstract\n * @protected\n */\nclass AbstractClicks {\n  constructor () {\n    this._clickThrough = null\n    this._clickTrackings = []\n  }\n\n  // Children.\n\n  /**\n   * The click-through configuration.\n   *\n   * @type {Click}\n   */\n  get clickThrough () {\n    return this._clickThrough\n  }\n\n  set clickThrough (value) {\n    this._clickThrough = value\n  }\n\n  /**\n   * The click-tracking configurations.\n   *\n   * @type {Click[]}\n   */\n  get clickTrackings () {\n    return this._clickTrackings\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/clicks/icon.js\n\n\n/**\n * Represents the click tracking configuration for an {@link Icon}.\n */\nclass IconClicks extends AbstractClicks {\n  get $type () {\n    return \'IconClicks\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/clicks/video.js\n\n\n/**\n * Represents the click-tracking configuration for a {@link Linear} creative.\n */\nclass VideoClicks extends AbstractClicks {\n  constructor () {\n    super()\n    this._customClicks = []\n  }\n\n  // Children.\n\n  /**\n   * The custom-click configurations.\n   *\n   * @type {Click[]}\n   */\n  get customClicks () {\n    return this._customClicks\n  }\n\n  get $type () {\n    return \'VideoClicks\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/ad-system.js\n/**\n * Stores information about the ad system.\n */\nclass AdSystem {\n  constructor () {\n    this._version = null\n    this._name = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The version of the ad system.\n   *\n   * @type {string}\n   */\n  get version () {\n    return this._version\n  }\n\n  set version (value) {\n    this._version = value\n  }\n\n  // Content.\n\n  /**\n   * The name of the ad server that returned the ad.\n   *\n   * @type {string}\n   */\n  get name () {\n    return this._name\n  }\n\n  set name (value) {\n    this._name = value\n  }\n\n  get $type () {\n    return \'AdSystem\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/category.js\n/**\n * Pricing information for real-time bidding.\n */\nclass Category {\n  constructor () {\n    this._authority = null\n    this._code = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The URL for the organizational authority that produced the list being used\n   * to identify the ad content.\n   *\n   * @type {string}\n   */\n  get authority () {\n    return this._authority\n  }\n\n  set authority (value) {\n    this._authority = value\n  }\n\n  // Content.\n\n  /**\n   * The category code or label that identifies the ad content.\n   *\n   * @type {string}\n   */\n  get code () {\n    return this._code\n  }\n\n  set code (value) {\n    this._code = value\n  }\n\n  get $type () {\n    return \'Category\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/click.js\n/**\n * Describes a click configuration.\n */\nclass Click {\n  constructor () {\n    this._id = null\n    this._uri = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ID of this click.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  // Content.\n\n  /**\n   * The URI of this tracking pixel.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n\n  get $type () {\n    return \'Click\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/creative.js\n\n\n/**\n * Represents a creative.\n */\nclass Creative extends SortedListItem {\n  constructor () {\n    super()\n    this._id = null\n    this._adID = null\n    this._apiFramework = null\n    this._universalAdId = null\n    this._extensions = []\n    this._linear = null\n    this._companionAds = null\n    this._nonLinearAds = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ID of this creative.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  /**\n   * The ID of the {@link Ad} with which this creative is served.\n   *\n   * Required for VAST 2.0 and 3.0, optional for VAST 4.0.\n   *\n   * @type {string}\n   */\n  get adID () {\n    return this._adID\n  }\n\n  set adID (value) {\n    this._adID = value\n  }\n\n  /**\n   * The string that identifies an API that is needed to execute this creative.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n\n  // Children.\n\n  /**\n   * The unique creative identifier for this creative.\n   *\n   * @type {UniversalAdId}\n   */\n  get universalAdId () {\n    return this._universalAdId\n  }\n\n  set universalAdId (value) {\n    this._universalAdId = value\n  }\n\n  /**\n   * The creative extensions for this creative.\n   *\n   * @type {CreativeExtension[]}\n   */\n  get extensions () {\n    return this._extensions\n  }\n\n  /**\n   * The linear ad for this creative, if any.\n   *\n   * @type {Linear}\n   */\n  get linear () {\n    return this._linear\n  }\n\n  set linear (value) {\n    this._linear = value\n  }\n\n  /**\n   * The companion ads for this creative, if any.\n   *\n   * @type {CompanionAds}\n   */\n  get companionAds () {\n    return this._companionAds\n  }\n\n  set companionAds (value) {\n    this._companionAds = value\n  }\n\n  /**\n   * The non-linear ads for this creative, if any.\n   *\n   * @type {NonLinearAds}\n   */\n  get nonLinearAds () {\n    return this._nonLinearAds\n  }\n\n  set nonLinearAds (value) {\n    this._nonLinearAds = value\n  }\n\n  get $type () {\n    return \'Creative\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/icon.js\n/**\n * Represents an icon used in a {@link Linear} creative.\n */\nclass Icon {\n  constructor () {\n    this._program = null\n    this._width = null\n    this._height = null\n    this._xPosition = null\n    this._yPosition = null\n    this._duration = null\n    this._offset = null\n    this._apiFramework = null\n    this._pxratio = null\n    this._resource = null\n    this._clicks = null\n    this._viewTrackings = []\n  }\n\n  // Attribute(s).\n\n  /**\n   * The industry initiative that this icon supports.\n   *\n   * @type {string}\n   */\n  get program () {\n    return this._program\n  }\n\n  set program (value) {\n    this._program = value\n  }\n\n  /**\n   * The width of this icon in pixels.\n   *\n   * @type {number}\n   */\n  get width () {\n    return this._width\n  }\n\n  set width (value) {\n    this._width = value\n  }\n\n  /**\n   * The height of this icon in pixels.\n   *\n   * @type {number}\n   */\n  get height () {\n    return this._height\n  }\n\n  set height (value) {\n    this._height = value\n  }\n\n  /**\n   * The horizontal position of this icon. Either a number of pixels or the\n   * string `"left"` or `"right"`.\n   *\n   * @type {number|string}\n   */\n  get xPosition () {\n    return this._xPosition\n  }\n\n  set xPosition (value) {\n    this._xPosition = value\n  }\n\n  /**\n   * The vertical position of this icon. Either a number of pixels or the\n   * string `"top"` or `"bottom"`.\n   *\n   * @type {number|string}\n   */\n  get yPosition () {\n    return this._yPosition\n  }\n\n  set yPosition (value) {\n    this._yPosition = value\n  }\n\n  /**\n   * The duration of this icon in seconds.\n   *\n   * @type {number}\n   */\n  get duration () {\n    return this._duration\n  }\n\n  set duration (value) {\n    this._duration = value\n  }\n\n  /**\n   * The time offset of this icon in seconds.\n   *\n   * @type {number}\n   */\n  get offset () {\n    return this._offset\n  }\n\n  set offset (value) {\n    this._offset = value\n  }\n\n  /**\n   * The API framework used by this icon.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n\n  /**\n   * The pixel ratio for which the icon creative is intended.\n   *\n   * @type {string}\n   */\n  get pxratio () {\n    return this._pxratio\n  }\n\n  set pxratio (value) {\n    this._pxratio = value\n  }\n\n  // Children.\n\n  /**\n   * The resource associated with this icon.\n   *\n   * @type {Resource}\n   */\n  get resource () {\n    return this._resource\n  }\n\n  set resource (value) {\n    this._resource = value\n  }\n\n  /**\n   * The click-tracking configuration for this icon.\n   *\n   * @type {IconClicks}\n   */\n  get clicks () {\n    return this._clicks\n  }\n\n  set clicks (value) {\n    this._clicks = value\n  }\n\n  /**\n   * The view-tracking URIs for this icon.\n   *\n   * @type {string[]}\n   */\n  get viewTrackings () {\n    return this._viewTrackings\n  }\n\n  get $type () {\n    return \'Icon\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/impression.js\n/**\n * Represents an impression.\n */\nclass Impression {\n  constructor () {\n    this._id = null\n    this._uri = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ad server id for the impression.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  // Content.\n\n  /**\n   * The URI of this impression resource.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n\n  get $type () {\n    return \'Impression\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/interactive-creative-file.js\n/**\n * Represents an interactive creative file used in a {@link Linear} creative.\n */\nclass InteractiveCreativeFile {\n  constructor () {\n    this._type = null\n    this._apiFramework = null\n    this._url = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The MIME type of this interactive creative file.\n   *\n   * @type {string}\n   */\n  get type () {\n    return this._type\n  }\n\n  set type (value) {\n    this._type = value\n  }\n\n  /**\n   * The API framework used by this interactive creative file.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n\n  // Content.\n\n  /**\n   * The URI to this interactive creative file.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n\n  get $type () {\n    return \'InteractiveCreativeFile\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/media-file.js\n/**\n * Represents a media file used in a {@link Linear} creative.\n */\nclass MediaFile {\n  constructor () {\n    this._delivery = null\n    this._type = null\n    this._width = null\n    this._height = null\n    this._codec = null\n    this._id = null\n    this._bitrate = null\n    this._minBitrate = null\n    this._maxBitrate = null\n    this._scalable = false\n    this._maintainAspectRatio = false\n    this._apiFramework = null\n    this._uri = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The delivery method for this media file.\n   *\n   * @type {string}\n   */\n  get delivery () {\n    return this._delivery\n  }\n\n  set delivery (value) {\n    this._delivery = value\n  }\n\n  /**\n   * The MIME type of this media file.\n   *\n   * @type {string}\n   */\n  get type () {\n    return this._type\n  }\n\n  set type (value) {\n    this._type = value\n  }\n\n  /**\n   * The width of this media file in pixels.\n   *\n   * @type {number}\n   */\n  get width () {\n    return this._width\n  }\n\n  set width (value) {\n    this._width = value\n  }\n\n  /**\n   * The height of this media file in pixels.\n   *\n   * @type {number}\n   */\n  get height () {\n    return this._height\n  }\n\n  set height (value) {\n    this._height = value\n  }\n\n  /**\n   * The codec of this media file in RFC 4281 format.\n   *\n   * @type {string}\n   */\n  get codec () {\n    return this._codec\n  }\n\n  set codec (value) {\n    this._codec = value\n  }\n\n  /**\n   * The ID of this media file.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  /**\n   * The bitrate of this media file in kbps.\n   *\n   * @type {number}\n   */\n  get bitrate () {\n    return this._bitrate\n  }\n\n  set bitrate (value) {\n    this._bitrate = value\n  }\n\n  /**\n   * The minimum bitrate of this media file in kbps.\n   *\n   * @type {number}\n   */\n  get minBitrate () {\n    return this._minBitrate\n  }\n\n  set minBitrate (value) {\n    this._minBitrate = value\n  }\n\n  /**\n   * The maximum bitrate of this media file in kbps.\n   *\n   * @type {number}\n   */\n  get maxBitrate () {\n    return this._maxBitrate\n  }\n\n  set maxBitrate (value) {\n    this._maxBitrate = value\n  }\n\n  /**\n   * Whether this media file is meant to scale to larger dimensions.\n   *\n   * @type {boolean}\n   */\n  get scalable () {\n    return this._scalable\n  }\n\n  set scalable (value) {\n    this._scalable = value\n  }\n\n  /**\n   * Whether this media file\'s aspect ratio should be maintained when scaled.\n   *\n   * @type {boolean}\n   */\n  get maintainAspectRatio () {\n    return this._maintainAspectRatio\n  }\n\n  set maintainAspectRatio (value) {\n    this._maintainAspectRatio = value\n  }\n\n  /**\n   * The API framework used by this media file.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n\n  // Content.\n\n  /**\n   * The URI to this media file.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n\n  get $type () {\n    return \'MediaFile\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/pricing.js\n/**\n * Represents pricing information for real-time bidding.\n */\nclass Pricing {\n  constructor () {\n    this._model = null\n    this._currency = null\n    this._value = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The pricing model. Either `"CPM"`, `"CPC"`, `"CPE"`, or `"CPV"`.\n   *\n   * @type {string}\n   */\n  get model () {\n    return this._model\n  }\n\n  set model (value) {\n    this._model = value\n  }\n\n  /**\n   * The three-letter ISO-4217 currency symbol that identifies the currency of\n   * the value provided (e.g. `"USD"`, `"GBP"`, etc.).\n   *\n   * @type {string}\n   */\n  get currency () {\n    return this._currency\n  }\n\n  set currency (value) {\n    this._currency = value\n  }\n\n  // Content.\n\n  /**\n   * The price that can be used in real-time bidding systems.\n   *\n   * @type {number}\n   */\n  get value () {\n    return this._value\n  }\n\n  set value (value) {\n    this._value = value\n  }\n\n  get $type () {\n    return \'Pricing\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/survey.js\n/**\n * Represents survey information for data collection.\n */\nclass Survey {\n  constructor () {\n    this._type = null\n    this._uri = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The MIME type of the resource being served.\n   *\n   * @type {string}\n   */\n  get type () {\n    return this._type\n  }\n\n  set type (value) {\n    this._type = value\n  }\n\n  // Content.\n\n  /**\n   * The URI to any resource relating to an integrated survey.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n\n  get $type () {\n    return \'Survey\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/tracking-event.js\n/**\n * Represents an event to be tracked.\n */\nclass TrackingEvent {\n  constructor () {\n    this._uri = null\n    this._offset = null\n  }\n\n  // Content.\n\n  /**\n   * The tracking URI for this event configuration.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n\n  /**\n   * The time offset for this event configuration.\n   *\n   * @type {TimeOffset}\n   */\n  get offset () {\n    return this._offset\n  }\n\n  set offset (value) {\n    this._offset = value\n  }\n\n  get $type () {\n    return \'TrackingEvent\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/tracking-events.js\n/**\n * Configures tracking events. Maps VAST event types to arrays of\n * {@link TrackingEvent} instances.\n */\nclass TrackingEvents {\n  constructor () {\n    this._map = Object.create(null)\n  }\n\n  /**\n   * The event types tracked by this configuration.\n   *\n   * @type {string[]}\n   */\n  get types () {\n    return Object.keys(this._map)\n  }\n\n  /**\n   * Gets the tracking-event configurations for the given event type.\n   *\n   * @param {string} event - the event type.\n   * @return {TrackingEvent[]} the tracking event configurations.\n   */\n  get (event) {\n    return this._map[event] || []\n  }\n\n  /**\n   * Adds a tracking-event configuration for the given event type.\n   *\n   * @param {string} event - the event type.\n   * @param {TrackingEvent} config - the tracking event configuration.\n   */\n  add (event, config) {\n    this._map[event] = this._map[event] || []\n    this._map[event].push(config)\n  }\n\n  get $type () {\n    return \'TrackingEvents\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/universal-ad-id.js\n/**\n * Represents a unique identifier for an ad.\n */\nclass UniversalAdId {\n  constructor () {\n    this._idRegistry = \'unknown\'\n    this._idValue = \'unknown\'\n    this._creativeIdentifier = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The registry URL for the unique creative identifier.\n   *\n   * @type {string}\n   */\n  get idRegistry () {\n    return this._idRegistry\n  }\n\n  set idRegistry (value) {\n    this._idRegistry = value\n  }\n\n  /**\n   * A string for the unique creative identifier.\n   *\n   * @type {string}\n   */\n  get idValue () {\n    return this._idValue\n  }\n\n  set idValue (value) {\n    this._idValue = value\n  }\n\n  // Content.\n\n  /**\n   * The string identifying the unique creative identifier.\n   *\n   * @type {string}\n   */\n  get creativeIdentifier () {\n    return this._creativeIdentifier\n  }\n\n  set creativeIdentifier (value) {\n    this._creativeIdentifier = value\n  }\n\n  get $type () {\n    return \'UniversalAdId\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/util/ad-buffet.js\n\n\n/**\n * Represents a VAST ad buffet.\n */\nclass AdBuffet {\n  constructor () {\n    this._ads = new SortedList()\n    this._adPod = null\n  }\n\n  /**\n   * The ads in this ad buffet.\n   *\n   * @type {SortedList}\n   */\n  get ads () {\n    return this._ads\n  }\n\n  /**\n   * The ad pod for this ad buffet.\n   *\n   * @type {AdPod}\n   */\n  get adPod () {\n    return this._adPod\n  }\n\n  set adPod (value) {\n    this._adPod = value\n  }\n\n  get $type () {\n    return \'AdBuffet\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/vast.js\n\n\n/**\n * Represents a VAST document.\n */\nclass VAST extends AdBuffet {\n  constructor () {\n    super()\n    this._uri = null\n    this._version = null\n    this._errors = []\n  }\n\n  /**\n   * The URI associated with this document.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (uri) {\n    this._uri = uri\n  }\n\n  // Attribute(s).\n\n  /**\n   * The VAST version used by this document.\n   *\n   * @type {number}\n   */\n  get version () {\n    return this._version\n  }\n\n  set version (value) {\n    this._version = value\n  }\n\n  // Children.\n\n  /**\n   * The error-tracking URIs for this document.\n   *\n   * @type {string[]}\n   */\n  get errors () {\n    return this._errors\n  }\n\n  get $type () {\n    return \'VAST\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/verification.js\n/**\n * Represents a list of verification resources for a vendor.\n */\nclass Verification {\n  constructor () {\n    this._vendor = null\n    this._javaScriptResources = []\n    this._flashResources = []\n    this._viewableImpression = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The home page URL for the verification service provider that supplies the\n   * resource file.\n   *\n   * @type {string}\n   */\n  get vendor () {\n    return this._vendor\n  }\n\n  set vendor (value) {\n    this._vendor = value\n  }\n\n  // Children.\n\n  /**\n   * The JavaScript resources for this verification vendor.\n   *\n   * @type {JavaScriptResource[]}\n   */\n  get javaScriptResources () {\n    return this._javaScriptResources\n  }\n\n  /**\n   * The Flash resources for this verification vendor.\n   *\n   * @type {FlashResource[]}\n   */\n  get flashResources () {\n    return this._flashResources\n  }\n\n  /**\n   * The viewable impression for this verification vendor.\n   *\n   * @type {ViewableImpression}\n   */\n  get viewableImpression () {\n    return this._viewableImpression\n  }\n\n  set viewableImpression (value) {\n    this._viewableImpression = value\n  }\n\n  get $type () {\n    return \'Verification\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/core/viewable-impression.js\n/**\n * Represents the impression-tracking URIs for both an {@link InLine} and any\n * {@link Wrapper}.\n */\nclass ViewableImpression {\n  constructor () {\n    this._id = null\n    this._viewables = []\n    this._notViewables = []\n    this._viewUndetermineds = []\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ad server ID of this viewability impression pixel.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  // Children.\n\n  /**\n   * The URIs that direct the video player to a tracking resource file that the\n   * video player should request at the time that criteria is met for a viewable\n   * impression.\n   *\n   * @type {string[]}\n   */\n  get viewables () {\n    return this._viewables\n  }\n\n  /**\n   * The URIs that direct the video player to a tracking resource file that the\n   * video player should request if the ad is executed but never meets criteria\n   * for a viewable impression.\n   *\n   * @type {string[]}\n   */\n  get notViewables () {\n    return this._notViewables\n  }\n\n  /**\n   * The URIs that direct the video player to a tracking resource file that the\n   * video player should request if the player cannot determine whether criteria\n   * is met for a viewable impression.\n   *\n   * @type {string[]}\n   */\n  get viewUndetermineds () {\n    return this._viewUndetermineds\n  }\n\n  get $type () {\n    return \'ViewableImpression\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/creative/companion-ads.js\n/**\n * Represents companion ads within a {@link Creative}.\n */\nclass CompanionAds {\n  constructor () {\n    this._required = null\n    this._companions = []\n    this._xmlElement = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * Determines which companion creative to display when multiple companions\n   * are supplied and whether the ad can be displayed without its companion\n   * creative. Either `"all"`, `"any"`, or `"none"`.\n   *\n   * @type {string}\n   */\n  get required () {\n    return this._required\n  }\n\n  set required (value) {\n    this._required = value\n  }\n\n  // Children.\n\n  /**\n   * The companion ads.\n   *\n   * @type {Companion[]}\n   */\n  get companions () {\n    return this._companions\n  }\n\n  // Content.\n\n  /**\n   * The `<CompanionAds>` XML DOM element.\n   *\n   * @type {Element}\n   */\n  get xmlElement () {\n    return this._xmlElement\n  }\n\n  set xmlElement (value) {\n    this._xmlElement = value\n  }\n\n  get $type () {\n    return \'CompanionAds\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/creative/companion.js\n/**\n * Represents a single companion inside {@link CompanionAds}.\n */\nclass Companion {\n  constructor () {\n    this._id = null\n    this._width = null\n    this._height = null\n    this._assetWidth = null\n    this._assetHeight = null\n    this._expandedWidth = null\n    this._expandedHeight = null\n    this._apiFramework = null\n    this._adSlotID = null\n    this._pxratio = null\n    this._resource = null\n    this._adParameters = null\n    this._altText = null\n    this._clickThrough = null\n    this._clickTrackings = []\n    this._trackingEvents = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ID for this companion ad.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  /**\n   * The width of this companion ad in pixels.\n   *\n   * @type {number}\n   */\n  get width () {\n    return this._width\n  }\n\n  set width (value) {\n    this._width = value\n  }\n\n  /**\n   * The height of this companion ad in pixels.\n   *\n   * @type {number}\n   */\n  get height () {\n    return this._height\n  }\n\n  set height (value) {\n    this._height = value\n  }\n\n  /**\n   * The width of this companion ad\'s asset in pixels.\n   *\n   * @type {number}\n   */\n  get assetWidth () {\n    return this._assetWidth\n  }\n\n  set assetWidth (value) {\n    this._assetWidth = value\n  }\n\n  /**\n   * The height of this companion ad\'s asset in pixels.\n   *\n   * @type {number}\n   */\n  get assetHeight () {\n    return this._assetHeight\n  }\n\n  set assetHeight (value) {\n    this._assetHeight = value\n  }\n\n  /**\n   * The expanded width of this companion ad in pixels.\n   *\n   * @type {number}\n   */\n  get expandedWidth () {\n    return this._expandedWidth\n  }\n\n  set expandedWidth (value) {\n    this._expandedWidth = value\n  }\n\n  /**\n   * The expanded height of this companion ad in pixels.\n   *\n   * @type {number}\n   */\n  get expandedHeight () {\n    return this._expandedHeight\n  }\n\n  set expandedHeight (value) {\n    this._expandedHeight = value\n  }\n\n  /**\n   * The API framework used by this companion ad.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n\n  /**\n   * The ad slot ID of this companion ad.\n   *\n   * @type {string}\n   */\n  get adSlotID () {\n    return this._adSlotID\n  }\n\n  set adSlotID (value) {\n    this._adSlotID = value\n  }\n\n  /**\n   * The pixel ratio for which the companion creative is intended.\n   *\n   * @type {string}\n   */\n  get pxratio () {\n    return this._pxratio\n  }\n\n  set pxratio (value) {\n    this._pxratio = value\n  }\n\n  // Children.\n\n  /**\n   * The resource associated with this companion ad.\n   *\n   * @type {StaticResource|IFrameResource|HTMLResource}\n   */\n  get resource () {\n    return this._resource\n  }\n\n  set resource (value) {\n    this._resource = value\n  }\n\n  /**\n   * The ad parameters for this companion ad.\n   *\n   * @type {string}\n   */\n  get adParameters () {\n    return this._adParameters\n  }\n\n  set adParameters (value) {\n    this._adParameters = value\n  }\n\n  /**\n   * The alt text of this companion ad.\n   *\n   * @type {string}\n   */\n  get altText () {\n    return this._altText\n  }\n\n  set altText (value) {\n    this._altText = value\n  }\n\n  /**\n   * The click-through configuration.\n   *\n   * @type {Click}\n   */\n  get clickThrough () {\n    return this._clickThrough\n  }\n\n  set clickThrough (value) {\n    this._clickThrough = value\n  }\n\n  /**\n   * The click-tracking configurations.\n   *\n   * @type {Click[]}\n   */\n  get clickTrackings () {\n    return this._clickTrackings\n  }\n\n  /**\n   * The event-tracking configuration for this companion ad.\n   *\n   * @type {TrackingEvents}\n   */\n  get trackingEvents () {\n    return this._trackingEvents\n  }\n\n  set trackingEvents (value) {\n    this._trackingEvents = value\n  }\n\n  get $type () {\n    return \'Companion\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/creative/linear.js\n/**\n * Represents a linear within a {@link Creative}.\n */\nclass Linear {\n  constructor () {\n    this._skipoffset = null\n    this._duration = null\n    this._mezzanine = null\n    this._mediaFiles = []\n    this._interactiveCreativeFiles = []\n    this._adParameters = null\n    this._videoClicks = null\n    this._trackingEvents = null\n    this._icons = []\n  }\n\n  // Attribute(s).\n\n  /**\n   * The time interval after which this linear creative can be skipped.\n   *\n   * @type {TimeOffset}\n   */\n  get skipoffset () {\n    return this._skipoffset\n  }\n\n  set skipoffset (value) {\n    this._skipoffset = value\n  }\n\n  // Children.\n\n  /**\n   * The duration of this linear creative in seconds.\n   *\n   * @type {number}\n   */\n  get duration () {\n    return this._duration\n  }\n\n  set duration (value) {\n    this._duration = value\n  }\n\n  /**\n   * The URI of the raw mezzanine file for this linear creative, intended for\n   * video transcoding.\n   *\n   * @type {string}\n   */\n  get mezzanine () {\n    return this._mezzanine\n  }\n\n  set mezzanine (value) {\n    this._mezzanine = value\n  }\n\n  /**\n   * The media files for this linear creative.\n   *\n   * @type {MediaFile[]}\n   */\n  get mediaFiles () {\n    return this._mediaFiles\n  }\n\n  /**\n   * The interactive creative files for this linear creative.\n   *\n   * @type {InteractiveCreativeFile[]}\n   */\n  get interactiveCreativeFiles () {\n    return this._interactiveCreativeFiles\n  }\n\n  /**\n   * The ad parameters for this linear creative.\n   *\n   * @type {string}\n   */\n  get adParameters () {\n    return this._adParameters\n  }\n\n  set adParameters (value) {\n    this._adParameters = value\n  }\n\n  /**\n   * The video click tracking configuration for this linear creative.\n   *\n   * @type {VideoClicks}\n   */\n  get videoClicks () {\n    return this._videoClicks\n  }\n\n  set videoClicks (value) {\n    this._videoClicks = value\n  }\n\n  /**\n   * The event-tracking configuration for this linear creative.\n   *\n   * @type {TrackingEvents}\n   */\n  get trackingEvents () {\n    return this._trackingEvents\n  }\n\n  set trackingEvents (value) {\n    this._trackingEvents = value\n  }\n\n  /**\n   * The icons for this linear creative.\n   *\n   * @type {Icon[]}\n   */\n  get icons () {\n    return this._icons\n  }\n\n  get $type () {\n    return \'Linear\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/creative/non-linear-ads.js\n/**\n * Represents non-linear ads within a {@link Creative}.\n */\nclass NonLinearAds {\n  constructor () {\n    this._nonLinears = []\n    this._trackingEvents = null\n  }\n\n  // Children.\n\n  /**\n   * The non-linear ads.\n   *\n   * @type {NonLinear[]}\n   */\n  get nonLinears () {\n    return this._nonLinears\n  }\n\n  /**\n   * The event-tracking configuration.\n   *\n   * @type {TrackingEvents}\n   */\n  get trackingEvents () {\n    return this._trackingEvents\n  }\n\n  set trackingEvents (value) {\n    this._trackingEvents = value\n  }\n\n  get $type () {\n    return \'NonLinearAds\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/creative/non-linear.js\n/**\n * Represents a single non-linear ad inside {@link NonLinearAds}.\n */\nclass NonLinear {\n  constructor () {\n    this._id = null\n    this._width = null\n    this._height = null\n    this._expandedWidth = null\n    this._expandedHeight = null\n    this._scalable = false\n    this._maintainAspectRatio = false\n    this._minSuggestedDuration = null\n    this._apiFramework = null\n    this._resource = null\n    this._adParameters = null\n    this._clickThrough = null\n    this._clickTrackings = []\n  }\n\n  // Attribute(s).\n\n  /**\n   * The ID of this non-linear ad.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {string}\n   */\n  get id () {\n    return this._id\n  }\n\n  set id (value) {\n    this._id = value\n  }\n\n  /**\n   * The width of this non-linear ad in pixels.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {number}\n   */\n  get width () {\n    return this._width\n  }\n\n  set width (value) {\n    this._width = value\n  }\n\n  /**\n   * The height of this non-linear ad in pixels.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {number}\n   */\n  get height () {\n    return this._height\n  }\n\n  set height (value) {\n    this._height = value\n  }\n\n  /**\n   * The expanded width of this non-linear ad in pixels.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {number}\n   */\n  get expandedWidth () {\n    return this._expandedWidth\n  }\n\n  set expandedWidth (value) {\n    this._expandedWidth = value\n  }\n\n  /**\n   * The expanded height of this non-linear ad in pixels.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {number}\n   */\n  get expandedHeight () {\n    return this._expandedHeight\n  }\n\n  set expandedHeight (value) {\n    this._expandedHeight = value\n  }\n\n  /**\n   * Whether this non-linear ad is meant to scale to larger dimensions.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {boolean}\n   */\n  get scalable () {\n    return this._scalable\n  }\n\n  set scalable (value) {\n    this._scalable = value\n  }\n\n  /**\n   * Whether this non-linear ad\'s aspect ratio should be maintained when scaled.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {boolean}\n   */\n  get maintainAspectRatio () {\n    return this._maintainAspectRatio\n  }\n\n  set maintainAspectRatio (value) {\n    this._maintainAspectRatio = value\n  }\n\n  /**\n   * The minimum suggested duration of this non-linear ad in seconds.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {number}\n   */\n  get minSuggestedDuration () {\n    return this._minSuggestedDuration\n  }\n\n  set minSuggestedDuration (value) {\n    this._minSuggestedDuration = value\n  }\n\n  /**\n   * The API framework used by this non-linear ad.\n   *\n   * VAST 2.0 and 3.0 only.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n\n  // Children.\n\n  /**\n   * The resource associated with this non-linear ad.\n   *\n   * @type {Resource}\n   */\n  get resource () {\n    return this._resource\n  }\n\n  set resource (value) {\n    this._resource = value\n  }\n\n  /**\n   * The ad parameters for this non-linear ad.\n   *\n   * @type {string}\n   */\n  get adParameters () {\n    return this._adParameters\n  }\n\n  set adParameters (value) {\n    this._adParameters = value\n  }\n\n  /**\n   * The click-through configuration for this non-linear ad.\n   *\n   * @type {Click}\n   */\n  get clickThrough () {\n    return this._clickThrough\n  }\n\n  set clickThrough (value) {\n    this._clickThrough = value\n  }\n\n  /**\n   * The click-tracking configurations for this non-linear ad.\n   *\n   * @type {Click[]}\n   */\n  get clickTrackings () {\n    return this._clickTrackings\n  }\n\n  get $type () {\n    return \'NonLinear\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/extension/abstract.js\n/**\n * Base class for VAST {@link Extension} as well as {@link CreativeExtension}.\n *\n * @abstract\n * @protected\n */\nclass AbstractExtension {\n  constructor () {\n    this._type = null\n    this._xmlElement = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The MIME type of any code that might be included in the extension.\n   *\n   * @type {string}\n   */\n  get type () {\n    return this._type\n  }\n\n  set type (value) {\n    this._type = value\n  }\n\n  // Content.\n\n  /**\n   * The `<Extension>` XML DOM element.\n   *\n   * @type {Element}\n   */\n  get xmlElement () {\n    return this._xmlElement\n  }\n\n  set xmlElement (value) {\n    this._xmlElement = value\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/extension/creative.js\n\n\n/**\n * Represents a creative extension.\n */\nclass CreativeExtension extends AbstractExtension {\n  get $type () {\n    return \'CreativeExtension\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/extension/default.js\n\n\n/**\n * Represents a VAST extension.\n */\nclass Extension extends AbstractExtension {\n  get $type () {\n    return \'Extension\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/abstract.js\n/**\n * Base class for a verification resource used by a {@link HTMLResource}, a\n * {@link IFrameResource} and a {@link StaticResource}.\n *\n * @abstract\n * @protected\n */\nclass AbstractResource {\n  constructor () {\n    this._uri = null\n  }\n\n  // Content.\n\n  /**\n   * The URI to this resource.\n   *\n   * @type {string}\n   */\n  get uri () {\n    return this._uri\n  }\n\n  set uri (value) {\n    this._uri = value\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/creative/html.js\n\n\n/**\n * Describes an HTML snippet.\n */\nclass HTMLResource extends AbstractResource {\n  get $type () {\n    return \'HTMLResource\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/creative/iframe.js\n\n\n/**\n * Describes an HTML page for display within an iframe.\n */\nclass IFrameResource extends AbstractResource {\n  get $type () {\n    return \'IFrameResource\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/creative/static.js\n\n\n/**\n * Describes non-HTML creative.\n */\nclass StaticResource extends AbstractResource {\n  constructor () {\n    super()\n    this._creativeType = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The MIME type of this resource.\n   *\n   * @type {string}\n   */\n  get creativeType () {\n    return this._creativeType\n  }\n\n  set creativeType (value) {\n    this._creativeType = value\n  }\n\n  get $type () {\n    return \'StaticResource\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/verification/abstract.js\n\n\n/**\n * Base class for a verification resource used by a {@link FlashResource} and a\n * {@link JavaScriptResource}.\n *\n * @abstract\n * @protected\n */\nclass AbstractVerificationResource extends AbstractResource {\n  constructor () {\n    super()\n    this._apiFramework = null\n  }\n\n  // Attribute(s).\n\n  /**\n   * The name of the API framework.\n   *\n   * @type {string}\n   */\n  get apiFramework () {\n    return this._apiFramework\n  }\n\n  set apiFramework (value) {\n    this._apiFramework = value\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/verification/flash.js\n\n\n/**\n * Describes a Flash resource used to collect verification data.\n */\nclass FlashResource extends AbstractVerificationResource {\n  get $type () {\n    return \'FlashResource\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/resource/verification/javascript.js\n\n\n/**\n * Describes a JavaScript resource used to collect verification data.\n */\nclass JavaScriptResource extends AbstractVerificationResource {\n  get $type () {\n    return \'JavaScriptResource\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/time-offset/abstract.js\n/**\n * Represents a time offset.\n *\n * @abstract\n * @protected\n */\nclass AbstractTimeOffset {\n  constructor () {\n    this._value = null\n  }\n\n  /**\n   * The value for this offset.\n   *\n   * @type {number}\n   */\n  get value () {\n    return this._value\n  }\n\n  set value (value) {\n    this._value = value\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/time-offset/absolute.js\n\n\n/**\n * Represents a time offset expressed as an absolute duration in seconds.\n */\nclass AbsoluteTimeOffset extends AbstractTimeOffset {\n  get $type () {\n    return \'AbsoluteTimeOffset\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/time-offset/relative.js\n\n\n/**\n * Represents a time offset expressed as a percentage (between 0 and 100).\n */\nclass RelativeTimeOffset extends AbstractTimeOffset {\n  get $type () {\n    return \'RelativeTimeOffset\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/util/ad-pod.js\n\n\n/**\n * Represents a VAST ad pod.\n */\nclass AdPod {\n  constructor () {\n    this._ads = new SortedList()\n  }\n\n  /**\n   * The ads in this ad pod.\n   *\n   * @type {SortedList}\n   */\n  get ads () {\n    return this._ads\n  }\n\n  get $type () {\n    return \'AdPod\'\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/iab-vast-model/src/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-model/src/index.js_+_44_modules?')},8561:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = __webpack_require__(1385)["default"]\n\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/index.js?')},771:(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nexports["default"] = function () {};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/errors/loose.js?')},4022:(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nexports["default"] = function (err) {\n  throw err;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/errors/strict.js?')},778:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($adSystem) {\n  var adSystem = new _iabVastModel.AdSystem();\n  adSystem.version = $adSystem.version;\n  adSystem.name = $adSystem._value;\n  return adSystem;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/ad-system.js?')},1343:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _inLine = __webpack_require__(4961);\n\nvar _inLine2 = _interopRequireDefault(_inLine);\n\nvar _wrapper = __webpack_require__(8459);\n\nvar _wrapper2 = _interopRequireDefault(_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = function ($ad, options) {\n  if ($ad.inLine != null) {\n    return (0, _inLine2.default)($ad, options);\n  } else if ($ad.wrapper != null) {\n    return (0, _wrapper2.default)($ad, options);\n  } else {\n    throw new Error(\'Unrecognized ad type\');\n  }\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/ad.js?')},9575:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($category) {\n  var category = new _iabVastModel.Category();\n  category.authority = $category.authority;\n  category.code = $category._value;\n  return category;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/category.js?')},3737:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($click) {\n  var click = new _iabVastModel.Click();\n  click.id = $click.id;\n  click.uri = $click._value;\n  return click;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/click.js?')},4679:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _companion = __webpack_require__(1229);\n\nvar _companion2 = _interopRequireDefault(_companion);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($creative) {\n  var $companionAds = $creative.companionAds;\n  var companionAds = new _iabVastModel.CompanionAds();\n  companionAds.required = $companionAds.required;\n  if ($companionAds.companion != null) {\n    var _companionAds$compani;\n\n    (_companionAds$compani = companionAds.companions).push.apply(_companionAds$compani, _toConsumableArray($companionAds.companion.map(_companion2.default)));\n  }\n  return companionAds;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/companion-ads.js?')},1229:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _click = __webpack_require__(3737);\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _resource = __webpack_require__(7519);\n\nvar _resource2 = _interopRequireDefault(_resource);\n\nvar _mapTrackingEvents = __webpack_require__(620);\n\nvar _mapTrackingEvents2 = _interopRequireDefault(_mapTrackingEvents);\n\nvar _isNonEmptyArray = __webpack_require__(2823);\n\nvar _isNonEmptyArray2 = _interopRequireDefault(_isNonEmptyArray);\n\nvar _hasValue = __webpack_require__(280);\n\nvar _hasValue2 = _interopRequireDefault(_hasValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($companion) {\n  var companion = new _iabVastModel.Companion();\n  companion.id = $companion.id;\n  companion.width = $companion.width;\n  companion.height = $companion.height;\n  companion.assetWidth = $companion.assetWidth;\n  companion.assetHeight = $companion.assetHeight;\n  companion.expandedWidth = $companion.expandedWidth;\n  companion.expandedHeight = $companion.expandedHeight;\n  companion.apiFramework = $companion.apiFramework;\n  companion.adSlotID = $companion.adSlotID;\n  companion.pxratio = $companion.pxratio;\n  companion.resource = (0, _resource2.default)($companion);\n  if ($companion.adParameters != null && (0, _hasValue2.default)($companion.adParameters)) {\n    companion.adParameters = $companion.adParameters._value;\n  }\n  if ($companion.altText != null && (0, _hasValue2.default)($companion.altText._value)) {\n    companion.altText = $companion.altText._value;\n  }\n  if ($companion.companionClickThrough != null && (0, _hasValue2.default)($companion.companionClickThrough)) {\n    companion.clickThrough = (0, _click2.default)($companion.companionClickThrough);\n  }\n  if ($companion.companionClickTracking != null) {\n    var _companion$clickTrack;\n\n    (_companion$clickTrack = companion.clickTrackings).push.apply(_companion$clickTrack, _toConsumableArray($companion.companionClickTracking.filter(_hasValue2.default).map(_click2.default)));\n  }\n  if ($companion.trackingEvents != null && (0, _isNonEmptyArray2.default)($companion.trackingEvents.tracking)) {\n    companion.trackingEvents = new _iabVastModel.TrackingEvents();\n    (0, _mapTrackingEvents2.default)($companion.trackingEvents, companion.trackingEvents);\n  }\n  return companion;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/companion.js?')},3942:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($creativeExtension) {\n  var creativeExtension = new _iabVastModel.CreativeExtension();\n  creativeExtension.type = $creativeExtension.type;\n  creativeExtension.xmlElement = $creativeExtension._value;\n  return creativeExtension;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/creative-extension.js?')},2455:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _universalAdId = __webpack_require__(2225);\n\nvar _universalAdId2 = _interopRequireDefault(_universalAdId);\n\nvar _creativeExtension = __webpack_require__(3942);\n\nvar _creativeExtension2 = _interopRequireDefault(_creativeExtension);\n\nvar _linear = __webpack_require__(4431);\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _nonLinearAds = __webpack_require__(9326);\n\nvar _nonLinearAds2 = _interopRequireDefault(_nonLinearAds);\n\nvar _companionAds = __webpack_require__(4679);\n\nvar _companionAds2 = _interopRequireDefault(_companionAds);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($creative, options) {\n  var creative = new _iabVastModel.Creative();\n  creative.id = $creative.id;\n  creative.sequence = $creative.sequence;\n  // VAST3 XSD specifies AdID and that seems to be what parsers have agreed on\n  creative.adID = $creative.AdID || $creative.adID || $creative.adId;\n  creative.apiFramework = $creative.apiFramework;\n  if ($creative.universalAdId != null) {\n    creative.universalAdId = (0, _universalAdId2.default)($creative.universalAdId);\n  }\n  if ($creative.creativeExtensions != null && $creative.creativeExtensions.creativeExtension) {\n    var _creative$extensions;\n\n    (_creative$extensions = creative.extensions).push.apply(_creative$extensions, _toConsumableArray($creative.creativeExtensions.creativeExtension.map(_creativeExtension2.default)));\n  }\n  if ($creative.linear != null) {\n    creative.linear = (0, _linear2.default)($creative, options);\n  } else if ($creative.nonLinearAds != null) {\n    creative.nonLinearAds = (0, _nonLinearAds2.default)($creative);\n  }\n  if ($creative.companionAds != null) {\n    creative.companionAds = (0, _companionAds2.default)($creative);\n  }\n  if (creative.linear == null && creative.nonLinearAds == null && creative.companionAds == null) {\n    options.errorHandler(new Error(\'Creative has no ads\'));\n  }\n  return creative;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/creative.js?')},3608:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($extension) {\n  var extension = new _iabVastModel.Extension();\n  extension.type = $extension.type;\n  extension.xmlElement = $extension._value;\n  return extension;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/extension.js?')},6661:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($flashResource) {\n  var res = new _iabVastModel.FlashResource();\n  res.apiFramework = $flashResource.apiFramework;\n  res.uri = $flashResource._value;\n  return res;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/flash-resource.js?')},6024:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($htmlResource) {\n  var res = new _iabVastModel.HTMLResource();\n  res.uri = $htmlResource._value;\n  return res;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/html-resource.js?')},5400:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _click = __webpack_require__(3737);\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _hasValue = __webpack_require__(280);\n\nvar _hasValue2 = _interopRequireDefault(_hasValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($iconClicks) {\n  var iconClicks = new _iabVastModel.IconClicks();\n  if ($iconClicks.iconClickThrough != null && (0, _hasValue2.default)($iconClicks.iconClickThrough)) {\n    iconClicks.clickThrough = (0, _click2.default)($iconClicks.iconClickThrough);\n  }\n  if ($iconClicks.iconClickTracking != null) {\n    var _iconClicks$clickTrac;\n\n    (_iconClicks$clickTrac = iconClicks.clickTrackings).push.apply(_iconClicks$clickTrac, _toConsumableArray($iconClicks.iconClickTracking.filter(_hasValue2.default).map(_click2.default)));\n  }\n  return iconClicks;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/icon-clicks.js?')},9328:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _resource = __webpack_require__(7519);\n\nvar _resource2 = _interopRequireDefault(_resource);\n\nvar _click = __webpack_require__(3737);\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _iconClicks = __webpack_require__(5400);\n\nvar _iconClicks2 = _interopRequireDefault(_iconClicks);\n\nvar _hasValue = __webpack_require__(280);\n\nvar _hasValue2 = _interopRequireDefault(_hasValue);\n\nvar _isNonEmptyArray = __webpack_require__(2823);\n\nvar _isNonEmptyArray2 = _interopRequireDefault(_isNonEmptyArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar parsePosition = function parsePosition(str, allowed) {\n  return str == null ? str : allowed.indexOf(str) < 0 ? parseInt(str, 0) : str;\n};\n\nexports[\"default\"] = function ($icon) {\n  var icon = new _iabVastModel.Icon();\n  icon.program = $icon.program;\n  icon.width = $icon.width;\n  icon.height = $icon.height;\n  icon.xPosition = parsePosition($icon.xPosition, ['left', 'right']);\n  icon.yPosition = parsePosition($icon.yPosition, ['top', 'bottom']);\n  icon.duration = $icon.duration;\n  icon.offset = $icon.offset;\n  icon.apiFramework = $icon.apiFramework;\n  icon.pxratio = $icon.pxratio;\n  icon.resources = (0, _resource2.default)($icon);\n  if ($icon.iconClicks != null && ((0, _hasValue2.default)($icon.iconClicks.iconClickThrough) || (0, _isNonEmptyArray2.default)($icon.iconClicks.iconClickTracking))) {\n    icon.clicks = (0, _iconClicks2.default)($icon.iconClicks);\n  }\n  if ($icon.iconViewTracking != null) {\n    var _icon$viewTrackings;\n\n    (_icon$viewTrackings = icon.viewTrackings).push.apply(_icon$viewTrackings, _toConsumableArray($icon.iconViewTracking.filter(_hasValue2.default).map(_click2.default)));\n  }\n  return icon;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/icon.js?")},6519:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($iFrameResource) {\n  var res = new _iabVastModel.IFrameResource();\n  res.uri = $iFrameResource._value;\n  return res;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/iframe-resource.js?')},4997:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($impression) {\n  var impression = new _iabVastModel.Impression();\n  impression.id = $impression.id;\n  impression.uri = $impression._value;\n  return impression;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/impression.js?')},4961:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _ad = __webpack_require__(6573);\n\nvar _ad2 = _interopRequireDefault(_ad);\n\nvar _category = __webpack_require__(9575);\n\nvar _category2 = _interopRequireDefault(_category);\n\nvar _survey = __webpack_require__(5854);\n\nvar _survey2 = _interopRequireDefault(_survey);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($ad, options) {\n  var inLine = new _iabVastModel.InLine();\n  var $inLine = $ad.inLine;\n  (0, _ad2.default)($ad, $inLine, inLine, options);\n  inLine.adTitle = $inLine.adTitle != null ? $inLine.adTitle._value : null;\n  if ($inLine.category != null) {\n    var _inLine$categories;\n\n    (_inLine$categories = inLine.categories).push.apply(_inLine$categories, _toConsumableArray($inLine.category.filter(function (c) {\n      return c.authority != null;\n    }) // Ignores declarations such as <Category/>.\n    .map(_category2.default)));\n  }\n  inLine.description = $inLine.description != null ? $inLine.description._value : null;\n  inLine.advertiser = $inLine.advertiser != null ? $inLine.advertiser._value : null;\n  if ($inLine.survey != null) {\n    var _inLine$surveys;\n\n    (_inLine$surveys = inLine.surveys).push.apply(_inLine$surveys, _toConsumableArray($inLine.survey.filter(function (s) {\n      return s._value.length > 0;\n    }).map(_survey2.default)));\n  }\n  return inLine;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/in-line.js?')},2963:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($interactiveCreativeFile) {\n  var interactiveCreativeFile = new _iabVastModel.InteractiveCreativeFile();\n  interactiveCreativeFile.type = $interactiveCreativeFile.type;\n  interactiveCreativeFile.apiFramework = $interactiveCreativeFile.apiFramework;\n  interactiveCreativeFile.uri = $interactiveCreativeFile._value;\n  return interactiveCreativeFile;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/interactive-creative-file.js?')},4187:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($javascriptResource) {\n  var res = new _iabVastModel.JavaScriptResource();\n  res.apiFramework = $javascriptResource.apiFramework;\n  res.uri = $javascriptResource._value;\n  return res;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/javascript-resource.js?')},4431:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _mediaFile = __webpack_require__(1248);\n\nvar _mediaFile2 = _interopRequireDefault(_mediaFile);\n\nvar _interactiveCreativeFile = __webpack_require__(2963);\n\nvar _interactiveCreativeFile2 = _interopRequireDefault(_interactiveCreativeFile);\n\nvar _icon = __webpack_require__(9328);\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _click = __webpack_require__(3737);\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _timeOffset = __webpack_require__(7948);\n\nvar _timeOffset2 = _interopRequireDefault(_timeOffset);\n\nvar _mapTrackingEvents = __webpack_require__(620);\n\nvar _mapTrackingEvents2 = _interopRequireDefault(_mapTrackingEvents);\n\nvar _isNonEmptyString = __webpack_require__(9978);\n\nvar _isNonEmptyString2 = _interopRequireDefault(_isNonEmptyString);\n\nvar _isNonEmptyArray = __webpack_require__(2823);\n\nvar _isNonEmptyArray2 = _interopRequireDefault(_isNonEmptyArray);\n\nvar _hasValue = __webpack_require__(280);\n\nvar _hasValue2 = _interopRequireDefault(_hasValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar mapVideoClicks = function mapVideoClicks($videoClicks, videoClicks) {\n  if ($videoClicks.clickThrough != null && (0, _hasValue2.default)($videoClicks.clickThrough)) {\n    videoClicks.clickThrough = (0, _click2.default)($videoClicks.clickThrough);\n  }\n  if ($videoClicks.clickTracking != null) {\n    var _videoClicks$clickTra;\n\n    (_videoClicks$clickTra = videoClicks.clickTrackings).push.apply(_videoClicks$clickTra, _toConsumableArray($videoClicks.clickTracking.filter(_hasValue2.default).map(_click2.default)));\n  }\n  if ($videoClicks.customClick != null) {\n    var _videoClicks$customCl;\n\n    (_videoClicks$customCl = videoClicks.customClicks).push.apply(_videoClicks$customCl, _toConsumableArray($videoClicks.customClick.filter(_hasValue2.default).map(_click2.default)));\n  }\n};\n\nexports["default"] = function ($creative, options) {\n  var $linear = $creative.linear;\n  var linear = new _iabVastModel.Linear();\n  if ((0, _isNonEmptyString2.default)($linear.skipoffset)) {\n    linear.skipoffset = (0, _timeOffset2.default)($linear.skipoffset, options);\n  }\n  if ($linear.duration != null) {\n    linear.duration = $linear.duration._value;\n  }\n  if ($linear.mediaFiles != null) {\n    if ($linear.mediaFiles.mezzanine != null) {\n      linear.mezzanine = $linear.mediaFiles.mezzanine._value;\n    }\n    if ($linear.mediaFiles.mediaFile != null) {\n      var _linear$mediaFiles;\n\n      (_linear$mediaFiles = linear.mediaFiles).push.apply(_linear$mediaFiles, _toConsumableArray($linear.mediaFiles.mediaFile.map(_mediaFile2.default)));\n    }\n    if ($linear.mediaFiles.interactiveCreativeFile != null) {\n      var _linear$interactiveCr;\n\n      (_linear$interactiveCr = linear.interactiveCreativeFiles).push.apply(_linear$interactiveCr, _toConsumableArray($linear.mediaFiles.interactiveCreativeFile.map(_interactiveCreativeFile2.default)));\n    }\n  }\n  if ($linear.adParameters != null) {\n    linear.adParameters = $linear.adParameters._value;\n  }\n  if ($linear.videoClicks != null) {\n    linear.videoClicks = new _iabVastModel.VideoClicks();\n    mapVideoClicks($linear.videoClicks, linear.videoClicks);\n  }\n  if ($linear.trackingEvents != null && (0, _isNonEmptyArray2.default)($linear.trackingEvents.tracking)) {\n    linear.trackingEvents = new _iabVastModel.TrackingEvents();\n    (0, _mapTrackingEvents2.default)($linear.trackingEvents, linear.trackingEvents, options);\n  }\n  if ($linear.icons != null && $linear.icons.icon) {\n    var _linear$icons;\n\n    (_linear$icons = linear.icons).push.apply(_linear$icons, _toConsumableArray($linear.icons.icon.map(_icon2.default)));\n  }\n  return linear;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/linear.js?')},1248:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($mediaFile) {\n  var mediaFile = new _iabVastModel.MediaFile();\n  mediaFile.id = $mediaFile.id;\n  mediaFile.delivery = $mediaFile.delivery;\n  mediaFile.type = $mediaFile.type;\n  mediaFile.bitrate = $mediaFile.bitrate;\n  mediaFile.minBitrate = $mediaFile.minBitrate;\n  mediaFile.maxBitrate = $mediaFile.maxBitrate;\n  mediaFile.width = $mediaFile.width;\n  mediaFile.height = $mediaFile.height;\n  mediaFile.scalable = $mediaFile.scalable;\n  mediaFile.maintainAspectRatio = $mediaFile.maintainAspectRatio;\n  mediaFile.codec = $mediaFile.codec;\n  mediaFile.apiFramework = $mediaFile.apiFramework;\n  mediaFile.uri = $mediaFile._value;\n  return mediaFile;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/media-file.js?')},9326:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _nonLinear = __webpack_require__(3951);\n\nvar _nonLinear2 = _interopRequireDefault(_nonLinear);\n\nvar _mapTrackingEvents = __webpack_require__(620);\n\nvar _mapTrackingEvents2 = _interopRequireDefault(_mapTrackingEvents);\n\nvar _isNonEmptyArray = __webpack_require__(2823);\n\nvar _isNonEmptyArray2 = _interopRequireDefault(_isNonEmptyArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($creative) {\n  var $nonLinearAds = $creative.nonLinearAds;\n  var nonLinearAds = new _iabVastModel.NonLinearAds();\n  if ($nonLinearAds.nonLinear != null) {\n    var _nonLinearAds$nonLine;\n\n    (_nonLinearAds$nonLine = nonLinearAds.nonLinears).push.apply(_nonLinearAds$nonLine, _toConsumableArray($nonLinearAds.nonLinear.map(_nonLinear2.default)));\n  }\n  if ($nonLinearAds.trackingEvents != null && (0, _isNonEmptyArray2.default)($nonLinearAds.trackingEvents.tracking)) {\n    nonLinearAds.trackingEvents = new _iabVastModel.TrackingEvents();\n    (0, _mapTrackingEvents2.default)($nonLinearAds.trackingEvents, nonLinearAds.trackingEvents);\n  }\n  return nonLinearAds;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/non-linear-ads.js?')},3951:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _resource = __webpack_require__(7519);\n\nvar _resource2 = _interopRequireDefault(_resource);\n\nvar _click = __webpack_require__(3737);\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _hasValue = __webpack_require__(280);\n\nvar _hasValue2 = _interopRequireDefault(_hasValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($nonLinear) {\n  var nonLinear = new _iabVastModel.NonLinear();\n  nonLinear.id = $nonLinear.id;\n  nonLinear.width = $nonLinear.width;\n  nonLinear.height = $nonLinear.height;\n  nonLinear.expandedWidth = $nonLinear.expandedWidth;\n  nonLinear.expandedHeight = $nonLinear.expandedHeight;\n  nonLinear.scalable = $nonLinear.scalable;\n  nonLinear.maintainAspectRatio = $nonLinear.maintainAspectRatio;\n  nonLinear.minSuggestedDuration = $nonLinear.minSuggestedDuration;\n  nonLinear.apiFramework = $nonLinear.apiFramework;\n  nonLinear.resource = (0, _resource2.default)($nonLinear);\n  if ($nonLinear.adParameters != null) {\n    nonLinear.adParameters = $nonLinear.adParameters._value;\n  }\n  if ($nonLinear.nonLinearClickThrough != null && (0, _hasValue2.default)($nonLinear.nonLinearClickThrough)) {\n    nonLinear.clickThrough = (0, _click2.default)($nonLinear.nonLinearClickThrough);\n  }\n  if ($nonLinear.nonLinearClickTracking != null) {\n    var _nonLinear$clickTrack;\n\n    (_nonLinear$clickTrack = nonLinear.clickTrackings).push.apply(_nonLinear$clickTrack, _toConsumableArray($nonLinear.nonLinearClickTracking.filter(_hasValue2.default).map(_click2.default)));\n  }\n  return nonLinear;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/non-linear.js?')},4001:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($pricing) {\n  var pricing = new _iabVastModel.Pricing();\n  pricing.model = $pricing.model;\n  pricing.currency = $pricing.currency;\n  pricing.value = $pricing._value;\n  return pricing;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/pricing.js?')},7519:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _staticResource = __webpack_require__(8818);\n\nvar _staticResource2 = _interopRequireDefault(_staticResource);\n\nvar _iframeResource = __webpack_require__(6519);\n\nvar _iframeResource2 = _interopRequireDefault(_iframeResource);\n\nvar _htmlResource = __webpack_require__(6024);\n\nvar _htmlResource2 = _interopRequireDefault(_htmlResource);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = function ($parent) {\n  return $parent.staticResource != null ? (0, _staticResource2.default)($parent.staticResource) : $parent.iFrameResource != null ? (0, _iframeResource2.default)($parent.iFrameResource) : $parent.htmlResource != null ? (0, _htmlResource2.default)($parent.htmlResource) : null;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/resource.js?')},8818:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($staticResource) {\n  var res = new _iabVastModel.StaticResource();\n  res.creativeType = $staticResource.creativeType;\n  res.uri = $staticResource._value;\n  return res;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/static-resource.js?')},5854:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($survey) {\n  var survey = new _iabVastModel.Survey();\n  survey.type = $survey.type;\n  survey.uri = $survey._value;\n  return survey;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/survey.js?')},7948:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _parseTime = __webpack_require__(1622);\n\nvar _parseTime2 = _interopRequireDefault(_parseTime);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = function (offsetStr, options, err) {\n  var lastChar = offsetStr.charAt(offsetStr.length - 1);\n  if (lastChar === \'%\') {\n    var offset = new _iabVastModel.RelativeTimeOffset();\n    offset.value = parseFloat(offsetStr.substr(0, offsetStr.length - 1));\n    return offset;\n  } else {\n    var _offset = new _iabVastModel.AbsoluteTimeOffset();\n    try {\n      _offset.value = (0, _parseTime2.default)(offsetStr);\n    } catch (err) {\n      options.errorHandler(err);\n    }\n    return _offset;\n  }\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/time-offset.js?')},2225:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nexports["default"] = function ($universalAdId) {\n  var universalAdId = new _iabVastModel.UniversalAdId();\n  if ($universalAdId.idRegistry != null) {\n    universalAdId.idRegistry = $universalAdId.idRegistry;\n  }\n  if ($universalAdId.idValue != null) {\n    universalAdId.idValue = $universalAdId.idValue;\n  }\n  universalAdId.creativeIdentifier = $universalAdId._value;\n  return universalAdId;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/universal-ad-id.js?')},5017:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _ad = __webpack_require__(1343);\n\nvar _ad2 = _interopRequireDefault(_ad);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar triageAds = function triageAds($$ads) {\n  var $$adsWithSequence = [];\n  var $$adsWithoutSequence = [];\n  for (var i = 0; i < $$ads.length; ++i) {\n    var $ad = $$ads[i];\n    if (typeof $ad.sequence !== \'undefined\') {\n      $$adsWithSequence.push($ad);\n    } else {\n      $$adsWithoutSequence.push($ad);\n    }\n  }\n  return [$$adsWithSequence, $$adsWithoutSequence];\n};\n\nvar createVAST = function createVAST($vast, options) {\n  var _vast$errors;\n\n  var vast = new _iabVastModel.VAST();\n  vast.version = $vast.version;\n  (_vast$errors = vast.errors).push.apply(_vast$errors, _toConsumableArray($vast.error.map(function (err) {\n    return err._value;\n  }).filter(function (uri) {\n    return uri !== \'\';\n  })));\n\n  var _triageAds = triageAds($vast.ad),\n      _triageAds2 = _slicedToArray(_triageAds, 2),\n      $$adsWithSequence = _triageAds2[0],\n      $$adsWithoutSequence = _triageAds2[1];\n\n  if ($$adsWithSequence.length > 0) {\n    if (options.noSingleAdPods && $vast.ad.length === 1 && $$adsWithSequence.length === 1) {\n      $$adsWithoutSequence.push($$adsWithSequence[0]);\n    } else {\n      vast.adPod = new _iabVastModel.AdPod();\n      for (var i = 0; i < $$adsWithSequence.length; i++) {\n        vast.adPod.ads.add((0, _ad2.default)($$adsWithSequence[i], options));\n      }\n    }\n  }\n  for (var _i = 0; _i < $$adsWithoutSequence.length; _i++) {\n    vast.ads.add((0, _ad2.default)($$adsWithoutSequence[_i], options));\n  }\n  return vast;\n};\n\nexports["default"] = function ($vast, options) {\n  try {\n    return createVAST($vast, options);\n  } catch (err) {\n    options.errorHandler(err);\n  }\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/vast.js?')},710:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _javascriptResource = __webpack_require__(4187);\n\nvar _javascriptResource2 = _interopRequireDefault(_javascriptResource);\n\nvar _flashResource = __webpack_require__(6661);\n\nvar _flashResource2 = _interopRequireDefault(_flashResource);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($verification) {\n  var verification = new _iabVastModel.Verification();\n  verification.vendor = $verification.vendor;\n  if ($verification.javaScriptResource != null) {\n    var _verification$javaScr;\n\n    (_verification$javaScr = verification.javaScriptResources).push.apply(_verification$javaScr, _toConsumableArray($verification.javaScriptResource.map(_javascriptResource2.default)));\n  }\n  if ($verification.flashResource != null) {\n    var _verification$flashRe;\n\n    (_verification$flashRe = verification.flashResources).push.apply(_verification$flashRe, _toConsumableArray($verification.flashResource.map(_flashResource2.default)));\n  }\n  if ($verification.viewableImpression != null) {\n    verification.viewableImpression = $verification.viewableImpression._value;\n  }\n  // XXX Proposed properties subject to change\n  if ($verification.verificationParameters != null) {\n    verification.parameters = $verification.verificationParameters._value;\n  }\n  if ($verification.adSwapDecision != null) {\n    verification.adSwapDecision = $verification.adSwapDecision === \'true\';\n  }\n  return verification;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/verification.js?')},3234:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports["default"] = function ($viewableImpression) {\n  var viewableImpression = new _iabVastModel.ViewableImpression();\n  viewableImpression.id = $viewableImpression.id;\n  if ($viewableImpression.viewable != null) {\n    var _viewableImpression$v;\n\n    (_viewableImpression$v = viewableImpression.viewables).push.apply(_viewableImpression$v, _toConsumableArray($viewableImpression.viewable.map(function (imp) {\n      return imp._value;\n    })));\n  }\n  if ($viewableImpression.notViewable != null) {\n    var _viewableImpression$n;\n\n    (_viewableImpression$n = viewableImpression.notViewables).push.apply(_viewableImpression$n, _toConsumableArray($viewableImpression.notViewable.map(function (imp) {\n      return imp._value;\n    })));\n  }\n  if ($viewableImpression.viewUndetermined != null) {\n    var _viewableImpression$v2;\n\n    (_viewableImpression$v2 = viewableImpression.viewUndetermineds).push.apply(_viewableImpression$v2, _toConsumableArray($viewableImpression.viewUndetermined.map(function (imp) {\n      return imp._value;\n    })));\n  }\n  return viewableImpression;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/viewable-impression.js?')},8459:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _ad = __webpack_require__(6573);\n\nvar _ad2 = _interopRequireDefault(_ad);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = function ($ad, options) {\n  var wrapper = new _iabVastModel.Wrapper();\n  var $wrapper = $ad.wrapper;\n  (0, _ad2.default)($ad, $wrapper, wrapper, options);\n  if ($wrapper.followAdditionalWrappers != null) {\n    wrapper.followAdditionalWrappers = $wrapper.followAdditionalWrappers;\n  }\n  if ($wrapper.allowMultipleAds != null) {\n    wrapper.allowMultipleAds = $wrapper.allowMultipleAds;\n  }\n  wrapper.fallbackOnNoAd = $wrapper.fallbackOnNoAd;\n  wrapper.vastAdTagURI = $wrapper.vastAdTagURI != null ? $wrapper.vastAdTagURI._value : null;\n  return wrapper;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/factory/wrapper.js?')},1385:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = ({\n  value: true\n});\n\nvar _xmldom = __webpack_require__(6150);\n\nvar _parse = __webpack_require__(5585);\n\nvar _parse2 = _interopRequireDefault(_parse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = function (xml) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (options.domParser == null) {\n    options.domParser = new _xmldom.DOMParser();\n  }\n  return (0, _parse2.default)(xml, options);\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/index.js?')},6573:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _adSystem = __webpack_require__(778);\n\nvar _adSystem2 = _interopRequireDefault(_adSystem);\n\nvar _creative = __webpack_require__(2455);\n\nvar _creative2 = _interopRequireDefault(_creative);\n\nvar _extension = __webpack_require__(3608);\n\nvar _extension2 = _interopRequireDefault(_extension);\n\nvar _impression = __webpack_require__(4997);\n\nvar _impression2 = _interopRequireDefault(_impression);\n\nvar _pricing = __webpack_require__(4001);\n\nvar _pricing2 = _interopRequireDefault(_pricing);\n\nvar _viewableImpression = __webpack_require__(3234);\n\nvar _viewableImpression2 = _interopRequireDefault(_viewableImpression);\n\nvar _verification = __webpack_require__(710);\n\nvar _verification2 = _interopRequireDefault(_verification);\n\nvar _isNonEmptyString = __webpack_require__(9978);\n\nvar _isNonEmptyString2 = _interopRequireDefault(_isNonEmptyString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar hasValue = function hasValue($node) {\n  return $node != null && (0, _isNonEmptyString2.default)($node._value);\n};\n\nexports["default"] = function ($ad, $impl, ad, options) {\n  ad.id = $ad.id;\n  ad.conditionalAd = $ad.conditionalAd;\n  ad.sequence = $ad.sequence;\n  if ($impl.adSystem != null) {\n    ad.adSystem = (0, _adSystem2.default)($impl.adSystem);\n  }\n  if ($impl.impression != null) {\n    var _ad$impressions;\n\n    (_ad$impressions = ad.impressions).push.apply(_ad$impressions, _toConsumableArray($impl.impression.filter(hasValue).map(_impression2.default)));\n  }\n  if ($impl.pricing != null) {\n    ad.pricing = (0, _pricing2.default)($impl.pricing);\n  }\n  if ($impl.error != null) {\n    var _ad$errors;\n\n    (_ad$errors = ad.errors).push.apply(_ad$errors, _toConsumableArray($impl.error.filter(hasValue).map(function ($err) {\n      return $err._value;\n    })));\n  }\n  if ($impl.viewableImpression != null) {\n    ad.viewableImpression = (0, _viewableImpression2.default)($impl.viewableImpression);\n  }\n  if ($impl.adVerifications != null) {\n    $impl.adVerifications.verification.forEach(function ($verification) {\n      try {\n        var verification = (0, _verification2.default)($verification, options);\n        ad.verifications.push(verification);\n      } catch (err) {\n        options.errorHandler(err);\n      }\n    });\n  }\n  if ($impl.extensions != null) {\n    var _ad$extensions;\n\n    (_ad$extensions = ad.extensions).push.apply(_ad$extensions, _toConsumableArray($impl.extensions.extension.map(_extension2.default)));\n  }\n  if ($impl.creatives != null) {\n    $impl.creatives.creative.forEach(function ($creative) {\n      try {\n        var creative = (0, _creative2.default)($creative, options);\n        ad.creatives.add(creative);\n      } catch (err) {\n        options.errorHandler(err);\n      }\n    });\n  }\n  return ad;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/inherit/ad.js?')},5585:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _unmarshaler = __webpack_require__(793);\n\nvar _unmarshaler2 = _interopRequireDefault(_unmarshaler);\n\nvar _schema = __webpack_require__(3551);\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nvar _vast = __webpack_require__(5017);\n\nvar _vast2 = _interopRequireDefault(_vast);\n\nvar _strict = __webpack_require__(4022);\n\nvar _strict2 = _interopRequireDefault(_strict);\n\nvar _loose = __webpack_require__(771);\n\nvar _loose2 = _interopRequireDefault(_loose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DEFAULT_OPTIONS = {\n  strict: false,\n  noSingleAdPods: false\n};\n\nvar toElement = function toElement(xml, options) {\n  if (typeof xml === 'string') {\n    var domParser = options.domParser || new DOMParser();\n    xml = domParser.parseFromString(xml, 'text/xml');\n  }\n  if (xml.documentElement != null) {\n    xml = xml.documentElement;\n  }\n  return xml;\n};\n\nexports[\"default\"] = function (xml) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  options = Object.assign({}, DEFAULT_OPTIONS, options);\n  options.errorHandler = options.strict ? _strict2.default : _loose2.default;\n  var elem = toElement(xml, options);\n  var unmarshaler = new _unmarshaler2.default(_schema2.default);\n  var root = unmarshaler.unmarshal(elem);\n  return (0, _vast2.default)(root, options);\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/parse.js?")},280:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _isNonEmptyString = __webpack_require__(9978);\n\nvar _isNonEmptyString2 = _interopRequireDefault(_isNonEmptyString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = function (item) {\n  return item != null && (0, _isNonEmptyString2.default)(item._value);\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/util/has-value.js?')},2823:(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nexports["default"] = function (arr) {\n  return Array.isArray(arr) && arr.length > 0;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/util/is-non-empty-array.js?')},9978:(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nexports["default"] = function (str) {\n  return typeof str === \'string\' && str.length > 0;\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/util/is-non-empty-string.js?')},620:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _iabVastModel = __webpack_require__(8500);\n\nvar _timeOffset = __webpack_require__(7948);\n\nvar _timeOffset2 = _interopRequireDefault(_timeOffset);\n\nvar _isNonEmptyString = __webpack_require__(9978);\n\nvar _isNonEmptyString2 = _interopRequireDefault(_isNonEmptyString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports[\"default\"] = function ($trackingEvents, trackingEvents, options) {\n  if ($trackingEvents == null || !Array.isArray($trackingEvents.tracking)) {\n    return;\n  }\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = $trackingEvents.tracking[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var $tracking = _step.value;\n\n      if (!(0, _isNonEmptyString2.default)($tracking._value)) {\n        continue;\n      }\n      var conf = new _iabVastModel.TrackingEvent();\n      conf.uri = $tracking._value;\n      // VAST 3.0: 'offset' attribute is available for 'progress' events only.\n      // VAST 4.0: 'offset' attribute is available when <Linear> is the parent.\n      if ((0, _isNonEmptyString2.default)($tracking.offset)) {\n        try {\n          conf.offset = (0, _timeOffset2.default)($tracking.offset);\n        } catch (err) {\n          options.errorHandler(err);\n        }\n      }\n      trackingEvents.add($tracking.event, conf);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/util/map-tracking-events.js?")},1622:(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nvar re = /^\\s*(\\d+):(\\d+):(\\d+(?:\\.\\d+)?)\\s*$/;\n\nexports["default"] = function (str) {\n  var m = re.exec(str);\n  if (m == null) {\n    throw new Error("Failed to parse time \\"" + str + "\\"");\n  }\n  return (parseInt(m[1], 10) * 60 + parseInt(m[2], 10)) * 60 + parseFloat(m[3]);\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/util/parse-time.js?')},3551:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _types = __webpack_require__(5305);\n\nvar _types2 = _interopRequireDefault(_types);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar collections = {\n  AdVerifications: ['Verification'],\n  Companion: ['CompanionClickTracking'],\n  CompanionAds: ['Companion'],\n  CreativeExtensions: ['CreativeExtension'],\n  Creatives: ['Creative'],\n  Extensions: ['Extension'],\n  Icon: ['IconViewTracking'],\n  IconClicks: ['IconClickTracking'],\n  Icons: ['Icon'],\n  InLine: ['Category', 'Error', 'Impression', 'Survey'],\n  MediaFiles: ['MediaFile', 'InteractiveCreativeFile'],\n  NonLinear: ['NonLinearClickTracking'],\n  NonLinearAds: ['NonLinear'],\n  TrackingEvents: ['Tracking'],\n  VAST: ['Error', 'Ad'],\n  Verification: ['JavaScriptResource', 'FlashResource'],\n  ViewableImpression: ['Viewable', 'NotViewable', 'ViewUndetermined'],\n  VideoClicks: ['ClickTracking', 'CustomClick'],\n  Wrapper: ['Impression', 'Error']\n}; // TODO Add required nodes & attributes\n\nvar freeforms = {\n  CreativeExtensions: ['CreativeExtension'],\n  Extensions: ['Extension']\n};\n\nvar types = {\n  Ad: {\n    sequence: _types2.default.int\n  },\n  AdParameters: {\n    xmlEncoded: _types2.default.bool\n  },\n  Companion: {\n    width: _types2.default.int,\n    height: _types2.default.int,\n    expandedWidth: _types2.default.int,\n    expandedHeight: _types2.default.int\n  },\n  Creative: {\n    sequence: _types2.default.int\n  },\n  Duration: {\n    _value: _types2.default.time\n  },\n  Icon: {\n    width: _types2.default.int,\n    height: _types2.default.int,\n    offset: _types2.default.time,\n    duration: _types2.default.time\n  },\n  MediaFile: {\n    bitrate: _types2.default.int,\n    minBitrate: _types2.default.int,\n    maxBitrate: _types2.default.int,\n    width: _types2.default.int,\n    height: _types2.default.int,\n    scalable: _types2.default.bool,\n    maintainAspectRatio: _types2.default.bool\n  },\n  NonLinear: {\n    width: _types2.default.int,\n    height: _types2.default.int,\n    assetWidth: _types2.default.int,\n    assetHeight: _types2.default.int,\n    expandedWidth: _types2.default.int,\n    expandedHeight: _types2.default.int,\n    scalable: _types2.default.bool,\n    maintainAspectRatio: _types2.default.bool,\n    minSuggestedDuration: _types2.default.time\n  },\n  Pricing: {\n    _value: _types2.default.float\n  },\n  Wrapper: {\n    followAdditionalWrappers: _types2.default.bool,\n    allowMultipleAds: _types2.default.bool,\n    fallbackOnNoAd: _types2.default.bool\n  }\n};\n\nexports[\"default\"] = {\n  collections: collections,\n  freeforms: freeforms,\n  types: types\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/vast/schema.js?")},265:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _TYPES$bool$TYPES$int;\n\nvar _types = __webpack_require__(5305);\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _parseTime = __webpack_require__(1622);\n\nvar _parseTime2 = _interopRequireDefault(_parseTime);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports[\"default\"] = (_TYPES$bool$TYPES$int = {}, _defineProperty(_TYPES$bool$TYPES$int, _types2.default.bool, function (str) {\n  return str === 'true' || str === '1';\n}), _defineProperty(_TYPES$bool$TYPES$int, _types2.default.int, function (str) {\n  return parseInt(str, 10);\n}), _defineProperty(_TYPES$bool$TYPES$int, _types2.default.float, parseFloat), _defineProperty(_TYPES$bool$TYPES$int, _types2.default.time, _parseTime2.default), _TYPES$bool$TYPES$int);\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/xml/convertors.js?")},3426:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar nodeTypeIs = function nodeTypeIs(type) {\n  return function (node) {\n    return node.nodeType === type;\n  };\n};\n\nvar isElement = exports.isElement = nodeTypeIs(1);\n\nvar isText = exports.isText = nodeTypeIs(3);\n\nvar isCdata = exports.isCdata = nodeTypeIs(4);\n\nvar getChildren = exports.getChildren = function getChildren(node, filter) {\n  return Array.prototype.filter.call(node.childNodes, filter);\n};\n\nvar isTextOrCdata = function isTextOrCdata(node) {\n  return isText(node) || isCdata(node);\n};\n\nvar getText = exports.getText = function getText(node) {\n  return getChildren(node, isTextOrCdata).map(function (child) {\n    return child.nodeValue;\n  }).join('').trim();\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/xml/dom.js?")},5305:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = {\n  bool: 'b',\n  int: 'i',\n  float: 'f',\n  time: 't'\n};\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/xml/types.js?")},793:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dom = __webpack_require__(3426);\n\nvar _convertors = __webpack_require__(265);\n\nvar _convertors2 = _interopRequireDefault(_convertors);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar toProperty = function () {\n  var re = /^[A-Z]+/;\n  var insert = function insert(m) {\n    return m.length === 1 ? m.toLowerCase() : m.substr(0, m.length - 1).toLowerCase() + m.charAt(m.length - 1);\n  };\n  return function (str) {\n    return str.replace(re, insert);\n  };\n}();\n\nvar hasPair = function hasPair(map, parentName, childName) {\n  return map[parentName] != null && ~map[parentName].indexOf(childName);\n};\n\nvar Unmarshaler = function () {\n  function Unmarshaler(_ref) {\n    var collections = _ref.collections,\n        freeforms = _ref.freeforms,\n        types = _ref.types;\n\n    _classCallCheck(this, Unmarshaler);\n\n    this._collections = collections;\n    this._freeforms = freeforms;\n    this._types = types;\n  }\n\n  _createClass(Unmarshaler, [{\n    key: 'unmarshal',\n    value: function unmarshal(xml) {\n      return this._createNode(xml);\n    }\n  }, {\n    key: '_createNode',\n    value: function _createNode(xml) {\n      var node = Object.create(null);\n      node._value = this._convertPropertyValue((0, _dom.getText)(xml), xml.nodeName, '_value');\n      this._copyAttributes(node, xml);\n      this._createCollections(node, xml);\n      this._createChildren(node, xml);\n      return node;\n    }\n  }, {\n    key: '_createFreeformNode',\n    value: function _createFreeformNode(xml) {\n      var node = Object.create(null);\n      this._copyAttributes(node, xml);\n      node._value = xml;\n      return node;\n    }\n  }, {\n    key: '_copyAttributes',\n    value: function _copyAttributes(node, xml) {\n      var parentName = xml.nodeName;\n      for (var i = 0; i < xml.attributes.length; ++i) {\n        var attrNode = xml.attributes[i];\n        var name = attrNode.nodeName;\n        var rawValue = attrNode.nodeValue;\n        node[name] = this._convertPropertyValue(rawValue, parentName, name);\n      }\n    }\n  }, {\n    key: '_createCollections',\n    value: function _createCollections(node, xml) {\n      if (this._collections[xml.nodeName] != null) {\n        this._collections[xml.nodeName].forEach(function (childName) {\n          node[toProperty(childName)] = [];\n        });\n      }\n    }\n  }, {\n    key: '_createChildren',\n    value: function _createChildren(node, xml) {\n      var _this = this;\n\n      var parentName = xml.nodeName;\n      (0, _dom.getChildren)(xml, _dom.isElement).forEach(function (child) {\n        var childName = child.nodeName;\n        var prop = toProperty(childName);\n        if (_this._isFreeformParent(parentName)) {\n          if (_this._isFreeformChild(parentName, childName)) {\n            _this._addFreeformChild(child, prop, node);\n          }\n        } else {\n          _this._addNodeChild(child, prop, node, parentName, childName);\n        }\n      });\n    }\n  }, {\n    key: '_addNodeChild',\n    value: function _addNodeChild(child, prop, parentNode, parentName, childName) {\n      var childNode = this._createNode(child);\n      if (parentNode[prop] == null) {\n        parentNode[prop] = childNode;\n      } else if (this._isCollection(parentName, childName)) {\n        parentNode[prop].push(childNode);\n      } else {\n        throw new Error('Multiple values for ' + parentName + '.' + childName);\n      }\n    }\n  }, {\n    key: '_addFreeformChild',\n    value: function _addFreeformChild(child, prop, parentNode) {\n      parentNode[prop] = parentNode[prop] || [];\n      parentNode[prop].push(this._createFreeformNode(child));\n    }\n  }, {\n    key: '_convertPropertyValue',\n    value: function _convertPropertyValue(value, parentName, property) {\n      var typeId = this._types[parentName] != null ? this._types[parentName][property] : null;\n      return typeId != null ? _convertors2.default[typeId](value) : value;\n    }\n  }, {\n    key: '_isCollection',\n    value: function _isCollection(parentName, childName) {\n      return hasPair(this._collections, parentName, childName);\n    }\n  }, {\n    key: '_isFreeformParent',\n    value: function _isFreeformParent(name) {\n      return this._freeforms[name] != null;\n    }\n  }, {\n    key: '_isFreeformChild',\n    value: function _isFreeformChild(parentName, childName) {\n      return hasPair(this._freeforms, parentName, childName);\n    }\n  }]);\n\n  return Unmarshaler;\n}();\n\nexports[\"default\"] = Unmarshaler;\n\n//# sourceURL=webpack://native/./node_modules/iab-vast-parser/lib/xml/unmarshaler.js?")},899:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// UNUSED EXPORTS: Banner, Native, Video\n\n;// CONCATENATED MODULE: ./node_modules/await-to-js/dist/await-to-js.es5.js\n/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\n\n/* harmony default export */ const await_to_js_es5 = (to);\n//# sourceMappingURL=await-to-js.es5.js.map\n\n;// CONCATENATED MODULE: ./src/Creative/utility.ts\nfunction utility_isMobile() {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\n            check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n/**\n * @param el\n * @param percentage\n */\nfunction isDomElementPartInViewport(el, percentage) {\n    if (percentage === void 0) { percentage = 50; }\n    var bounding = el.getBoundingClientRect();\n    var _a = bounding || {}, _b = _a.top, top = _b === void 0 ? null : _b, _c = _a.bottom, bottom = _c === void 0 ? null : _c, _d = _a.height, height = _d === void 0 ? null : _d;\n    var expectedHeight = height * ((100 - percentage) / 100);\n    return top >= -expectedHeight && bottom <= (getDeviceHeight() + expectedHeight);\n}\nfunction getDeviceHeight() {\n    return window.innerHeight || document.documentElement.clientHeight || screen.height || 0;\n}\n\n;// CONCATENATED MODULE: ./src/constants.ts\nvar IFRAME_INLINE_STYLE = "height: 100% !important; width: 100% !important; z-index: 1; overflow: hidden; min-height: inherit !important; min-width: inherit !important; max-height: inherit !important; max-width: inherit !important; display: block !important;border: 0 !important;";\nvar IFRAME_SANDBOX = "allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation";\nvar BLIINK_CLASS_PREFIX = "bliink";\nvar BLIINK_ADUNIT_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-adunit");\nvar BLIINK_NATIVE_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-native");\nvar BLIINK_ADUNIT_WRAPPER_CLASS = "".concat(BLIINK_ADUNIT_CLASS, "__wrapper");\nvar BLIINK_ADUNIT_IFRAME_CLASS = "".concat(BLIINK_ADUNIT_CLASS, "__iframe");\nvar BLIINK_ADUNIT_OVERLAY_CLASS = "".concat(BLIINK_ADUNIT_CLASS, "__overlay");\nvar BLIINK_ADVIEW_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-adview");\nvar BLIINK_PLAYER_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-player");\nvar BLIINK_PLAY_CLASS = "".concat(BLIINK_CLASS_PREFIX, "-replay-button");\nvar CREATIVE_POST_MESSAGE = "https://tag.bliink.io/creative.min.js";\nvar PIXEL_INLINE_STYLE = "width: 1px; height: 1px; border: 0; opacity: 0;";\nvar IMAGES_LOCATOR_QUERY = \'img, div[style*="background-image"], div[style*="background: url"]\';\nvar IMAGES_LOCATOR_QUERY_WRAPPER = \':wrapper img, :wrapper picture span, :wrapper div[style*="background-image"], :wrapper div[style*="background: url"]\';\nvar EVENT_API_URL = "https://e.api.bliink.io";\nvar CreativeEvent;\n(function (CreativeEvent) {\n    CreativeEvent["CLICK"] = "bliink-click";\n    CreativeEvent["VISIBLE"] = "bliink-visible";\n    CreativeEvent["SHOW"] = "bliink-show";\n    CreativeEvent["HIDE"] = "bliink-hide";\n    CreativeEvent["HIDE_CLOSE"] = "bliink-hide-close";\n    CreativeEvent["DESTROY"] = "bliink-destroy";\n    CreativeEvent["PLAY_VIDEO"] = "bliink-play-video";\n    CreativeEvent["VIDEO_STARTED"] = "bliink-video-started";\n    CreativeEvent["VIDEO_FIRST_QUARTILE"] = "bliink-video-first-quartile";\n    CreativeEvent["VIDEO_MIDPOINT"] = "bliink-video-midpoint";\n    CreativeEvent["VIDEO_THIRD_QUARTILE"] = "bliink-video-third-quartile";\n    CreativeEvent["VIDEO_COMPLETE"] = "bliink-video-complete";\n    CreativeEvent["EVENT"] = "bliink-event";\n    CreativeEvent["EXPAND"] = "bliink-expand";\n    CreativeEvent["REDUCE"] = "bliink-reduce";\n    CreativeEvent["STICKY"] = "bliink-sticky";\n    CreativeEvent["ENABLE_SWITCH"] = "bliink-enable-switch";\n    CreativeEvent["SWITCH"] = "bliink-switch";\n})(CreativeEvent || (CreativeEvent = {}));\nvar constants_AdEvent;\n(function (AdEvent) {\n    AdEvent["AD_ERROR"] = "adError";\n    AdEvent["ERROR"] = "error";\n    AdEvent["CALL"] = "call";\n    AdEvent["IMPRESSION"] = "impression";\n    AdEvent["CLICK"] = "click";\n    AdEvent["VISIBLE"] = "visible";\n    AdEvent["CLOSE"] = "close";\n    AdEvent["CREATIVE_VIEW"] = "creativeView";\n    AdEvent["STARTED"] = "start";\n    AdEvent["FIRST_QUARTILE"] = "firstquartile";\n    AdEvent["MIDPOINT"] = "midpoint";\n    AdEvent["THIRD_QUARTILE"] = "thirdquartile";\n    AdEvent["COMPLETE"] = "complete";\n    AdEvent["RESUMED"] = "resume";\n    AdEvent["ADBLOCK"] = "adblock";\n    AdEvent["BID_REQUEST"] = "bid-request";\n    AdEvent["BID_RESPONSE"] = "bid-response";\n    AdEvent["CREATIVE_ERROR"] = "creative-error";\n    AdEvent["CUSTOM"] = "custom";\n    AdEvent["VISIBLE_THIRTY"] = "bliink-visible-thirty";\n    AdEvent["VISIBLE_FIFTY_ONE"] = "bliink-visible-fifty-one";\n    AdEvent["VISIBLE_FIFTY_TWO"] = "bliink-visible-fifty-two";\n    AdEvent["VISIBLE_FULL"] = "bliink-visible-full";\n})(constants_AdEvent || (constants_AdEvent = {}));\nvar AdMode;\n(function (AdMode) {\n    AdMode["TEST"] = "test";\n    AdMode["AD_SERVER"] = "normal";\n    AdMode["AD_SERVER_NEW"] = "ad";\n    AdMode["RTB"] = "rtb";\n    AdMode["NO_AD"] = "no-ad";\n})(AdMode || (AdMode = {}));\nvar MediaFileType;\n(function (MediaFileType) {\n    MediaFileType["VPAID"] = "application/javascript";\n    MediaFileType["VIDEO"] = "video/mp4";\n})(MediaFileType || (MediaFileType = {}));\n\n;// CONCATENATED MODULE: ./src/vast/loadVast.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\nfunction loadVast(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _a, response, _b, vastString;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!url) {\n                        throw new Error(\'Empty URL\');\n                    }\n                    return [4 /*yield*/, await_to_js_es5(fetch(url))];\n                case 1:\n                    _a = _c.sent(), response = _a[1];\n                    if (!(response && response.ok)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, await_to_js_es5(response.text())];\n                case 2:\n                    _b = _c.sent(), vastString = _b[1];\n                    if (vastString) {\n                        return [2 /*return*/, (new window.DOMParser()).parseFromString(vastString, \'text/xml\')];\n                    }\n                    _c.label = 3;\n                case 3: throw new Error(\'Failed to read VAST\');\n            }\n        });\n    });\n}\n\n// EXTERNAL MODULE: ./node_modules/iab-vast-parser/index.js\nvar iab_vast_parser = __webpack_require__(8561);\nvar iab_vast_parser_default = /*#__PURE__*/__webpack_require__.n(iab_vast_parser);\n;// CONCATENATED MODULE: ./src/vast/index.ts\nvar vast_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar vast_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\n\n\n\n\nfunction getTrackingEvent(values) {\n    if (values && values.length > 0) {\n        return values.map(function (value) {\n            return value._uri || value;\n        });\n    }\n    return [];\n}\nfunction getVastContent(xml) {\n    try {\n        if (!xml)\n            return null;\n        var parsedVast = iab_vast_parser_default()(xml);\n        console.log("parsedVast", parsedVast);\n        var _a = (parsedVast || {})._ads, ads = _a === void 0 ? null : _a;\n        var _b = (parsedVast || {})._adPod, adPod = _b === void 0 ? null : _b;\n        if ((!ads || ads.length === 0) && adPod._ads) {\n            ads = adPod._ads;\n        }\n        var _c = (ads || {})._contents, contents = _c === void 0 ? null : _c;\n        if (contents && contents.length > 0) {\n            return contents[0];\n        }\n        return null;\n    }\n    catch (error) {\n        console.log("catch error: " + error);\n        return null;\n    }\n}\nfunction getVastData(xml) {\n    return vast_awaiter(this, void 0, void 0, function () {\n        var vastContent, _a, vastTagURI, _b, _c, _d, creatives, _e, _impressions, _f, _errors, mediaFiles, duration, trackingEvents, clickUrl, adParameters, isVpaid, mediaFile, _g, linearAd, trackings_1, _h, vastTag;\n        return vast_generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    vastContent = getVastContent(xml);\n                    console.log("vastContent", vastContent);\n                    if (!vastContent) {\n                        throw new Error("invalid vast");\n                    }\n                    _a = vastContent._vastAdTagURI, vastTagURI = _a === void 0 ? null : _a, _b = vastContent._creatives, _c = _b === void 0 ? {} : _b, _d = _c._contents, creatives = _d === void 0 ? null : _d, _e = vastContent._impressions, _impressions = _e === void 0 ? [] : _e, _f = vastContent._errors, _errors = _f === void 0 ? [] : _f;\n                    mediaFiles = [];\n                    duration = 0;\n                    trackingEvents = {};\n                    clickUrl = null;\n                    adParameters = null;\n                    isVpaid = false;\n                    mediaFile = null;\n                    trackingEvents[constants_AdEvent.IMPRESSION] = getTrackingEvent(_impressions);\n                    trackingEvents[constants_AdEvent.ERROR] = getTrackingEvent(_errors);\n                    if (creatives && creatives.length > 0) {\n                        console.log("creatives***", creatives);\n                        _g = (creatives.find(function (creative) { return creative._linear; }) || {})._linear, linearAd = _g === void 0 ? null : _g;\n                        if (linearAd) {\n                            // media files\n                            mediaFiles = linearAd._mediaFiles.filter(function (mediaFile) {\n                                return mediaFile._uri &&\n                                    mediaFile._type &&\n                                    Object.values(MediaFileType).includes(mediaFile._type);\n                            });\n                            isVpaid = mediaFiles.some(function (mediaFile) { return mediaFile._type === MediaFileType.VPAID; });\n                            mediaFile = mediaFiles.find(function (mediaFile) {\n                                return mediaFile._type ===\n                                    (isVpaid ? MediaFileType.VPAID : MediaFileType.VIDEO);\n                            });\n                            // duration\n                            duration = linearAd._duration || 0;\n                            // trackingEvents\n                            if (linearAd._trackingEvents) {\n                                trackings_1 = linearAd._trackingEvents._map;\n                                Object.keys(trackings_1).forEach(function (value) {\n                                    if (!trackingEvents[value.toLowerCase()]) {\n                                        trackingEvents[value.toLowerCase()] = [];\n                                    }\n                                    trackingEvents[value.toLowerCase()] = __spreadArray(__spreadArray([], trackingEvents[value.toLowerCase()], true), getTrackingEvent(trackings_1[value]), true);\n                                });\n                            }\n                            // video clicks\n                            if (linearAd._videoClicks) {\n                                if (linearAd._videoClicks._clickTrackings &&\n                                    linearAd._videoClicks._clickTrackings.length !== 0) {\n                                    linearAd._videoClicks._clickTrackings.forEach(function (clickTracking) {\n                                        if (!trackingEvents[constants_AdEvent.CLICK]) {\n                                            trackingEvents[constants_AdEvent.CLICK] = [];\n                                        }\n                                        trackingEvents[constants_AdEvent.CLICK].push(clickTracking._uri);\n                                    });\n                                }\n                                if (linearAd._videoClicks._clickThrough) {\n                                    clickUrl = linearAd._videoClicks._clickThrough._uri;\n                                }\n                            }\n                            // ad parameters\n                            if (linearAd._adParameters && !vastTagURI) {\n                                adParameters = linearAd._adParameters;\n                            }\n                        }\n                    }\n                    if (!vastTagURI) return [3 /*break*/, 2];\n                    return [4 /*yield*/, await_to_js_es5(getVastFromUrl(vastTagURI, false))];\n                case 1:\n                    _h = _j.sent(), vastTag = _h[1];\n                    if (vastTag) {\n                        mediaFile = vastTag.mediaFile || mediaFile;\n                        isVpaid = vastTag.isVpaid || isVpaid;\n                        duration = duration || vastTag.duration;\n                        mediaFiles = __spreadArray(__spreadArray([], mediaFiles, true), vastTag.mediaFiles, true);\n                        trackingEvents = combineObjects(trackingEvents, vastTag.trackingEvents);\n                        clickUrl = vastTag.clickUrl || clickUrl;\n                        adParameters = vastTag.adParameters || adParameters;\n                    }\n                    _j.label = 2;\n                case 2: return [2 /*return*/, {\n                        isVpaid: isVpaid,\n                        mediaFile: mediaFile,\n                        trackingEvents: trackingEvents,\n                        mediaFiles: mediaFiles,\n                        duration: duration,\n                        clickUrl: clickUrl,\n                        adParameters: adParameters,\n                    }];\n            }\n        });\n    });\n}\nfunction getVastFromXml(xml, checkMediaFile) {\n    if (checkMediaFile === void 0) { checkMediaFile = true; }\n    return vast_awaiter(this, void 0, void 0, function () {\n        var _a, err, vast, _b, mediaFile;\n        return vast_generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, await_to_js_es5(getVastData(xml))];\n                case 1:\n                    _a = _c.sent(), err = _a[0], vast = _a[1];\n                    console.log("vast @@@", vast);\n                    console.log("err @@@", err);\n                    if (err) {\n                        throw err;\n                    }\n                    if (checkMediaFile) {\n                        _b = vast.mediaFile, mediaFile = _b === void 0 ? null : _b;\n                        if (!mediaFile) {\n                            throw new Error("no media file");\n                        }\n                    }\n                    return [2 /*return*/, vast];\n            }\n        });\n    });\n}\nfunction getVastFromUrl(url, checkMediaFile) {\n    if (checkMediaFile === void 0) { checkMediaFile = true; }\n    return vast_awaiter(this, void 0, void 0, function () {\n        var _a, xmlError, xml, _b, err, vast;\n        return vast_generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, await_to_js_es5(loadVast(url))];\n                case 1:\n                    _a = _c.sent(), xmlError = _a[0], xml = _a[1];\n                    if (xmlError) {\n                        throw xmlError;\n                    }\n                    return [4 /*yield*/, await_to_js_es5(getVastFromXml(xml, checkMediaFile))];\n                case 2:\n                    _b = _c.sent(), err = _b[0], vast = _b[1];\n                    if (err) {\n                        throw err;\n                    }\n                    return [2 /*return*/, vast];\n            }\n        });\n    });\n}\n\n;// CONCATENATED MODULE: ./src/helpers/helpers.ts\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar helpers_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar helpers_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar helpers_spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\n\n\n\n\nvar CreativeCategory;\n(function (CreativeCategory) {\n    CreativeCategory[CreativeCategory["IN_IMAGE"] = 1] = "IN_IMAGE";\n    CreativeCategory[CreativeCategory["IN_IMAGE_FRAME"] = 2] = "IN_IMAGE_FRAME";\n    CreativeCategory[CreativeCategory["IN_IMAGE_VIDEO"] = 3] = "IN_IMAGE_VIDEO";\n    CreativeCategory[CreativeCategory["IN_IMAGE_HOT_SPOT"] = 4] = "IN_IMAGE_HOT_SPOT";\n    CreativeCategory[CreativeCategory["FOOTER"] = 5] = "FOOTER";\n    CreativeCategory[CreativeCategory["IN_FEED"] = 6] = "IN_FEED";\n    CreativeCategory[CreativeCategory["VAST"] = 7] = "VAST";\n})(CreativeCategory || (CreativeCategory = {}));\nvar MediaType;\n(function (MediaType) {\n    MediaType["VIDEO"] = "video";\n    MediaType["BANNER"] = "banner";\n    MediaType["NATIVE"] = "native";\n    MediaType["VPAID"] = "vpaid";\n})(MediaType || (MediaType = {}));\nvar helpers_AdMode;\n(function (AdMode) {\n    AdMode["TEST"] = "test";\n    AdMode["AD_SERVER"] = "normal";\n    AdMode["AD_SERVER_NEW"] = "ad";\n    AdMode["RTB"] = "rtb";\n    AdMode["NO_AD"] = "no-ad";\n})(helpers_AdMode || (helpers_AdMode = {}));\nvar CreativeType;\n(function (CreativeType) {\n    CreativeType[CreativeType["URL"] = 1] = "URL";\n    CreativeType[CreativeType["CODE"] = 2] = "CODE";\n})(CreativeType || (CreativeType = {}));\nvar DeliveryMode;\n(function (DeliveryMode) {\n    DeliveryMode[DeliveryMode["NOT_PREFETCH"] = 0] = "NOT_PREFETCH";\n    DeliveryMode[DeliveryMode["PREFETCH"] = 1] = "PREFETCH";\n})(DeliveryMode || (DeliveryMode = {}));\nvar LOG_PREFIX = "BLIINK";\nvar MessageType;\n(function (MessageType) {\n    MessageType["DEBUG"] = "debug";\n    MessageType["INFO"] = "info";\n    MessageType["WARN"] = "warn";\n    MessageType["ERROR"] = "error";\n})(MessageType || (MessageType = {}));\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    Logger.prototype.debug = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.DEBUG, message, supportingData);\n    };\n    Logger.prototype.info = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.INFO, message, supportingData);\n    };\n    Logger.prototype.warn = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.WARN, message, supportingData);\n    };\n    Logger.prototype.error = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.ERROR, message, supportingData);\n    };\n    Logger.showLogs = function () {\n        var _a;\n        var debug = (_a = new URLSearchParams(window.location.search)) === null || _a === void 0 ? void 0 : _a.get("bliink_debug");\n        return !!(debug || ["test-logger", "development"].includes("production"));\n    };\n    Logger.emitLogMessage = function (messageType, message, supportingData) {\n        if (!Logger.showLogs()) {\n            return;\n        }\n        if (supportingData.length > 0) {\n            console[messageType](LOG_PREFIX, "[".concat(messageType, "]"), message, supportingData);\n            return;\n        }\n        console[messageType](LOG_PREFIX, "[".concat(messageType, "]"), message);\n    };\n    return Logger;\n}());\n\n/**\n * @param el\n * @param message\n */\nfunction sendMessageToCreative(el, message) {\n    console.log("Bliink sendMessageToCreative called", el, message);\n    if (el && el.contentWindow && message) {\n        el.contentWindow.postMessage(message, "*");\n        console.log("message sent");\n        return true;\n    }\n    console.log("message not sent");\n    return false;\n}\n/**\n * @param event\n */\nfunction getMessageFrameOrigin(event) {\n    var iframes = Array.from(document.getElementsByTagName(\'iframe\'));\n    var iframe = iframes.find(function (f) { return f.contentWindow === event.source\n        || (event.source && f.contentWindow === event.source.parent); });\n    if (iframe) {\n        return iframe;\n    }\n    return iframes.find(function (frame) { return frame.src.indexOf(event.origin) === 0; });\n}\nfunction asyncChecker(checker) {\n    var resolve;\n    var reject;\n    var promise = new Promise(function (resolveFromPromise, rejectFromPromise) {\n        resolve = resolveFromPromise;\n        reject = rejectFromPromise;\n    });\n    var timerInterval = setInterval(function () {\n        checker(resolve, timerInterval);\n    }, 10);\n    return {\n        promise: promise,\n        cancel: function () {\n            clearInterval(timerInterval);\n            reject(new Error("InsTagChecker canceled"));\n        },\n    };\n}\n/**\n * @param el\n * @param params\n */\nfunction viewabilityChecker(el, params) {\n    if (!el ||\n        (typeof el !== "object" &&\n            typeof params.percentInViewport !== "number" &&\n            typeof params.inViewDuration !== "number")) {\n        throw new Error("LazyLoading invalid parameters");\n    }\n    var viewabilityCounter = 0;\n    return asyncChecker(function (resolve, timerInterval) {\n        if (viewabilityCounter < params.inViewDuration * 100) {\n            if (isDomElementPartInViewport(el, params.percentInViewport)) {\n                viewabilityCounter += 1;\n                return;\n            }\n            // TODO test without counter reset\n            // viewabilityCounter = 0\n            return;\n        }\n        clearInterval(timerInterval);\n        resolve();\n    });\n}\nfunction sendEventWithToken(eventName, token, label) {\n    return helpers_awaiter(this, void 0, void 0, function () {\n        var urlWithParams, _a, err, response, _b, event_1;\n        return helpers_generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!(eventName && token)) return [3 /*break*/, 4];\n                    urlWithParams = "".concat(EVENT_API_URL, "/e?token=").concat(token, "&name=").concat(eventName);\n                    if (label && typeof label === "string") {\n                        urlWithParams = "".concat(urlWithParams, "&label=").concat(label);\n                    }\n                    return [4 /*yield*/, await_to_js_es5(fetch(urlWithParams))];\n                case 1:\n                    _a = _c.sent(), err = _a[0], response = _a[1];\n                    if (!(response && response.ok)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, await_to_js_es5(response.json())];\n                case 2:\n                    _b = _c.sent(), event_1 = _b[1];\n                    return [2 /*return*/, event_1];\n                case 3: throw err;\n                case 4: throw new Error("Missing params");\n            }\n        });\n    });\n}\nvar adDecodeData = function (encodedText) {\n    return JSON.parse(atob(encodedText));\n};\nvar getAdData = function () {\n    var _a, _b, _c, _d;\n    try {\n        var ad = adDecodeData((_b = (_a = document === null || document === void 0 ? void 0 : document.currentScript) === null || _a === void 0 ? void 0 : _a.dataset) === null || _b === void 0 ? void 0 : _b.ad);\n        var format = (_d = (_c = document === null || document === void 0 ? void 0 : document.currentScript) === null || _c === void 0 ? void 0 : _c.dataset) === null || _d === void 0 ? void 0 : _d.format;\n        if (!ad)\n            throw new Error("No Ad found on document.currentScript.dataset.ad");\n        if (format == "IN_SCREEN")\n            ad.display_type = "sticky";\n        return ad;\n    }\n    catch (error) {\n        console.log("error getting currentScript.dataset.ad", error);\n        return {};\n    }\n};\nvar verticalCrea = [\n    [160, 600],\n    [300, 250],\n    [300, 1050],\n    [640, 1136],\n];\nvar horizontalCrea = [\n    [970, 250],\n    [970, 90],\n    [720, 90],\n    [300, 50],\n];\nvar getCreatFormat = function (size) {\n    var isHorizontalFormat = false;\n    var creaTypes = {\n        vertical: false,\n        horizontal: false,\n    };\n    for (var i = 0; i < 4; i++) {\n        if (verticalCrea[i][0] === size[0] && verticalCrea[i][1] === size[1]) {\n            creaTypes.vertical = true;\n            break;\n        }\n        if (horizontalCrea[i][0] === size[0] && horizontalCrea[i][1] === size[1]) {\n            isHorizontalFormat = true;\n            break;\n        }\n    }\n    if (!isHorizontalFormat && size[0] / 3 > size[1]) {\n        isHorizontalFormat = true;\n    }\n    return isHorizontalFormat;\n};\n/**\n * @param object1\n * @param object2\n */\nfunction combineObjects(object1, object2) {\n    return Object.keys(__assign(__assign({}, object1), object2)).reduce(function (accumulator, currentValue) {\n        var _a;\n        return __assign(__assign({}, accumulator), (_a = {}, _a[currentValue] = helpers_spreadArray(helpers_spreadArray([], (object1[currentValue] || []), true), (object2[currentValue] || []), true), _a));\n    }, {});\n}\nfunction helpers_getVastFromUrl(url, checkMediaFile) {\n    if (checkMediaFile === void 0) { checkMediaFile = true; }\n    return helpers_awaiter(this, void 0, void 0, function () {\n        var _a, xmlError, xml, _b, err, vast;\n        return helpers_generator(this, function (_c) {\n            switch (_c.label) {\n                case 0: return [4 /*yield*/, await_to_js_es5(loadVast(url))];\n                case 1:\n                    _a = _c.sent(), xmlError = _a[0], xml = _a[1];\n                    if (xmlError) {\n                        throw xmlError;\n                    }\n                    return [4 /*yield*/, await_to_js_es5(getVastFromXml(xml, checkMediaFile))];\n                case 2:\n                    _b = _c.sent(), err = _b[0], vast = _b[1];\n                    if (err) {\n                        throw err;\n                    }\n                    return [2 /*return*/, vast];\n            }\n        });\n    });\n}\nfunction sendEventWithUri(uri) {\n    return helpers_awaiter(this, void 0, void 0, function () {\n        var _a, err, response;\n        return helpers_generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!uri) return [3 /*break*/, 2];\n                    return [4 /*yield*/, await_to_js_es5(fetch(uri))];\n                case 1:\n                    _a = _b.sent(), err = _a[0], response = _a[1];\n                    if (response && response.ok) {\n                        return [2 /*return*/, uri];\n                    }\n                    throw err;\n                case 2: throw new Error("Missing params");\n            }\n        });\n    });\n}\nfunction isRTB(ad) {\n    return (ad === null || ad === void 0 ? void 0 : ad.creative) && (ad === null || ad === void 0 ? void 0 : ad.mode) === helpers_AdMode.RTB;\n}\nfunction getAdCreativeRTB(ad) {\n    return (ad === null || ad === void 0 ? void 0 : ad.creative) ? ad.creative : null;\n}\nfunction isAdServer(ad) {\n    // @ts-ignore\n    return !!(\n    // @ts-ignore\n    ((ad === null || ad === void 0 ? void 0 : ad.creative) && (ad.creative.adm || ad.creative.url)));\n}\nfunction getAdServerCreative(ad) {\n    if (isAdServer(ad)) {\n        return ad.creative;\n    }\n    return null;\n}\n/**\n * @param stylesheets\n */\nfunction appendStylesheets(stylesheets, isSticky) {\n    var _a, _b;\n    if (isSticky === void 0) { isSticky = false; }\n    if (!stylesheets) {\n        return;\n    }\n    try {\n        var topHead = ((_a = window.top.document) === null || _a === void 0 ? void 0 : _a.head) ||\n            ((_b = window.top.document) === null || _b === void 0 ? void 0 : _b.getElementsByTagName("head")[0]);\n        var head = document.head || document.getElementsByTagName("head")[0];\n        var style = document.createElement("style");\n        style.type = "text/css";\n        if (style.styleSheet) {\n            style.styleSheet.cssText = stylesheets;\n        }\n        else {\n            style.appendChild(document.createTextNode(stylesheets));\n        }\n        if (isSticky) {\n            topHead.appendChild(style);\n        }\n        else {\n            head.appendChild(style);\n        }\n    }\n    catch (e) {\n        console.log("failed appending style");\n    }\n}\nvar NativeEventType;\n(function (NativeEventType) {\n    NativeEventType[NativeEventType["IMPRESSION"] = 1] = "IMPRESSION";\n    NativeEventType[NativeEventType["VIEWABLE_MRC50"] = 2] = "VIEWABLE_MRC50";\n    NativeEventType[NativeEventType["VIEWABLE_MRC100"] = 3] = "VIEWABLE_MRC100";\n    NativeEventType[NativeEventType["VIEWABLE_VIDEO50"] = 4] = "VIEWABLE_VIDEO50";\n})(NativeEventType || (NativeEventType = {}));\nvar NativeEventTrackingMethod;\n(function (NativeEventTrackingMethod) {\n    NativeEventTrackingMethod[NativeEventTrackingMethod["IMG"] = 1] = "IMG";\n    NativeEventTrackingMethod[NativeEventTrackingMethod["JS"] = 2] = "JS";\n})(NativeEventTrackingMethod || (NativeEventTrackingMethod = {}));\nvar Exchange;\n(function (Exchange) {\n    Exchange["APPNEXUS"] = "appnexus";\n    Exchange["FREEWHEEL"] = "freewheel-ssp";\n    Exchange["RICHAUDIENCE"] = "richaudience";\n    Exchange["SMILEWANTED"] = "smilewanted";\n    Exchange["OUTBRAIN"] = "outbrain";\n    Exchange["ADAGIO"] = "adagio";\n})(Exchange || (Exchange = {}));\nfunction setAdMacros(adm, options) {\n    return (adm === null || adm === void 0 ? void 0 : adm\n    // Sticky\n    .replace(\'"${STICKY}"\', String(options.isSticky)));\n    // Image Url\n}\nvar getScaleValue = function (adm, locationHeight, locationWidth) {\n    var _a, _b;\n    var height = locationHeight || window.document.body.clientHeight;\n    var width = locationWidth || window.document.body.clientWidth;\n    var creaWidth = +((_a = adm === null || adm === void 0 ? void 0 : adm.banner) === null || _a === void 0 ? void 0 : _a.width);\n    var creaHeight = +((_b = adm === null || adm === void 0 ? void 0 : adm.banner) === null || _b === void 0 ? void 0 : _b.height);\n    var a = height / creaHeight;\n    var b = width / creaWidth;\n    return Math.min(a, b);\n};\nfunction viewabilityParameters(creative) {\n    if ((creative === null || creative === void 0 ? void 0 : creative.viewability_duration) == 1 &&\n        (creative === null || creative === void 0 ? void 0 : creative.viewability_percent_in_view) == 100) {\n        return AdEvent.VISIBLE_FULL;\n    }\n    if ((creative === null || creative === void 0 ? void 0 : creative.viewability_duration) == 1 &&\n        (creative === null || creative === void 0 ? void 0 : creative.viewability_percent_in_view) == 50) {\n        return AdEvent.VISIBLE_FIFTY_ONE;\n    }\n    if ((creative === null || creative === void 0 ? void 0 : creative.viewability_duration) == 2 &&\n        (creative === null || creative === void 0 ? void 0 : creative.viewability_percent_in_view) == 50) {\n        return AdEvent.VISIBLE_FIFTY_TWO;\n    }\n    return AdEvent.VISIBLE_FIFTY_TWO;\n}\nvar TagStickyPosition;\n(function (TagStickyPosition) {\n    TagStickyPosition["TopLeft"] = "top_left";\n    TagStickyPosition["TopRight"] = "top_right";\n    TagStickyPosition["BottomLeft"] = "bottom_left";\n    TagStickyPosition["BottomRight"] = "bottom_right";\n})(TagStickyPosition || (TagStickyPosition = {}));\nfunction isPaveCreative(ad) {\n    var _a;\n    var creative = (_a = getAdCreativeRTB(ad)) === null || _a === void 0 ? void 0 : _a.banner;\n    var w = parseInt("".concat(creative === null || creative === void 0 ? void 0 : creative.width), 10);\n    var h = parseInt("".concat(creative === null || creative === void 0 ? void 0 : creative.height), 10);\n    return w === 300 && h === 250;\n}\nfunction creativeIsBanner(ad) {\n    var _a;\n    return ((_a = getAdCreativeRTB(ad)) === null || _a === void 0 ? void 0 : _a.media_type) === MediaType.BANNER;\n}\n\n;// CONCATENATED MODULE: ./src/Creative/index.ts\nvar Creative_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar Creative_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar CreativeComponent = /** @class */ (function () {\n    //endregion Properties\n    //region Initialization\n    /**\n     * @param Ad\n     * @param size\n     */\n    function CreativeComponent(Ad) {\n        var _this = this;\n        var _a, _b;\n        this.Ad = Ad;\n        this.isLoaded = false;\n        this.isVisible = false;\n        this.isRendered = false;\n        this.isMobile = false;\n        this.isSticky = false;\n        this.onHandleClickCloseButton = function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            _this.destroy();\n            return;\n        };\n        this.getContainer = function () {\n            return _this.container;\n        };\n        //endregion Getters\n        //region Actions\n        this.isDestroyed = false;\n        this.myWindow = window.top;\n        console.log(window, window.top, this.myWindow);\n        this.container = this.myWindow.document.createElement("div");\n        this.container.className = "bliink-adview";\n        this.myWindow.addEventListener(\'message\', this.onCreativeMessageHandler.bind(this));\n        this.isSticky = ((_a = this.Ad) === null || _a === void 0 ? void 0 : _a.display_type) === "sticky";\n        this.creativeView = this.container;\n        if (((_b = this.Ad) === null || _b === void 0 ? void 0 : _b.display_type) !== "sticky")\n            return;\n        var isMobile = utility_isMobile();\n        var stickyPosition = TagStickyPosition.BottomLeft;\n        if (isMobile) {\n            stickyPosition = TagStickyPosition.BottomRight;\n        }\n        var classes = " bliink-adunit--sticky bliink-adunit--sticky-".concat(stickyPosition, " bliink-adunit--sticky--unify in-image-frame test");\n        this.container.className += classes;\n        if (this.Ad.creative.media_type === "native") {\n            this.container.classList.remove("in-image-frame");\n        }\n        var buttonClose = document.createElement("div");\n        buttonClose.classList.add("bliink-adunit__close");\n        buttonClose.style.opacity = "1";\n        buttonClose.addEventListener("click", function (e) {\n            return _this.onHandleClickCloseButton(e);\n        });\n        buttonClose.addEventListener("touchend", function (e) {\n            return _this.onHandleClickCloseButton(e);\n        });\n        this.container.appendChild(buttonClose);\n    }\n    CreativeComponent.prototype.adaptCreativeSize = function (size) {\n        var _a, _b, _c;\n        var creative = (_a = getAdCreativeRTB(this.Ad)) === null || _a === void 0 ? void 0 : _a.banner;\n        if (!creative) {\n            return size;\n        }\n        var w = parseInt("".concat(creative === null || creative === void 0 ? void 0 : creative.width), 10);\n        var h = parseInt("".concat(creative === null || creative === void 0 ? void 0 : creative.height), 10);\n        if (w < h) {\n            // vertical creative\n            var scale = (size === null || size === void 0 ? void 0 : size.height) / h;\n            size.width = scale * w;\n            size.height = Math.round(size.height);\n        }\n        else {\n            // horizontal creative\n            var scale = (size === null || size === void 0 ? void 0 : size.width) / w;\n            size.width = Math.round(size.width);\n            size.height = Math.round(scale * h);\n        }\n        var isMobileDesign = false;\n        if (isPaveCreative(this.Ad)) {\n            size.height = 167;\n            size.width = 200;\n            isMobileDesign = true;\n        }\n        var vh = Math.round(window.top.innerHeight || 0);\n        var maxH = Math.round(vh * 0.25);\n        // vertical creative\n        if (size.height > size.width) {\n            var scale = maxH / size.height;\n            size.height = maxH;\n            size.width = Math.round(scale * size.width);\n            isMobileDesign = true;\n        }\n        var isMobile = utility_isMobile();\n        // limit creative height on mobile\n        if (isMobile && size.height > maxH) {\n            var scale = maxH / size.height;\n            size.height = maxH;\n            size.width = Math.round(scale * size.width);\n        }\n        if (isMobile && isMobileDesign) {\n            (_b = this.container) === null || _b === void 0 ? void 0 : _b.classList.add("bliink-adunit--sticky--unify");\n        }\n        else {\n            (_c = this.container) === null || _c === void 0 ? void 0 : _c.classList.remove("bliink-adunit--sticky--unify");\n        }\n        return size;\n    };\n    CreativeComponent.prototype.resize = function (size) {\n        var _a;\n        var creative = (_a = getAdCreativeRTB(this.Ad)) === null || _a === void 0 ? void 0 : _a.banner;\n        if (creative && size) {\n            var scale = (size === null || size === void 0 ? void 0 : size.width) / parseInt("".concat(creative === null || creative === void 0 ? void 0 : creative.width), 10);\n            this.container.style.transform = "scale(".concat(scale, ")");\n            this.container.style.transformOrigin = "0px 0px";\n        }\n    };\n    CreativeComponent.prototype.resizeAdUnit = function (force) {\n        var _a, _b;\n        if (force === void 0) { force = false; }\n        if (creativeIsBanner(this.Ad) && this.container) {\n            var size = {\n                width: this.container.offsetWidth,\n                height: this.container.offsetHeight,\n                left: 0,\n                top: 0,\n            };\n            var sizeChanged = size.height !== ((_a = this.adUnitSize) === null || _a === void 0 ? void 0 : _a.height) ||\n                size.width !== ((_b = this.adUnitSize) === null || _b === void 0 ? void 0 : _b.width);\n            if (force || (size.height && size.width && sizeChanged)) {\n                this.adUnitSize = this.adaptCreativeSize(size);\n                this.container.style.setProperty("height", "".concat(this.adUnitSize.height, "px"), "important");\n                this.container.style.setProperty("max-height", "".concat(this.adUnitSize.height, "px"), "important");\n                this.container.style.setProperty("width", "".concat(this.adUnitSize.width, "px"), "important");\n                this.container.style.setProperty("max-width", "".concat(this.adUnitSize.width, "px"), "important");\n                this.resize(this.adUnitSize);\n            }\n            return { width: this.adUnitSize.width, height: this.adUnitSize.height };\n        }\n    };\n    /**\n     * @param creativeMessage\n     */\n    CreativeComponent.prototype.onCreativeMessageHandler = function (creativeMessage) {\n        var data = creativeMessage.data;\n        var message = data.message, label = data.label;\n        if (data) {\n            new Logger().info(\'received message from creative\', message);\n            switch (message) {\n                case CreativeEvent.CLICK:\n                    this.sendEvent(constants_AdEvent.CLICK);\n                    break;\n                case CreativeEvent.VIDEO_STARTED:\n                    this.sendEvent(constants_AdEvent.STARTED);\n                    break;\n                case CreativeEvent.VIDEO_FIRST_QUARTILE:\n                    this.sendEvent(constants_AdEvent.FIRST_QUARTILE);\n                    break;\n                case CreativeEvent.VIDEO_MIDPOINT:\n                    this.sendEvent(constants_AdEvent.MIDPOINT);\n                    break;\n                case CreativeEvent.VIDEO_THIRD_QUARTILE:\n                    this.sendEvent(constants_AdEvent.THIRD_QUARTILE);\n                    break;\n                case CreativeEvent.VIDEO_COMPLETE:\n                    this.sendEvent(constants_AdEvent.COMPLETE);\n                    break;\n                case CreativeEvent.EVENT:\n                    this.sendEvent(constants_AdEvent.CUSTOM, label);\n                    break;\n                case CreativeEvent.DESTROY:\n                    this.destroy();\n                    break;\n                case CreativeEvent.SWITCH:\n                    break;\n                case CreativeEvent.STICKY:\n                    this.isSticky = true;\n                    break;\n            }\n        }\n    };\n    /**\n     * @param delay\n     */\n    CreativeComponent.prototype.hideCreative = function (delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.hideCreativeTimeout) {\n            clearTimeout(this.hideCreativeTimeout);\n        }\n    };\n    /**\n     * @param eventName\n     * @param label\n     */\n    CreativeComponent.prototype.sendEvent = function (eventName, label) {\n        var _a;\n        return Creative_awaiter(this, void 0, void 0, function () {\n            var _b, event_1;\n            return Creative_generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!((_a = this.Ad) === null || _a === void 0 ? void 0 : _a.token)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, to(sendEventWithToken(eventName, this.Ad.token, label))];\n                    case 1:\n                        _b = _c.sent(), event_1 = _b[1];\n                        new Logger().info(event_1 ? "Event Success" : "Event Failure", eventName);\n                        _c.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeComponent.prototype.onViewable = function () {\n        if (this.isVisible)\n            return;\n        this.isVisible = true;\n        new Logger().info("Is Viewable");\n        // this.sendEvent(AdEvent.VISIBLE);\n        if (!utility_isMobile()) {\n            this.hideCreative(6000);\n        }\n    };\n    CreativeComponent.prototype.destroy = function () {\n        var _a;\n        if (this.isDestroyed)\n            return;\n        this.isDestroyed = true;\n        new Logger().info("AdUnit Destroy");\n        window.removeEventListener(\'message\', this.onCreativeMessageHandler, true);\n        (_a = this.container) === null || _a === void 0 ? void 0 : _a.remove();\n    };\n    return CreativeComponent;\n}());\n/* harmony default export */ const Creative = (CreativeComponent);\n\n// EXTERNAL MODULE: ./src/Banner/style.css\nvar Banner_style = __webpack_require__(2616);\nvar style_default = /*#__PURE__*/__webpack_require__.n(Banner_style);\n// EXTERNAL MODULE: ./src/stylesheets/style.css\nvar stylesheets_style = __webpack_require__(9799);\nvar stylesheets_style_default = /*#__PURE__*/__webpack_require__.n(stylesheets_style);\n;// CONCATENATED MODULE: ./src/Banner/index.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Banner_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar Banner_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a;\n\n// @ts-ignore\n\n// @ts-ignore\n\n\nvar CreativeBannerComponent = /** @class */ (function (_super) {\n    __extends(CreativeBannerComponent, _super);\n    function CreativeBannerComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CreativeBannerComponent.prototype, "creative", {\n        get: function () {\n            var _a;\n            return (_a = getAdCreativeRTB(this.Ad)) === null || _a === void 0 ? void 0 : _a.banner;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeBannerComponent.prototype, "adm", {\n        get: function () {\n            var _a;\n            var options = {\n                isSticky: false,\n            };\n            var adm = setAdMacros(((_a = this.creative) === null || _a === void 0 ? void 0 : _a.adm) || "", options);\n            if (adm) {\n                return adm;\n            }\n            return "";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CreativeBannerComponent.prototype.render = function () {\n        var _a, _b;\n        return Banner_awaiter(this, void 0, void 0, function () {\n            var divElt, adSizes, creative, scale, head, style;\n            return Banner_generator(this, function (_c) {\n                if (this.isRendered || !this.adm)\n                    return [2 /*return*/];\n                this.isRendered = true;\n                new Logger().info("CreativeBannerComponent Render");\n                this.container.style.width = "".concat((_a = this.creative) === null || _a === void 0 ? void 0 : _a.width, "px");\n                this.container.style.height = "".concat((_b = this.creative) === null || _b === void 0 ? void 0 : _b.height, "px");\n                if (this.isSticky) {\n                    divElt = document.createElement("div");\n                    appendStylesheets((stylesheets_style_default()), true);\n                    window.top.document.body.appendChild(this.container);\n                    adSizes = this.resizeAdUnit(true);\n                    divElt.style.height = "".concat(this.creative.height, "px");\n                    divElt.style.width = "".concat(this.creative.width, "px");\n                    divElt.insertAdjacentHTML("beforeend", this.adm);\n                    creative = this.Ad.creative;\n                    scale = getScaleValue(creative, adSizes.height, adSizes.width);\n                    divElt.style.transform = "scale(".concat(scale, ") translate(0px, 0px)");\n                    divElt.style.transformOrigin = "0px 0px";\n                    this.container.appendChild(divElt);\n                }\n                else {\n                    this.container.insertAdjacentHTML("beforeend", this.adm);\n                    appendStylesheets((stylesheets_style_default()), false);\n                    window.document.body.appendChild(this.container);\n                }\n                head = document.getElementsByTagName("head")[0];\n                style = document.createElement("style");\n                style.type = "text/css";\n                if (style.styleSheet) {\n                    style.styleSheet.cssText = (style_default());\n                }\n                else {\n                    style.appendChild(document.createTextNode((style_default())));\n                }\n                head.appendChild(style);\n                return [2 /*return*/];\n            });\n        });\n    };\n    CreativeBannerComponent.prototype.resize = function () {\n        if (!this.container)\n            return;\n        var creative = this.Ad.creative;\n        var scale = getScaleValue(creative);\n        if (!scale)\n            return;\n        var isSticky = this.Ad.display_type === "sticky";\n        if (!isSticky) {\n            this.container.style.transform = "scale(".concat(scale, ") translate(0px, 0px)");\n            this.container.style.transformOrigin = "0px 0px";\n        }\n    };\n    return CreativeBannerComponent;\n}(Creative));\n/* harmony default export */ const Banner = ((/* unused pure expression or super */ null && (CreativeBannerComponent)));\nvar ad = getAdData();\nif (((_a = ad === null || ad === void 0 ? void 0 : ad.creative) === null || _a === void 0 ? void 0 : _a.media_type) === "banner") {\n    var divDom = document.createElement("div");\n    divDom.className = "bliink-adview";\n    var creativeBanner = new CreativeBannerComponent(ad);\n    creativeBanner.render();\n    creativeBanner.resize();\n    // const container = creativeBanner.getContainer();\n    // checkSafeFrameViewability(AdEvent.VISIBLE_THIRTY, ad.token, container);\n}\n\n// EXTERNAL MODULE: ./node_modules/vpaid-html5-client/js/VPAIDHTML5Client.js\nvar VPAIDHTML5Client = __webpack_require__(1178);\nvar VPAIDHTML5Client_default = /*#__PURE__*/__webpack_require__.n(VPAIDHTML5Client);\n;// CONCATENATED MODULE: ./src/VideoPlayer/index.ts\nvar VideoPlayer_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar VideoPlayer_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\nvar VideoPlayerComponent = /** @class */ (function () {\n    //region Initialization\n    /**\n     * @param container\n     * @param onVideoEventHandler\n     * @param onDestroyHandler\n     */\n    function VideoPlayerComponent(container, onVideoEventHandler, onDestroyHandler, isSticky, windowParam) {\n        this.container = container;\n        this.onVideoEventHandler = onVideoEventHandler;\n        this.onDestroyHandler = onDestroyHandler;\n        this.isSticky = isSticky;\n        this.windowParam = windowParam;\n        // state\n        this.isRendered = false;\n        this.isLoading = false;\n        this.isPlaying = false;\n        this.isStarted = false;\n        this.isDestroyed = false;\n        this.firstquartile = false;\n        this.thirdquartile = false;\n        this.midpoint = false;\n        this.complete = false;\n        this.render();\n    }\n    Object.defineProperty(VideoPlayerComponent.prototype, "currentTime", {\n        //endregion Initialization\n        //region Getters\n        get: function () {\n            var _a;\n            return ((_a = this.videoPlayer) === null || _a === void 0 ? void 0 : _a.currentTime) || 0;\n        },\n        //endregion Getters\n        //region Setters\n        /**\n         * @param time\n         */\n        set: function (time) {\n            this.videoPlayer.currentTime = time;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VideoPlayerComponent.prototype, "currentProgress", {\n        get: function () {\n            return this.duration !== 0 ? (this.currentTime / this.duration) * 100 : 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(VideoPlayerComponent.prototype, "duration", {\n        get: function () {\n            var _a, _b;\n            return ((_a = this.model) === null || _a === void 0 ? void 0 : _a.duration) || ((_b = this.videoPlayer) === null || _b === void 0 ? void 0 : _b.duration) || 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @param video\n     */\n    VideoPlayerComponent.getVideoFromPlayRequest = function (video) {\n        return VideoPlayer_awaiter(this, void 0, void 0, function () {\n            var _a, vast;\n            return VideoPlayer_generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!video.vast && !video.url) {\n                            throw new Error("invalid video");\n                        }\n                        if (!(video.vast || video.type === MediaType.VPAID)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, await_to_js_es5(video.vast ? getVastFromXml(video.vast) : helpers_getVastFromUrl(video.url))];\n                    case 1:\n                        _a = _b.sent(), vast = _a[1];\n                        return [2 /*return*/, {\n                                isVpaid: vast.isVpaid,\n                                url: vast.mediaFile._uri,\n                                type: vast.isVpaid ? MediaType.VPAID : MediaType.VIDEO,\n                                duration: vast.duration,\n                                adParameters: vast.adParameters,\n                                trackingEvents: vast.trackingEvents,\n                                clickUrl: vast.clickUrl,\n                                stayVisible: video.stayVisible || false,\n                            }];\n                    case 2: return [2 /*return*/, {\n                            isVpaid: false,\n                            url: video.url,\n                            type: MediaType.VIDEO,\n                            stayVisible: video.stayVisible || false,\n                        }];\n                }\n            });\n        });\n    };\n    //endregion Setters\n    //region Actions\n    VideoPlayerComponent.prototype.render = function () {\n        var _this = this;\n        var _a;\n        if (typeof ((_a = this.container) === null || _a === void 0 ? void 0 : _a.innerHTML) === "undefined" || this.isRendered)\n            return;\n        this.isRendered = true;\n        new Logger().info("VideoPlayer Render", this.container);\n        console.log("this.container render", this.container);\n        console.log("markup!!!", VideoPlayerComponent.markup());\n        this.container.innerHTML = VideoPlayerComponent.markup();\n        this.muteButton = this.container.querySelector(".".concat(BLIINK_CLASS_PREFIX, "-btn--mute"));\n        this.replayButton = this.container.querySelector(".".concat(BLIINK_PLAY_CLASS, "_wrapper"));\n        this.closeButton = this.container.querySelector(".bliink-adunit__close");\n        this.videoPlayer = this.container.querySelector(".".concat(BLIINK_PLAYER_CLASS, "__video"));\n        this.vpaidPlayer = this.container.querySelector(".".concat(BLIINK_PLAYER_CLASS, "__vpaid"));\n        this.progressBar = this.container.querySelector(".".concat(BLIINK_PLAYER_CLASS, "-progress-bar"));\n        this.trackingsBlock = this.container.querySelector(".".concat(BLIINK_PLAYER_CLASS, "__trackings"));\n        if (this.closeButton && this.isSticky) {\n            this.closeButton.addEventListener("click", function (e) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                _this.destroy();\n            });\n        }\n        else if (this.closeButton) {\n            this.closeButton.style.display = "none";\n        }\n        this.muteButton.addEventListener("click", function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            _this.handleMute();\n        });\n        this.replayButton.addEventListener("click", function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            _this.handleRelayButton();\n        });\n        this.videoPlayer.addEventListener("click", function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            _this.onEventClick();\n        });\n    };\n    VideoPlayerComponent.prototype.playVideo = function () {\n        if (!this.videoPlayer)\n            return;\n        this.videoPlayer.style.zIndex = "3";\n        console.log("this.videoPlayer.src", this.videoPlayer.src);\n        if (!this.videoPlayer.src) {\n            this.videoPlayer.src = this.model.url;\n            this.videoPlayer.addEventListener("ended", this.onEventComplete.bind(this));\n            this.videoPlayer.addEventListener("playing", this.onEventPlaying.bind(this));\n            this.videoPlayer.addEventListener("error", this.onEventError.bind(this));\n            this.videoPlayer.load();\n        }\n        this.videoPlayer.play();\n        this.handleMuteButtonAnimation();\n    };\n    VideoPlayerComponent.prototype.playVpaid = function () {\n        this.videoPlayer.style.zIndex = "1";\n        var vpaidClient = new (VPAIDHTML5Client_default())(this.vpaidPlayer, this.videoPlayer, {}, { timeout: 10000 }, this.windowParam);\n        console.log("this.model.url", this.model.url, this.videoPlayer, this.vpaidPlayer);\n        vpaidClient.loadAdUnit(this.model.url, this.onVpaidLoad.bind(this));\n    };\n    /**\n     * @param model\n     */\n    VideoPlayerComponent.prototype.play = function (model) {\n        if (this.isLoading ||\n            this.isPlaying ||\n            ![MediaType.VIDEO, MediaType.VPAID].includes(model === null || model === void 0 ? void 0 : model.type) ||\n            !(model === null || model === void 0 ? void 0 : model.url)) {\n            return;\n        }\n        this.model = model;\n        this.isLoading = true;\n        this.isRendered = false;\n        this.isPlaying = false;\n        this.isStarted = false;\n        this.firstquartile = false;\n        this.thirdquartile = false;\n        this.midpoint = false;\n        this.complete = false;\n        this.container.classList.add("bliink-is-active");\n        if (this.model.isVpaid) {\n            console.log("model vpaid");\n            this.playVpaid();\n            return;\n        }\n        this.playVideo();\n    };\n    /**\n     * @param completion\n     */\n    VideoPlayerComponent.prototype.isCompletionReached = function (completion) {\n        return this.duration > 0 && this.currentTime >= this.duration * completion;\n    };\n    /**\n     * @param event\n     */\n    VideoPlayerComponent.prototype.sendVideoEvent = function (event) {\n        new Logger().info("Video Event", event);\n        if (this.onVideoEventHandler) {\n            this.onVideoEventHandler(event);\n        }\n        if (this.model.trackingEvents) {\n            if (typeof this.model.trackingEvents[event] !== "undefined") {\n                this.sendEventTrackings(this.model.trackingEvents[event]);\n            }\n        }\n    };\n    /**\n     * @param events\n     */\n    VideoPlayerComponent.prototype.sendEventTrackings = function (events) {\n        var _this = this;\n        if (events.length !== 0) {\n            events.map(function (event) {\n                if (_this.trackingsBlock) {\n                    _this.trackingsBlock.insertAdjacentHTML("beforeend", "<img src=\\"".concat(event, "\\" style=\\"").concat(PIXEL_INLINE_STYLE, "\\" alt=\\"\\" />"));\n                }\n            });\n        }\n    };\n    //endregion Actions\n    //region Handlers\n    /**\n     * @param err\n     * @param adUnit\n     */\n    VideoPlayerComponent.prototype.onVpaidLoad = function (err, adUnit) {\n        var _this = this;\n        console.log("onVpaidLoad");\n        if (err) {\n            console.log("err destroy", err);\n            this.sendVideoEvent(constants_AdEvent.ERROR);\n            this.destroy();\n            return;\n        }\n        this.vpaidPlayer = adUnit;\n        this.vpaidPlayer.subscribe("AdLoaded", this.onVpaidInit.bind(this));\n        this.vpaidPlayer.subscribe("AdStarted", function () {\n            _this.isLoading = false;\n            _this.isPlaying = true;\n        });\n        this.vpaidPlayer.subscribe("AdVideoStart", this.onEventStart.bind(this));\n        this.vpaidPlayer.subscribe("AdVideoFirstQuartile", this.onEventFirstQuartile.bind(this));\n        this.vpaidPlayer.subscribe("AdVideoMidpoint", this.onEventMidpoint.bind(this));\n        this.vpaidPlayer.subscribe("AdVideoThirdQuartile", this.onEventThirdQuartile.bind(this));\n        this.vpaidPlayer.subscribe("AdVideoComplete", this.onEventComplete.bind(this));\n        this.vpaidPlayer.subscribe("AdClickThru", this.onEventClick.bind(this));\n        this.vpaidPlayer.subscribe("AdError", this.onEventError.bind(this));\n        this.vpaidPlayer.handshakeVersion("2.0", this.onVpaidHandShake.bind(this));\n    };\n    VideoPlayerComponent.prototype.onVpaidInit = function () {\n        this.vpaidPlayer.startAd();\n    };\n    VideoPlayerComponent.prototype.onVpaidHandShake = function () {\n        if (!this.vpaidPlayer)\n            return;\n        var width = this.container.querySelector(".".concat(BLIINK_PLAYER_CLASS, "__vpaid"))\n            .clientWidth || 640;\n        var height = this.container.querySelector(".".concat(BLIINK_PLAYER_CLASS, "__vpaid"))\n            .clientHeight || 360;\n        this.vpaidPlayer.initAd(width, height, "normal", -1, { AdParameters: this.model.adParameters }, {});\n    };\n    VideoPlayerComponent.prototype.onEventStart = function () {\n        if (!this.isStarted) {\n            this.isStarted = true;\n            this.sendVideoEvent(constants_AdEvent.IMPRESSION);\n            this.sendVideoEvent(constants_AdEvent.STARTED);\n        }\n    };\n    VideoPlayerComponent.prototype.onEventFirstQuartile = function () {\n        if (!this.firstquartile) {\n            this.firstquartile = true;\n            this.sendVideoEvent(constants_AdEvent.FIRST_QUARTILE);\n        }\n    };\n    VideoPlayerComponent.prototype.onEventMidpoint = function () {\n        if (!this.midpoint) {\n            this.midpoint = true;\n            this.sendVideoEvent(constants_AdEvent.MIDPOINT);\n        }\n    };\n    VideoPlayerComponent.prototype.onEventThirdQuartile = function () {\n        if (!this.thirdquartile) {\n            this.thirdquartile = true;\n            this.sendVideoEvent(constants_AdEvent.THIRD_QUARTILE);\n        }\n    };\n    VideoPlayerComponent.prototype.onEventComplete = function () {\n        var _a;\n        if (this.onVideoCompletionInterval) {\n            clearInterval(this.onVideoCompletionInterval);\n        }\n        if (!this.complete) {\n            this.complete = true;\n            this.sendVideoEvent(constants_AdEvent.COMPLETE);\n        }\n        this.replayButton.classList.add("end");\n        if (!((_a = this.model) === null || _a === void 0 ? void 0 : _a.stayVisible)) {\n            this.container.classList.remove("bliink-is-active");\n        }\n    };\n    VideoPlayerComponent.prototype.onEventError = function () {\n        this.sendVideoEvent(constants_AdEvent.ERROR);\n        this.destroy();\n    };\n    VideoPlayerComponent.prototype.onEventPlaying = function () {\n        if (!this.isPlaying) {\n            this.isLoading = false;\n            this.isPlaying = true;\n            clearInterval(this.onVideoCompletionInterval);\n            this.onVideoCompletionInterval = setInterval(this.onVideoCompletion.bind(this), 50);\n            this.onEventStart();\n            return;\n        }\n        this.sendVideoEvent(constants_AdEvent.RESUMED);\n    };\n    /**\n     * @param clickData\n     */\n    VideoPlayerComponent.prototype.onEventClick = function (clickData) {\n        var _a;\n        this.sendVideoEvent(constants_AdEvent.CLICK);\n        if (clickData && clickData.playerHandles && clickData.url) {\n            window.open(clickData.url, "_blank");\n            return;\n        }\n        if ((_a = this.model) === null || _a === void 0 ? void 0 : _a.clickUrl) {\n            window.open(this.model.clickUrl, "_blank");\n        }\n    };\n    VideoPlayerComponent.prototype.onVideoCompletion = function () {\n        if (this.progressBar) {\n            this.progressBar.style.width = "".concat(this.currentProgress, "%");\n        }\n        if (this.isCompletionReached(0.25)) {\n            this.onEventFirstQuartile();\n        }\n        if (this.isCompletionReached(0.5)) {\n            this.onEventMidpoint();\n        }\n        if (this.isCompletionReached(0.75)) {\n            this.onEventThirdQuartile();\n        }\n    };\n    VideoPlayerComponent.prototype.handleMute = function () {\n        if (this.muteButton.classList.contains("".concat(BLIINK_CLASS_PREFIX, "-is-muted"))) {\n            this.muteButton.classList.remove("".concat(BLIINK_CLASS_PREFIX, "-is-muted"));\n            this.videoPlayer.muted = false;\n            return;\n        }\n        this.muteButton.classList.add("".concat(BLIINK_CLASS_PREFIX, "-is-muted"));\n        this.videoPlayer.muted = true;\n    };\n    VideoPlayerComponent.prototype.handleRelayButton = function () {\n        this.replayButton.classList.remove("end");\n        this.videoPlayer.play();\n        // if (!this.replayButton.classList.contains(`played`)) {\n        //   this.replayButton.classList.add(`played`);\n        //   this.videoPlayer.play();\n        //   this.videoPlayer.addEventListener(\n        //     "ended",\n        //     this.onEventComplete.bind(this)\n        //   );\n        //   return;\n        // }\n        // this.replayButton.classList.remove(`played`);\n        // this.videoPlayer.pause();\n    };\n    VideoPlayerComponent.prototype.handleMuteButtonAnimation = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.muteButton.classList.add("".concat(BLIINK_CLASS_PREFIX, "-show-tooltip"));\n            setTimeout(function () {\n                _this.muteButton.classList.remove("".concat(BLIINK_CLASS_PREFIX, "-show-tooltip"));\n            }, 4000);\n        }, 200);\n    };\n    //endregion Handlers\n    //region UI\n    VideoPlayerComponent.markup = function () {\n        return "<div class=\\"".concat(BLIINK_PLAYER_CLASS, "\\">\\n                <div class=\\"").concat(BLIINK_CLASS_PREFIX, "-btn--mute ").concat(BLIINK_CLASS_PREFIX, "-is-muted\\">\\n                    <span>Activez le son</span>\\n                </div>\\n                 <div class=\\"bliink-adunit__close\\"></div>\\n                <div class=\\"").concat(BLIINK_PLAY_CLASS, "_wrapper\\">\\n                <div class=\\"").concat(BLIINK_PLAY_CLASS, "_circle\\">\\n                <div class=\\"").concat(BLIINK_PLAY_CLASS, "\\"></div>\\n                </div>\\n                <p class=\\"").concat(BLIINK_PLAY_CLASS, "_text\\">Rejouer</p>\\n                </div>\\n                <div class=\\"").concat(BLIINK_PLAYER_CLASS, "__vpaid\\"></div>\\n                <video playsinline class=\\"").concat(BLIINK_PLAYER_CLASS, "__video\\" muted=\\"muted\\"></video>\\n                  <div class=\\"").concat(BLIINK_PLAYER_CLASS, "-progress\\">\\n                    <div class=\\"").concat(BLIINK_PLAYER_CLASS, "-progress-bar\\"></div>\\n                </div>\\n                <div class=\\"").concat(BLIINK_PLAYER_CLASS, "__trackings\\"></div>\\n            </div>");\n    };\n    //endregion UI\n    /**\n     * destroy\n     */\n    VideoPlayerComponent.prototype.destroy = function () {\n        new Logger().info("VideoPlayer destroy");\n        this.isDestroyed = true;\n        this.isPlaying = false;\n        this.container.classList.remove("bliink-is-active"); // TODO fix animation\n        if (this.onVideoCompletionInterval) {\n            clearInterval(this.onVideoCompletionInterval);\n        }\n        if (this.videoPlayer) {\n            this.videoPlayer.pause();\n            this.videoPlayer.currentTime = 0;\n        }\n        if (this.onDestroyHandler) {\n            this.onDestroyHandler();\n        }\n    };\n    return VideoPlayerComponent;\n}());\n/* harmony default export */ const VideoPlayer = (VideoPlayerComponent);\n\n;// CONCATENATED MODULE: ./src/Video/index.ts\nvar Video_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Video_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar Video_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar Video_a;\n\n// @ts-ignore\n\n\n\n\n\n\nvar CreativeVideoComponent = /** @class */ (function (_super) {\n    Video_extends(CreativeVideoComponent, _super);\n    function CreativeVideoComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onHandleClickCloseButton = function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            _this.destroy();\n            return;\n        };\n        return _this;\n    }\n    CreativeVideoComponent.prototype.playVast = function (vast) {\n        return Video_awaiter(this, void 0, void 0, function () {\n            var video, windowParam;\n            return Video_generator(this, function (_a) {\n                if (vast) {\n                    video = {\n                        isVpaid: vast.isVpaid,\n                        url: vast.mediaFile._uri,\n                        type: vast.isVpaid ? MediaType.VPAID : MediaType.VIDEO,\n                        duration: vast.duration,\n                        adParameters: vast.adParameters,\n                        trackingEvents: vast.trackingEvents,\n                        clickUrl: vast.clickUrl,\n                        stayVisible: false,\n                    };\n                    windowParam = this.isSticky ? this.myWindow : window;\n                    this.videoPlayer = new VideoPlayer(this.container, this.onVideoEventHandler.bind(this), this.destroy.bind(this), this.isSticky, windowParam);\n                    this.videoPlayer.play(video);\n                    return [2 /*return*/];\n                }\n                this.destroy();\n                return [2 /*return*/];\n            });\n        });\n    };\n    CreativeVideoComponent.prototype.playVastXml = function (creative) {\n        return Video_awaiter(this, void 0, void 0, function () {\n            var _a, vast;\n            return Video_generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(creative.content && !this.videoPlayer)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, to(getVastFromXml(creative.content))];\n                    case 1:\n                        _a = _b.sent(), vast = _a[1];\n                        this.playVast(vast);\n                        return [2 /*return*/];\n                    case 2:\n                        this.destroy();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeVideoComponent.prototype.playVastUrl = function (creative) {\n        return Video_awaiter(this, void 0, void 0, function () {\n            var _a, vast;\n            return Video_generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(creative.url && !this.videoPlayer)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, to(helpers_getVastFromUrl(creative.url))];\n                    case 1:\n                        _a = _b.sent(), vast = _a[1];\n                        this.playVast(vast);\n                        return [2 /*return*/];\n                    case 2:\n                        this.destroy();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeVideoComponent.prototype.sendEventImpression = function (event) {\n        return Video_awaiter(this, void 0, void 0, function () {\n            var creative, thirdPartyCountPixel, player, err;\n            var _this = this;\n            return Video_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        creative = getAdCreativeRTB(this.Ad);\n                        if (creative === null || creative === void 0 ? void 0 : creative.video) {\n                            thirdPartyCountPixel = creative.video.thirdPartyCountPixel;\n                            if (thirdPartyCountPixel) {\n                                thirdPartyCountPixel.forEach(function (pixel) { return Video_awaiter(_this, void 0, void 0, function () {\n                                    var err;\n                                    return Video_generator(this, function (_a) {\n                                        switch (_a.label) {\n                                            case 0: return [4 /*yield*/, to(sendEventWithUri(pixel))];\n                                            case 1:\n                                                err = (_a.sent())[0];\n                                                new Logger().info(!err ? "Event Success" : "Event Failure", event);\n                                                return [2 /*return*/];\n                                        }\n                                    });\n                                }); });\n                            }\n                        }\n                        player = this.videoPlayer.videoPlayer || this.videoPlayer.vpaidPlayer;\n                        this.viewabilityChecker = viewabilityChecker(player, {\n                            inViewDuration: 2,\n                            percentInViewport: 50,\n                        });\n                        return [4 /*yield*/, to(this.viewabilityChecker.promise)];\n                    case 1:\n                        err = (_a.sent())[0];\n                        if (!err) {\n                            this.onViewable();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeVideoComponent.prototype.render = function () {\n        var _a;\n        return Video_awaiter(this, void 0, void 0, function () {\n            var closeButton, creative_1, creative;\n            return Video_generator(this, function (_b) {\n                console.log("Sam", window, window.document.body, this.myWindow.body);\n                new Logger().info("CreativeVideoComponent Render", this.Ad);\n                if (this.isSticky) {\n                    appendStylesheets((stylesheets_style_default()), true);\n                    (_a = this.container) === null || _a === void 0 ? void 0 : _a.classList.add("bliink-adunit--video");\n                    // window.top.document.body.appendChild(this.container);\n                }\n                else {\n                    appendStylesheets((stylesheets_style_default()), false);\n                    closeButton = this.container.querySelector(".".concat(BLIINK_ADUNIT_CLASS, "__close"));\n                    if (closeButton) {\n                        closeButton.style.display = "none";\n                    }\n                }\n                if (isAdServer(this.Ad)) {\n                    creative_1 = getAdServerCreative(this.Ad);\n                    this.playVastUrl(creative_1);\n                    return [2 /*return*/];\n                }\n                creative = getAdCreativeRTB(this.Ad);\n                this.playVastXml(creative.video);\n                if (this.isSticky) {\n                    this.myWindow.document.body.appendChild(this.container);\n                }\n                else {\n                    window.document.body.appendChild(this.container);\n                    // this.myWindow.document.body.appendChild(this.container);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    CreativeVideoComponent.prototype.onVideoEventHandler = function (event) {\n        // this.sendEventHandler(event);\n        // RTB imp event\n        if (event === constants_AdEvent.STARTED) {\n            this.sendEventImpression(event);\n        }\n        if ([constants_AdEvent.ERROR].includes(event)) {\n            this.destroy();\n        }\n    };\n    return CreativeVideoComponent;\n}(Creative));\n/* harmony default export */ const Video = ((/* unused pure expression or super */ null && (CreativeVideoComponent)));\nvar Video_ad = getAdData();\nif (((Video_a = Video_ad === null || Video_ad === void 0 ? void 0 : Video_ad.creative) === null || Video_a === void 0 ? void 0 : Video_a.media_type) === "video") {\n    // @ts-ignore\n    window.top.BLK_TEST = new CreativeVideoComponent(Video_ad);\n    // @ts-ignore\n    window.top.BLK_TEST.render();\n    // const creative = ad.creative as ICreative;\n    // const event = viewabilityParameters(creative);\n    // const container = creativeVideo.getContainer()\n    // checkSafeFrameViewability(event, ad.token, container);\n}\nwindow.addEventListener("message", function (event) {\n    console.log("event received", event);\n}, false);\nwindow.postMessage(\'hello\', \'*\');\n// setTimeout(() => {\n//   window.postMessage(\'{"event": "ready", "id": "vpaidIframe_0"}\', \'https://niass.github.io\');\n// }, 1000)\n\n// EXTERNAL MODULE: ./src/Native/style.css\nvar style = __webpack_require__(355);\nvar Native_style_default = /*#__PURE__*/__webpack_require__.n(style);\n;// CONCATENATED MODULE: ./src/Native/index.ts\nvar Native_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Native_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar Native_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar Native_a;\n\n\n\n\n// @ts-ignore\n\n// @ts-ignore\n\nvar CreativeNativeComponent = /** @class */ (function (_super) {\n    Native_extends(CreativeNativeComponent, _super);\n    function CreativeNativeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CreativeNativeComponent.prototype, "creative", {\n        get: function () {\n            var _a;\n            var creative = (_a = this.Ad) === null || _a === void 0 ? void 0 : _a.creative;\n            return creative === null || creative === void 0 ? void 0 : creative.native;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeNativeComponent.prototype, "impTrackers", {\n        get: function () {\n            var _a, _b, _c, _d;\n            var pixels = ((_b = (_a = this.creative) === null || _a === void 0 ? void 0 : _a.thirdPartyCountPixel) === null || _b === void 0 ? void 0 : _b.map(function (impUrl) {\n                return "<img src=\\"".concat(impUrl, "\\" style=\\"").concat(PIXEL_INLINE_STYLE, "\\" />");\n            })) || [];\n            if ((_c = this.creative) === null || _c === void 0 ? void 0 : _c.impUrls) {\n                pixels.push("<img src=\\"".concat((_d = this.creative) === null || _d === void 0 ? void 0 : _d.impUrls, "\\" style=\\"").concat(PIXEL_INLINE_STYLE, "\\" />"));\n            }\n            return (pixels === null || pixels === void 0 ? void 0 : pixels.join("")) || "";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeNativeComponent.prototype, "jsTrackers", {\n        get: function () {\n            var _a, _b;\n            return (((_b = (_a = this.creative) === null || _a === void 0 ? void 0 : _a.jsTrackers) === null || _b === void 0 ? void 0 : _b.map(function (jsTracker) {\n                return "<script src=\\"".concat(jsTracker, "\\"><\/script>");\n            }).join("")) || "");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeNativeComponent.prototype, "adChoices", {\n        get: function () {\n            var _a, _b, _c, _d, _e, _f;\n            var creative = (_a = this.Ad) === null || _a === void 0 ? void 0 : _a.creative;\n            var ssp = "disabled";\n            var recommendedBy = ((_b = this.Ad) === null || _b === void 0 ? void 0 : _b.ssp) === ssp ? "Recommended by" : "";\n            var outbrain = ((_c = this.Ad) === null || _c === void 0 ? void 0 : _c.ssp) === ssp\n                ? \'<img src="https://widgets.outbrain.com/images/widgetIcons/OB-Logo-2019-Web-Orange.png" />\'\n                : "";\n            if ((_d = creative === null || creative === void 0 ? void 0 : creative.ad_choices) === null || _d === void 0 ? void 0 : _d.image_url) {\n                return "<a href=\\"".concat((_e = creative === null || creative === void 0 ? void 0 : creative.ad_choices) === null || _e === void 0 ? void 0 : _e.click_url, "\\" target=\\"_blank\\" class=\\"").concat(BLIINK_NATIVE_CLASS, "__adchoices\\">").concat(recommendedBy, "<img src=\\"").concat((_f = creative === null || creative === void 0 ? void 0 : creative.ad_choices) === null || _f === void 0 ? void 0 : _f.image_url, "\\" />").concat(outbrain, "</a>");\n            }\n            return "";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CreativeNativeComponent.prototype.eventTrackers = function (eventType) {\n        var _a, _b;\n        var trackers = (_b = (_a = this.creative) === null || _a === void 0 ? void 0 : _a.eventTrackers) === null || _b === void 0 ? void 0 : _b.filter(function (eventTracker) { return eventTracker.event === eventType; }).map(function (eventTracker) {\n            if (eventTracker.method === NativeEventTrackingMethod.JS) {\n                return "<script src=\\"".concat(eventTracker.url, "\\"><\/script>");\n            }\n            return "<img src=\\"".concat(eventTracker.url, "\\" style=\\"").concat(PIXEL_INLINE_STYLE, "\\" />");\n        });\n        return (trackers === null || trackers === void 0 ? void 0 : trackers.join("")) || "";\n    };\n    CreativeNativeComponent.prototype.trackViewability = function (eventType, params) {\n        return Native_awaiter(this, void 0, void 0, function () {\n            var err;\n            return Native_generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (eventType === NativeEventType.VIEWABLE_MRC50) {\n                            this.onViewable();\n                        }\n                        this.viewabilityChecker = viewabilityChecker(this.creativeView, params);\n                        return [4 /*yield*/, to(this.viewabilityChecker.promise)];\n                    case 1:\n                        err = (_a.sent())[0];\n                        if (!err) {\n                            this.container.insertAdjacentHTML("beforeend", this.eventTrackers(eventType));\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeNativeComponent.prototype.trackClick = function () {\n        var _this = this;\n        var _a;\n        (_a = this.creative.clicksTracker) === null || _a === void 0 ? void 0 : _a.forEach(function (clickTracker) {\n            _this.container.insertAdjacentHTML("beforeend", "<img src=\\"".concat(clickTracker, "\\" style=\\"").concat(PIXEL_INLINE_STYLE, "\\" />"));\n        });\n    };\n    Object.defineProperty(CreativeNativeComponent.prototype, "adm", {\n        get: function () {\n            var _a, _b, _c;\n            this.container.classList.add("native");\n            var sponsored = this.creative.sponsored\n                ? this.creative.sponsored\n                : "Sponsored";\n            var isHorizontalFormat = getCreatFormat([\n                this.creative.width,\n                this.creative.height,\n            ]);\n            var isVerticalWide = (this.creative.width >= 600 && this.creative.height >= 900) ||\n                !isHorizontalFormat;\n            var cssIconClass = isVerticalWide\n                ? "bliink-native__thumb-vertical-icon"\n                : "";\n            var thumbClass = isVerticalWide ? "bliink-native__thumb-vertical" : "";\n            var nativeCssClass = isVerticalWide\n                ? "bliink-native__content-vertical"\n                : "";\n            var textClass = isVerticalWide ? "bliink-native__text-vertical" : "";\n            var titleCssClass = isVerticalWide ? "bliink-native__title-vertical" : "";\n            var additionalLinkClass = isVerticalWide\n                ? "bliink-native__vertical-link"\n                : "";\n            var clickUrl = this.creative.creativeClickUrl;\n            if (((_a = this.Ad) === null || _a === void 0 ? void 0 : _a.ssp) !== Exchange.OUTBRAIN) {\n                clickUrl = "".concat(EVENT_API_URL, "/c?token=").concat((_b = this.Ad) === null || _b === void 0 ? void 0 : _b.token, "&redirect=").concat(clickUrl);\n            }\n            var maxH = this.isSticky ? "100%" : this.creative.height;\n            var maxW = this.isSticky ? "100%" : this.creative.width;\n            var text = this.creative.data && this.creative.data !== "undefined"\n                ? this.creative.data\n                : "";\n            var ctaText = this.creative.cta && this.creative.cta !== "undefined"\n                ? "<div class=\\"".concat(BLIINK_NATIVE_CLASS, "__cta\\" style=\\"font-size:").concat(this.creative.height * 0.14, "px;padding:").concat(this.creative.height * 0.03, "px 10px; line-height:").concat(this.creative.height * 0.25, "px\\">").concat(this.creative.cta, "</div>")\n                : "";\n            var icon = this.creative.icon && this.creative.icon !== "undefined"\n                ? " <div class=\\"".concat(BLIINK_NATIVE_CLASS, "__thumb-icon ").concat(cssIconClass, "\\">\\n    <img src=\\"").concat(this.creative.icon, "\\" alt=\\"logo\\" />\\n  </div>")\n                : "";\n            // font-size: ${min(max(100 * 0.18), 16px)};\n            return "<div class=\\"".concat(BLIINK_NATIVE_CLASS, "\\" style=\\"max-width:").concat(maxW, "px;max-height:").concat(maxH, "px;width:100%;height:100%\\">\\n                <a href=\\"").concat(clickUrl, "\\" target=\\"_blank\\" class=\\"").concat(BLIINK_NATIVE_CLASS, "__link-1 ").concat(additionalLinkClass, "\\">\\n                  <div class=\\"").concat(BLIINK_NATIVE_CLASS, "__thumb-1 ").concat(thumbClass, "\\">\\n                    <img src=\\"").concat(this.creative.creativeUrl, "\\" alt=\\"").concat(this.creative.title, "\\" />\\n                  </div>\\n                  ").concat(icon, "\\n                  <div class=\\"").concat(BLIINK_NATIVE_CLASS, "__content-1 ").concat(nativeCssClass, "\\">\\n                    <div class=\\"").concat(BLIINK_NATIVE_CLASS, "__title-1 ").concat(titleCssClass, "\\" style=\\"font-size: min(max(16px, 4vw), 13px);\\">").concat(this.creative.title, "</div>\\n                    <div class=\\"").concat(BLIINK_NATIVE_CLASS, "__text-1 ").concat(textClass, "\\" style=\\"font-size: min(max(16px, 4vw), 13px);; line-height:").concat(this.creative.height * 0.25, "px\\">").concat(text, "</div>\\n                    ").concat(ctaText, "\\n                  </div>\\n                  <div class=\\"").concat(BLIINK_NATIVE_CLASS, "__sponsored\\">").concat(sponsored, "</div>\\n                </a>\\n                ").concat(this.adChoices, "\\n                <img src=\\"").concat(EVENT_API_URL, "/i.gif?token=").concat((_c = this.Ad) === null || _c === void 0 ? void 0 : _c.token, "&name=impression\\" style=\\"").concat(PIXEL_INLINE_STYLE, "\\" />\\n                ").concat(this.impTrackers, "\\n                ").concat(this.eventTrackers(NativeEventType.IMPRESSION), "\\n                ").concat(this.jsTrackers, "\\n            </div>");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CreativeNativeComponent.prototype.render = function () {\n        var _a;\n        return Native_awaiter(this, void 0, void 0, function () {\n            return Native_generator(this, function (_b) {\n                if (this.Ad.creative.media_type !== "native")\n                    return [2 /*return*/];\n                if (this.isRendered)\n                    return [2 /*return*/];\n                this.isRendered = true;\n                new Logger().info("CreativeNativeComponent Render", this.container);\n                this.container.insertAdjacentHTML("beforeend", this.adm);\n                if (this.isSticky) {\n                    appendStylesheets((Native_style_default()), true);\n                    appendStylesheets((stylesheets_style_default()), true);\n                    window.top.document.body.appendChild(this.container);\n                }\n                else {\n                    appendStylesheets((Native_style_default()), false);\n                    window.document.body.appendChild(this.container);\n                }\n                (_a = document\n                    .querySelector(".".concat(BLIINK_NATIVE_CLASS, "__link"))) === null || _a === void 0 ? void 0 : _a.addEventListener("click", this.trackClick.bind(this));\n                this.trackViewability(NativeEventType.VIEWABLE_MRC50, {\n                    inViewDuration: 1,\n                    percentInViewport: 50,\n                });\n                this.trackViewability(NativeEventType.VIEWABLE_MRC100, {\n                    inViewDuration: 1,\n                    percentInViewport: 100,\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    return CreativeNativeComponent;\n}(Creative));\n/* harmony default export */ const Native = ((/* unused pure expression or super */ null && (CreativeNativeComponent)));\nvar Native_ad = getAdData();\nif (((Native_a = Native_ad === null || Native_ad === void 0 ? void 0 : Native_ad.creative) === null || Native_a === void 0 ? void 0 : Native_a.media_type) === "native") {\n    var Native_divDom = document.createElement("div");\n    Native_divDom.className = "bliink-adview";\n    var creativeNative = new CreativeNativeComponent(Native_ad);\n    creativeNative.render();\n}\n\n;// CONCATENATED MODULE: ./src/lib.ts\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\n//# sourceURL=webpack://native/./src/index.ts_+_12_modules?')},5596:module=>{"use strict";eval("\n\nvar METHODS = [\n    'handshakeVersion',\n    'initAd',\n    'startAd',\n    'stopAd',\n    'skipAd', // VPAID 2.0 new method\n    'resizeAd',\n    'pauseAd',\n    'resumeAd',\n    'expandAd',\n    'collapseAd',\n    'subscribe',\n    'unsubscribe'\n];\n\nvar EVENTS = [\n    'AdLoaded',\n    'AdStarted',\n    'AdStopped',\n    'AdSkipped',\n    'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange',\n    'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange',\n    'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange',\n    'AdImpression',\n    'AdVideoStart',\n    'AdVideoFirstQuartile',\n    'AdVideoMidpoint',\n    'AdVideoThirdQuartile',\n    'AdVideoComplete',\n    'AdClickThru',\n    'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation',\n    'AdUserMinimize',\n    'AdUserClose',\n    'AdPaused',\n    'AdPlaying',\n    'AdLog',\n    'AdError'\n];\n\nvar GETTERS = [\n    'getAdLinear',\n    'getAdWidth', // VPAID 2.0 new getter\n    'getAdHeight', // VPAID 2.0 new getter\n    'getAdExpanded',\n    'getAdSkippableState', // VPAID 2.0 new getter\n    'getAdRemainingTime',\n    'getAdDuration', // VPAID 2.0 new getter\n    'getAdVolume',\n    'getAdCompanions', // VPAID 2.0 new getter\n    'getAdIcons' // VPAID 2.0 new getter\n];\n\nvar SETTERS = [\n    'setAdVolume'\n];\n\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * IVPAIDAdUnit\n *\n * @class\n *\n * @param {object} creative\n * @param {HTMLElement} el\n * @param {HTMLVideoElement} video\n */\nfunction IVPAIDAdUnit(creative, el, video) {}\n\n\n/**\n * handshakeVersion\n *\n * @param {string} VPAIDVersion\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.handshakeVersion = function (VPAIDVersion, callback) {};\n\n/**\n * initAd\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version\n * @param {NodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.initAd = function(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {};\n\n/**\n * startAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.startAd = function(callback) {};\n\n/**\n * stopAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.stopAd = function(callback) {};\n\n/**\n * skipAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.skipAd = function(callback) {};\n\n/**\n * resizeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resizeAd = function(width, height, viewMode, callback) {};\n\n/**\n * pauseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.pauseAd = function(callback) {};\n\n/**\n * resumeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resumeAd = function(callback) {};\n\n/**\n * expandAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.expandAd = function(callback) {};\n\n/**\n * collapseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.collapseAd = function(callback) {};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nIVPAIDAdUnit.prototype.subscribe = function(event, handler, context) {};\n\n/**\n * startAd\n *\n * @param {string} event\n * @param {function} handler\n */\nIVPAIDAdUnit.prototype.unsubscribe = function(event, handler) {};\n\n\n\n/**\n * getAdLinear\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdLinear = function(callback) {};\n\n/**\n * getAdWidth\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdWidth = function(callback) {};\n\n/**\n * getAdHeight\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdHeight = function(callback) {};\n\n/**\n * getAdExpanded\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdExpanded = function(callback) {};\n\n/**\n * getAdSkippableState\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdSkippableState = function(callback) {};\n\n/**\n * getAdRemainingTime\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdRemainingTime = function(callback) {};\n\n/**\n * getAdDuration\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdDuration = function(callback) {};\n\n/**\n * getAdVolume\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdVolume = function(callback) {};\n\n/**\n * getAdCompanions\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdCompanions = function(callback) {};\n\n/**\n * getAdIcons\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdIcons = function(callback) {};\n\n/**\n * setAdVolume\n *\n * @param {number} volume\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.setAdVolume = function(volume, callback) {};\n\naddStaticToInterface(IVPAIDAdUnit, 'METHODS', METHODS);\naddStaticToInterface(IVPAIDAdUnit, 'GETTERS', GETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'SETTERS', SETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'EVENTS',  EVENTS);\n\n\nvar VPAID1_METHODS = METHODS.filter(function(method) {\n    return ['skipAd'].indexOf(method) === -1;\n});\n\naddStaticToInterface(IVPAIDAdUnit, 'checkVPAIDInterface', function checkVPAIDInterface (creative) {\n    var result = VPAID1_METHODS.every(function(key) {\n        return typeof creative[key] === 'function';\n    });\n    return result;\n});\n\nmodule.exports = IVPAIDAdUnit;\n\nfunction addStaticToInterface(Interface, name, value) {\n    Object.defineProperty(Interface, name, {\n        writable: false,\n        configurable: false,\n        value: value\n    });\n}\n\n\n\n//# sourceURL=webpack://native/./node_modules/vpaid-html5-client/js/IVPAIDAdUnit.js?")},7013:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar IVPAIDAdUnit = __webpack_require__(5596);\nvar Subscriber = __webpack_require__(3437);\nvar checkVPAIDInterface = IVPAIDAdUnit.checkVPAIDInterface;\nvar utils = __webpack_require__(8077);\nvar METHODS = IVPAIDAdUnit.METHODS;\nvar ERROR = 'AdError';\nvar AD_CLICK = 'AdClickThru';\nvar FILTERED_EVENTS = IVPAIDAdUnit.EVENTS.filter(function (event) {\n    return event != AD_CLICK;\n});\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * VPAIDAdUnit\n * @class\n *\n * @param VPAIDCreative\n * @param {HTMLElement} [el] this will be used in initAd environmentVars.slot if defined\n * @param {HTMLVideoElement} [video] this will be used in initAd environmentVars.videoSlot if defined\n */\nfunction VPAIDAdUnit(VPAIDCreative, el, video, iframe) {\n    this._isValid = checkVPAIDInterface(VPAIDCreative);\n    if (this._isValid) {\n        this._creative = VPAIDCreative;\n        this._el = el;\n        this._videoEl = video;\n        this._iframe = iframe;\n        this._subscribers = new Subscriber();\n        utils.setFullSizeStyle(el);\n        $addEventsSubscribers.call(this);\n    }\n}\n\nVPAIDAdUnit.prototype = Object.create(IVPAIDAdUnit.prototype);\n\n/**\n * isValidVPAIDAd will return if the VPAIDCreative passed in constructor is valid or not\n *\n * @return {boolean}\n */\nVPAIDAdUnit.prototype.isValidVPAIDAd = function isValidVPAIDAd() {\n    return this._isValid;\n};\n\nIVPAIDAdUnit.METHODS.forEach(function(method) {\n    //NOTE: this methods arguments order are implemented differently from the spec\n    var ignores = [\n        'subscribe',\n        'unsubscribe',\n        'initAd'\n    ];\n\n    if (ignores.indexOf(method) !== -1) return;\n\n    VPAIDAdUnit.prototype[method] = function () {\n        var ariaty = IVPAIDAdUnit.prototype[method].length;\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = Array.prototype.slice.call(arguments);\n        var callback = (ariaty === args.length) ? args.pop() : undefined;\n\n        setTimeout(function () {\n            var result, error = null;\n            try {\n                result = this._creative[method].apply(this._creative, args);\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n\n/**\n * initAd concreate implementation\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version, if el & video was used in constructor slot & videoSlot will be added to the object\n * @param {NodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.initAd = function initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {\n    creativeData = creativeData || {};\n    environmentVars = utils.extend({\n        slot: this._el,\n        videoSlot: this._videoEl\n    }, environmentVars || {});\n\n    setTimeout(function () {\n        var error;\n        try {\n            this._creative.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);\n        } catch (e) {\n            error = e;\n        }\n\n        callOrTriggerEvent(callback, this._subscribers, error);\n    }.bind(this), 0);\n};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nVPAIDAdUnit.prototype.subscribe = function subscribe(event, handler, context) {\n    this._subscribers.subscribe(handler, event, context);\n};\n\n\n/**\n * unsubscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n */\nVPAIDAdUnit.prototype.unsubscribe = function unsubscribe(event, handler) {\n    this._subscribers.unsubscribe(handler, event);\n};\n\n//alias\nVPAIDAdUnit.prototype.on = VPAIDAdUnit.prototype.subscribe;\nVPAIDAdUnit.prototype.off = VPAIDAdUnit.prototype.unsubscribe;\n\nIVPAIDAdUnit.GETTERS.forEach(function(getter) {\n    VPAIDAdUnit.prototype[getter] = function (callback) {\n        setTimeout(function () {\n\n            var result, error = null;\n            try {\n                result = this._creative[getter]();\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n/**\n * setAdVolume\n *\n * @param volume\n * @param {nodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.setAdVolume = function setAdVolume(volume, callback) {\n    setTimeout(function () {\n\n        var result, error = null;\n        try {\n            this._creative.setAdVolume(volume);\n            result = this._creative.getAdVolume();\n        } catch(e) {\n            error = e;\n        }\n\n        if (!error) {\n            error = utils.validate(result === volume, 'failed to apply volume: ' + volume);\n        }\n        callOrTriggerEvent(callback, this._subscribers, error, result);\n    }.bind(this), 0);\n};\n\nVPAIDAdUnit.prototype._destroy = function destroy() {\n    this.stopAd();\n    this._subscribers.unsubscribeAll();\n};\n\nfunction $addEventsSubscribers() {\n    // some ads implement\n    // so they only handle one subscriber\n    // to handle this we create our one\n    FILTERED_EVENTS.forEach(function (event) {\n        this._creative.subscribe($trigger.bind(this, event), event);\n    }.bind(this));\n\n    // map the click event to be an object instead of depending of the order of the arguments\n    // and to be consistent with the flash\n    this._creative.subscribe($clickThruHook.bind(this), AD_CLICK);\n\n    // because we are adding the element inside the iframe\n    // the user is not able to click in the video\n    if (this._videoEl) {\n        var documentElement = this._iframe.contentDocument.documentElement;\n        var videoEl = this._videoEl;\n        documentElement.addEventListener('click', function(e) {\n            if (e.target === documentElement) {\n                videoEl.click();\n            }\n        });\n    }\n}\n\nfunction $clickThruHook(url, id, playerHandles) {\n    this._subscribers.triggerSync(AD_CLICK, {url: url, id: id, playerHandles: playerHandles});\n}\n\nfunction $trigger(event) {\n    // TODO avoid leaking arguments\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    this._subscribers.trigger(event, Array.prototype.slice(arguments, 1));\n}\n\nfunction callOrTriggerEvent(callback, subscribers, error, result) {\n    if (callback) {\n        callback(error, result);\n    } else if (error) {\n        subscribers.trigger(ERROR, error);\n    }\n}\n\nmodule.exports = VPAIDAdUnit;\n\n\n\n//# sourceURL=webpack://native/./node_modules/vpaid-html5-client/js/VPAIDAdUnit.js?")},1178:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar utils = __webpack_require__(8077);\nvar unique = utils.unique('vpaidIframe');\nvar VPAIDAdUnit = __webpack_require__(7013);\n\nvar defaultTemplate = '<!DOCTYPE html>' +\n    '<html lang=\"en\">' +\n    '<head><meta charset=\"UTF-8\"></head>' +\n    '<body style=\"margin:0;padding:0\"><div class=\"ad-element\"></div>' +\n    '<script type=\"text/javascript\" src=\"{{iframeURL_JS}}\"><\/script>' +\n    '<script type=\"text/javascript\">console.log(\"go\");' +\n    'window.parent.postMessage(\\'{\"event\": \"ready\", \"id\": \"{{iframeID}}\"}\\', \\'{{origin}}\\');' +\n    '<\/script>dddd' +\n    '</body>' +\n    '</html>';\n\nvar AD_STOPPED = 'AdStopped';\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * VPAIDHTML5Client\n * @class\n *\n * @param {HTMLElement} el that will contain the iframe to load adUnit and a el to add to adUnit slot\n * @param {HTMLVideoElement} video default video element to be used by adUnit\n * @param {object} [templateConfig] template: html template to be used instead of the default, extraOptions: to be used when rendering the template\n * @param {object} [vpaidOptions] timeout: when loading adUnit\n */\nfunction VPAIDHTML5Client(el, video, templateConfig, vpaidOptions, windowParam) {\n    templateConfig = templateConfig || {};\n    this.localWindow = windowParam\n    this._id = unique();\n    console.log(\"this._id\", this._id, windowParam)\n    this._destroyed = false;\n\n    this._frameContainer = utils.createElementInEl(el, 'div');\n    this._videoEl = video;\n    this._vpaidOptions = {timeout: 10000};\n\n    this._templateConfig = {\n        template: templateConfig.template || defaultTemplate,\n        extraOptions: templateConfig.extraOptions || {}\n    };\n}\n\n/**\n * destroy\n *\n */\nVPAIDHTML5Client.prototype.destroy = function destroy() {\n    if (this._destroyed) {\n        return;\n    }\n    this._destroyed = true;\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * isDestroyed\n *\n * @return {boolean}\n */\nVPAIDHTML5Client.prototype.isDestroyed = function isDestroyed() {\n    return this._destroyed;\n};\n\n/**\n * loadAdUnit\n *\n * @param {string} adURL url of the js of the adUnit\n * @param {nodeStyleCallback} callback\n */\nVPAIDHTML5Client.prototype.loadAdUnit = function loadAdUnit(adURL, callback) {\n    $throwIfDestroyed.call(this);\n    $unloadPreviousAdUnit.call(this);\n    var that = this;\n\n    var frame = utils.createIframeWithContent(\n        this._frameContainer,\n        this._templateConfig.template,\n        utils.extend({\n            iframeURL_JS: adURL,\n            iframeID: this.getID(),\n            origin: getOrigin()\n        }, this._templateConfig.extraOptions)\n    );\n\n    this._frame = frame;\n\n    this._onLoad = utils.callbackTimeout(\n        this._vpaidOptions.timeout,\n        onLoad.bind(this),\n        onTimeout.bind(this)\n    );\n    console.log(\"setting window onload\", this.localWindow);\n    this.localWindow.addEventListener('message', this._onLoad);\n    // window.top.addEventListener('message', this._onLoad);\n    console.log(\"window from lib\", window);\n\n    function onLoad (e) {\n        /*jshint validthis: false */\n        //don't clear timeout\n        console.log(\"onlod test outside***\", e.data)\n        if (e.origin !== getOrigin()) return;\n        console.log(\"e.origin\", e.origin, getOrigin())\n        console.log(\"onlod test\", e.data)\n        var result = JSON.parse(e.data);\n        console.log(\"result parse\", result);\n        //don't clear timeout\n        if (result.id !== that.getID()) return;\n\n        var adUnit, error, createAd;\n        if (!that._frame.contentWindow) {\n\n            error = 'the iframe is not anymore in the DOM tree';\n\n        } else {\n            createAd = that._frame.contentWindow.getVPAIDAd;\n            error = utils.validate(typeof createAd === 'function', 'the ad didn\\'t return a function to create an ad');\n        }\n\n        if (!error) {\n            var adEl = that._frame.contentWindow.document.querySelector('.ad-element');\n            adUnit = new VPAIDAdUnit(createAd(), adEl, that._videoEl, that._frame);\n            adUnit.subscribe(AD_STOPPED, $adDestroyed.bind(that));\n            error = utils.validate(adUnit.isValidVPAIDAd(), 'the add is not fully complaint with VPAID specification');\n        }\n        console.log(\"adUnit test\", adUnit)\n        that._adUnit = adUnit;\n        $destroyLoadListener.call(that);\n        callback(error, error ? null : adUnit);\n\n        //clear timeout\n        return true;\n    }\n\n    function onTimeout() {\n        callback('timeout', null);\n    }\n};\n\n/**\n * unloadAdUnit\n *\n */\nVPAIDHTML5Client.prototype.unloadAdUnit = function unloadAdUnit() {\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * getID will return the unique id\n *\n * @return {string}\n */\nVPAIDHTML5Client.prototype.getID = function () {\n    return this._id;\n};\n\n\n/**\n * $removeEl\n *\n * @param {string} key\n */\nfunction $removeEl(key) {\n    var el = this[key];\n    if (el) {\n        el.remove();\n        delete this[key];\n    }\n}\n\nfunction $adDestroyed() {\n    $removeAdElements.call(this);\n    delete this._adUnit;\n}\n\nfunction $unloadPreviousAdUnit() {\n    $removeAdElements.call(this);\n    $destroyAdUnit.call(this);\n}\n\nfunction $removeAdElements() {\n    $removeEl.call(this, '_frame');\n    $destroyLoadListener.call(this);\n}\n\n/**\n * $destroyLoadListener\n *\n */\nfunction $destroyLoadListener() {\n    if (this._onLoad) {\n        window.removeEventListener('message', this._onLoad);\n        utils.clearCallbackTimeout(this._onLoad);\n        delete this._onLoad;\n    }\n}\n\n\nfunction $destroyAdUnit() {\n    if (this._adUnit) {\n        this._adUnit.stopAd();\n        delete this._adUnit;\n    }\n}\n\n/**\n * $throwIfDestroyed\n *\n */\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error ('VPAIDHTML5Client already destroyed!');\n    }\n}\n\nfunction getOrigin() {\n    if( window.location.origin ) {\n        return window.location.origin;\n    }\n    else {\n        return window.location.protocol + \"//\" +\n            window.location.hostname +\n            (window.location.port ? ':' + window.location.port: '');\n    }\n}\n\nmodule.exports = VPAIDHTML5Client;\n\n\n\n//# sourceURL=webpack://native/./node_modules/vpaid-html5-client/js/VPAIDHTML5Client.js?")},3437:module=>{"use strict";eval("\n\nfunction Subscriber() {\n    this._subscribers = {};\n}\n\nSubscriber.prototype.subscribe = function subscribe(handler, eventName, context) {\n    if (!this.isHandlerAttached(handler, eventName)) {\n        this.get(eventName).push({handler: handler, context: context, eventName: eventName});\n    }\n};\n\nSubscriber.prototype.unsubscribe = function unsubscribe(handler, eventName) {\n    this._subscribers[eventName] = this.get(eventName).filter(function (subscriber) {\n        return handler !== subscriber.handler;\n    });\n};\n\nSubscriber.prototype.unsubscribeAll = function unsubscribeAll() {\n    this._subscribers = {};\n};\n\nSubscriber.prototype.trigger = function(eventName, data) {\n    var that = this;\n    var subscribers = this.get(eventName)\n        .concat(this.get('*'));\n\n    subscribers.forEach(function (subscriber) {\n        setTimeout(function () {\n            if (that.isHandlerAttached(subscriber.handler, subscriber.eventName)) {\n                subscriber.handler.call(subscriber.context, data);\n            }\n        }, 0);\n    });\n};\n\nSubscriber.prototype.triggerSync = function(eventName, data) {\n    var subscribers = this.get(eventName)\n        .concat(this.get('*'));\n\n    subscribers.forEach(function (subscriber) {\n        subscriber.handler.call(subscriber.context, data);\n    });\n};\n\nSubscriber.prototype.get = function get(eventName) {\n    if (!this._subscribers[eventName]) {\n        this._subscribers[eventName] = [];\n    }\n    return this._subscribers[eventName];\n};\n\nSubscriber.prototype.isHandlerAttached = function isHandlerAttached(handler, eventName) {\n    return this.get(eventName).some(function(subscriber) {\n        return handler === subscriber.handler;\n    })\n};\n\nmodule.exports = Subscriber;\n\n\n\n//# sourceURL=webpack://native/./node_modules/vpaid-html5-client/js/subscriber.js?")},8077:module=>{"use strict";eval("\n\n/**\n * noop a empty function\n */\nfunction noop() {}\n\n/**\n * validate if is not validate will return an Error with the message\n *\n * @param {boolean} isValid\n * @param {string} message\n */\nfunction validate(isValid, message) {\n    return isValid ? null : new Error(message);\n}\n\nvar timeouts = {};\n/**\n * clearCallbackTimeout\n *\n * @param {function} func handler to remove\n */\nfunction clearCallbackTimeout(func) {\n    var timeout = timeouts[func];\n    if (timeout) {\n        clearTimeout(timeout);\n        delete timeouts[func];\n    }\n}\n\n/**\n * callbackTimeout if the onSuccess is not called and returns true in the timelimit then onTimeout will be called\n *\n * @param {number} timer\n * @param {function} onSuccess\n * @param {function} onTimeout\n */\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n    var callback, timeout;\n\n    timeout = setTimeout(function () {\n        onSuccess = noop;\n        delete timeout[callback];\n        onTimeout();\n    }, timer);\n\n    callback = function () {\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        if (onSuccess.apply(this, arguments)) {\n            clearCallbackTimeout(callback);\n        }\n    };\n\n    timeouts[callback] = timeout;\n\n    return callback;\n}\n\n\n/**\n * createElementInEl\n *\n * @param {HTMLElement} parent\n * @param {string} tagName\n * @param {string} id\n */\nfunction createElementInEl(parent, tagName, id) {\n    var nEl = document.createElement(tagName);\n    if (id) nEl.id = id;\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * createIframeWithContent\n *\n * @param {HTMLElement} parent\n * @param {string} template simple template using {{var}}\n * @param {object} data\n */\nfunction createIframeWithContent(parent, template, data) {\n    var iframe = createIframe(parent, null, data.zIndex);\n    if (!setIframeContent(iframe, simpleTemplate(template, data))) return;\n    return iframe;\n}\n\n/**\n * createIframe\n *\n * @param {HTMLElement} parent\n * @param {string} url\n */\nfunction createIframe(parent, url, zIndex) {\n    var nEl = document.createElement('iframe');\n    nEl.src = url || 'about:blank';\n    nEl.marginWidth = '0';\n    nEl.marginHeight = '0';\n    nEl.frameBorder = '0';\n    nEl.width = '100%';\n    nEl.height = '100%';\n    setFullSizeStyle(nEl);\n\n    if(zIndex){\n        nEl.style.zIndex = zIndex;\n    }\n\n    nEl.setAttribute('SCROLLING','NO');\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction setFullSizeStyle(element) {\n    element.style.position = 'absolute';\n    element.style.left = '0';\n    element.style.top = '0';\n    element.style.margin = '0px';\n    element.style.padding = '0px';\n    element.style.border = 'none';\n    element.style.width = '100%';\n    element.style.height = '100%';\n}\n\n/**\n * simpleTemplate\n *\n * @param {string} template\n * @param {object} data\n */\nfunction simpleTemplate(template, data) {\n    Object.keys(data).forEach(function (key) {\n        var value = (typeof value === 'object') ? JSON.stringify(data[key]) : data[key];\n        template = template.replace(new RegExp('{{' + key + '}}', 'g'), value);\n    });\n    return template;\n}\n\n/**\n * setIframeContent\n *\n * @param {HTMLIframeElement} iframeEl\n * @param content\n */\nfunction setIframeContent(iframeEl, content) {\n    var iframeDoc = iframeEl.contentWindow && iframeEl.contentWindow.document;\n    if (!iframeDoc) return false;\n\n    iframeDoc.write(content);\n\n    return true;\n}\n\n\n/**\n * extend object with keys from another object\n *\n * @param {object} toExtend\n * @param {object} fromSource\n */\nfunction extend(toExtend, fromSource) {\n    Object.keys(fromSource).forEach(function(key) {\n        toExtend[key] = fromSource[key];\n    });\n    return toExtend;\n}\n\n\n/**\n * unique will create a unique string everytime is called, sequentially and prefixed\n *\n * @param {string} prefix\n */\nfunction unique(prefix) {\n    var count = -1;\n    console.log(\"this._id unique call\", count)\n    return function () {\n        return prefix + '_' + (++count);\n    };\n}\n\nmodule.exports = {\n    noop: noop,\n    validate: validate,\n    clearCallbackTimeout: clearCallbackTimeout,\n    callbackTimeout: callbackTimeout,\n    createElementInEl: createElementInEl,\n    createIframeWithContent: createIframeWithContent,\n    createIframe: createIframe,\n    setFullSizeStyle: setFullSizeStyle,\n    simpleTemplate: simpleTemplate,\n    setIframeContent: setIframeContent,\n    extend: extend,\n    unique: unique\n};\n\n\n\n//# sourceURL=webpack://native/./node_modules/vpaid-html5-client/js/utils.js?")},6150:(__unused_webpack_module,exports,__webpack_require__)=>{eval("function DOMParser(options){\r\n\tthis.options = options ||{locator:{}};\r\n\t\r\n}\r\nDOMParser.prototype.parseFromString = function(source,mimeType){\r\n\tvar options = this.options;\r\n\tvar sax =  new XMLReader();\r\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\r\n\tvar errorHandler = options.errorHandler;\r\n\tvar locator = options.locator;\r\n\tvar defaultNSMap = options.xmlns||{};\r\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\r\n\tif(locator){\r\n\t\tdomBuilder.setDocumentLocator(locator)\r\n\t}\r\n\t\r\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\r\n\tsax.domBuilder = options.domBuilder || domBuilder;\r\n\tif(/\\/x?html?$/.test(mimeType)){\r\n\t\tentityMap.nbsp = '\\xa0';\r\n\t\tentityMap.copy = '\\xa9';\r\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\r\n\t}\r\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\r\n\tif(source){\r\n\t\tsax.parse(source,defaultNSMap,entityMap);\r\n\t}else{\r\n\t\tsax.errorHandler.error(\"invalid doc source\");\r\n\t}\r\n\treturn domBuilder.doc;\r\n}\r\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\r\n\tif(!errorImpl){\r\n\t\tif(domBuilder instanceof DOMHandler){\r\n\t\t\treturn domBuilder;\r\n\t\t}\r\n\t\terrorImpl = domBuilder ;\r\n\t}\r\n\tvar errorHandler = {}\r\n\tvar isCallback = errorImpl instanceof Function;\r\n\tlocator = locator||{}\r\n\tfunction build(key){\r\n\t\tvar fn = errorImpl[key];\r\n\t\tif(!fn && isCallback){\r\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\r\n\t\t}\r\n\t\terrorHandler[key] = fn && function(msg){\r\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\r\n\t\t}||function(){};\r\n\t}\r\n\tbuild('warning');\r\n\tbuild('error');\r\n\tbuild('fatalError');\r\n\treturn errorHandler;\r\n}\r\n\r\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\r\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\r\nfunction DOMHandler() {\r\n    this.cdata = false;\r\n}\r\nfunction position(locator,node){\r\n\tnode.lineNumber = locator.lineNumber;\r\n\tnode.columnNumber = locator.columnNumber;\r\n}\r\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */ \r\nDOMHandler.prototype = {\r\n\tstartDocument : function() {\r\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\r\n    \tif (this.locator) {\r\n        \tthis.doc.documentURI = this.locator.systemId;\r\n    \t}\r\n\t},\r\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\r\n\t\tvar doc = this.doc;\r\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\r\n\t    var len = attrs.length;\r\n\t    appendElement(this, el);\r\n\t    this.currentElement = el;\r\n\t    \r\n\t\tthis.locator && position(this.locator,el)\r\n\t    for (var i = 0 ; i < len; i++) {\r\n\t        var namespaceURI = attrs.getURI(i);\r\n\t        var value = attrs.getValue(i);\r\n\t        var qName = attrs.getQName(i);\r\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\r\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\r\n\t\t\tattr.value = attr.nodeValue = value;\r\n\t\t\tel.setAttributeNode(attr)\r\n\t    }\r\n\t},\r\n\tendElement:function(namespaceURI, localName, qName) {\r\n\t\tvar current = this.currentElement\r\n\t\tvar tagName = current.tagName;\r\n\t\tthis.currentElement = current.parentNode;\r\n\t},\r\n\tstartPrefixMapping:function(prefix, uri) {\r\n\t},\r\n\tendPrefixMapping:function(prefix) {\r\n\t},\r\n\tprocessingInstruction:function(target, data) {\r\n\t    var ins = this.doc.createProcessingInstruction(target, data);\r\n\t    this.locator && position(this.locator,ins)\r\n\t    appendElement(this, ins);\r\n\t},\r\n\tignorableWhitespace:function(ch, start, length) {\r\n\t},\r\n\tcharacters:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t\t//console.log(chars)\r\n\t\tif(chars){\r\n\t\t\tif (this.cdata) {\r\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\r\n\t\t\t} else {\r\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\r\n\t\t\t}\r\n\t\t\tif(this.currentElement){\r\n\t\t\t\tthis.currentElement.appendChild(charNode);\r\n\t\t\t}else if(/^\\s*$/.test(chars)){\r\n\t\t\t\tthis.doc.appendChild(charNode);\r\n\t\t\t\t//process xml\r\n\t\t\t}\r\n\t\t\tthis.locator && position(this.locator,charNode)\r\n\t\t}\r\n\t},\r\n\tskippedEntity:function(name) {\r\n\t},\r\n\tendDocument:function() {\r\n\t\tthis.doc.normalize();\r\n\t},\r\n\tsetDocumentLocator:function (locator) {\r\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\r\n\t    \tlocator.lineNumber = 0;\r\n\t    }\r\n\t},\r\n\t//LexicalHandler\r\n\tcomment:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t    var comm = this.doc.createComment(chars);\r\n\t    this.locator && position(this.locator,comm)\r\n\t    appendElement(this, comm);\r\n\t},\r\n\t\r\n\tstartCDATA:function() {\r\n\t    //used in characters() methods\r\n\t    this.cdata = true;\r\n\t},\r\n\tendCDATA:function() {\r\n\t    this.cdata = false;\r\n\t},\r\n\t\r\n\tstartDTD:function(name, publicId, systemId) {\r\n\t\tvar impl = this.doc.implementation;\r\n\t    if (impl && impl.createDocumentType) {\r\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\r\n\t        this.locator && position(this.locator,dt)\r\n\t        appendElement(this, dt);\r\n\t    }\r\n\t},\r\n\t/**\r\n\t * @see org.xml.sax.ErrorHandler\r\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n\t */\r\n\twarning:function(error) {\r\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\r\n\t},\r\n\terror:function(error) {\r\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\r\n\t},\r\n\tfatalError:function(error) {\r\n\t\tconsole.error('[xmldom fatalError]\\t'+error,_locator(this.locator));\r\n\t    throw error;\r\n\t}\r\n}\r\nfunction _locator(l){\r\n\tif(l){\r\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\r\n\t}\r\n}\r\nfunction _toString(chars,start,length){\r\n\tif(typeof chars == 'string'){\r\n\t\treturn chars.substr(start,length)\r\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\r\n\t\tif(chars.length >= start+length || start){\r\n\t\t\treturn new java.lang.String(chars,start,length)+'';\r\n\t\t}\r\n\t\treturn chars;\r\n\t}\r\n}\r\n\r\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\r\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\r\n\tDOMHandler.prototype[key] = function(){return null}\r\n})\r\n\r\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\r\nfunction appendElement (hander,node) {\r\n    if (!hander.currentElement) {\r\n        hander.doc.appendChild(node);\r\n    } else {\r\n        hander.currentElement.appendChild(node);\r\n    }\r\n}//appendChild and setAttributeNS are preformance key\r\n\r\n//if(typeof require == 'function'){\r\n\tvar XMLReader = (__webpack_require__(6147)/* .XMLReader */ .G);\r\n\tvar DOMImplementation = exports.DOMImplementation = __webpack_require__(9541).DOMImplementation;\r\n\texports.XMLSerializer = __webpack_require__(9541).XMLSerializer ;\r\n\texports.DOMParser = DOMParser;\r\n//}\r\n\n\n//# sourceURL=webpack://native/./node_modules/xmldom/dom-parser.js?")},9541:(__unused_webpack_module,exports)=>{eval("/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype)\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknow Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\t// Introduced in DOM Level 2:\n\t\t//readonly attribute DOMString        internalSubset;\n\t\t\n\t\t//TODO:..\n\t\t//  readonly attribute NamedNodeMap     entities;\n\t\t//  readonly attribute NamedNodeMap     notations;\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\t\n\tinsertBefore :  function(newChild, refChild){//raises \n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t\t\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\t\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9?this.documentElement:this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix||'';\n\tvar uri = node.namespaceURI;\n\tif (!prefix && !uri){\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\t\tif (ns.prefix == prefix){\n\t\t\treturn ns.namespace != uri;\n\t\t}\n\t}\n\t//console.log(isHTML,uri,prefix=='')\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n\t//\treturn false;\n\t//}\n\t//node.flag = '11111'\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\treturn true;\n}\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \n\t\tbuf.push('<',nodeName);\n\t\t\n\t\t\n\t\t\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\t\t// add namespace for current node\t\t\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"\x3c!--\",node.data,\"--\x3e\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE：\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//TODO:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DOMImplementation = DOMImplementation;\n\texports.XMLSerializer = XMLSerializer;\n//}\n\n\n//# sourceURL=webpack://native/./node_modules/xmldom/dom.js?")},6147:(__unused_webpack_module,exports)=>{eval("//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\r\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\r\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\r\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\r\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\r\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\r\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\r\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\r\n\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\nvar S_TAG = 0;//tag name offerring\r\nvar S_ATTR = 1;//attr name offerring \r\nvar S_ATTR_SPACE=2;//attr name end and space offer\r\nvar S_EQ = 3;//=space?\r\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\r\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\r\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\r\nvar S_TAG_CLOSE = 7;//closed el<el />\r\n\r\nfunction XMLReader(){\r\n\t\r\n}\r\n\r\nXMLReader.prototype = {\r\n\tparse:function(source,defaultNSMap,entityMap){\r\n\t\tvar domBuilder = this.domBuilder;\r\n\t\tdomBuilder.startDocument();\r\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\r\n\t\tparse(source,defaultNSMap,entityMap,\r\n\t\t\t\tdomBuilder,this.errorHandler);\r\n\t\tdomBuilder.endDocument();\r\n\t}\r\n}\r\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\r\n\tfunction fixedFromCharCode(code) {\r\n\t\t// String.prototype.fromCharCode does not supports\r\n\t\t// > 2 bytes unicode chars directly\r\n\t\tif (code > 0xffff) {\r\n\t\t\tcode -= 0x10000;\r\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\r\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\r\n\r\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\r\n\t\t} else {\r\n\t\t\treturn String.fromCharCode(code);\r\n\t\t}\r\n\t}\r\n\tfunction entityReplacer(a){\r\n\t\tvar k = a.slice(1,-1);\r\n\t\tif(k in entityMap){\r\n\t\t\treturn entityMap[k]; \r\n\t\t}else if(k.charAt(0) === '#'){\r\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\r\n\t\t}else{\r\n\t\t\terrorHandler.error('entity not found:'+a);\r\n\t\t\treturn a;\r\n\t\t}\r\n\t}\r\n\tfunction appendText(end){//has some bugs\r\n\t\tif(end>start){\r\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\tlocator&&position(start);\r\n\t\t\tdomBuilder.characters(xt,0,end-start);\r\n\t\t\tstart = end\r\n\t\t}\r\n\t}\r\n\tfunction position(p,m){\r\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\r\n\t\t\tlineStart = m.index;\r\n\t\t\tlineEnd = lineStart + m[0].length;\r\n\t\t\tlocator.lineNumber++;\r\n\t\t\t//console.log('line++:',locator,startPos,endPos)\r\n\t\t}\r\n\t\tlocator.columnNumber = p-lineStart+1;\r\n\t}\r\n\tvar lineStart = 0;\r\n\tvar lineEnd = 0;\r\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\r\n\tvar locator = domBuilder.locator;\r\n\t\r\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\r\n\tvar closeMap = {};\r\n\tvar start = 0;\r\n\twhile(true){\r\n\t\ttry{\r\n\t\t\tvar tagStart = source.indexOf('<',start);\r\n\t\t\tif(tagStart<0){\r\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\r\n\t\t\t\t\tvar doc = domBuilder.doc;\r\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\r\n\t    \t\t\tdoc.appendChild(text);\r\n\t    \t\t\tdomBuilder.currentElement = text;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(tagStart>start){\r\n\t\t\t\tappendText(tagStart);\r\n\t\t\t}\r\n\t\t\tswitch(source.charAt(tagStart+1)){\r\n\t\t\tcase '/':\r\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\r\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\r\n\t\t\t\tvar config = parseStack.pop();\r\n\t\t\t\tif(end<0){\r\n\t\t\t\t\t\r\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\r\n\t        \t\t//console.error('#@@@@@@'+tagName)\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t        \t}else if(tagName.match(/\\s</)){\r\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t\t\t\t}\r\n\t\t\t\t//console.error(parseStack.length,parseStack)\r\n\t\t\t\t//console.error(config);\r\n\t\t\t\tvar localNSMap = config.localNSMap;\r\n\t\t\t\tvar endMatch = config.tagName == tagName;\r\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\r\n\t\t        if(endIgnoreCaseMach){\r\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\r\n\t\t\t\t\tif(localNSMap){\r\n\t\t\t\t\t\tfor(var prefix in localNSMap){\r\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!endMatch){\r\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName );\r\n\t\t\t\t\t}\r\n\t\t        }else{\r\n\t\t        \tparseStack.push(config)\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tend++;\r\n\t\t\t\tbreak;\r\n\t\t\t\t// end elment\r\n\t\t\tcase '?':// <?...?>\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '!':// <!doctype,<![CDATA,\x3c!--\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tvar el = new ElementAttributes();\r\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\t\t\t\t//elStartEnd\r\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\r\n\t\t\t\tvar len = el.length;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\r\n\t\t\t\t\tel.closed = true;\r\n\t\t\t\t\tif(!entityMap.nbsp){\r\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(locator && len){\r\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\r\n\t\t\t\t\t//try{//attribute position fixed\r\n\t\t\t\t\tfor(var i = 0;i<len;i++){\r\n\t\t\t\t\t\tvar a = el[i];\r\n\t\t\t\t\t\tposition(a.offset);\r\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}catch(e){console.error('@@@@@'+e)}\r\n\t\t\t\t\tdomBuilder.locator = locator2\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomBuilder.locator = locator;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\r\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\terrorHandler.error('element parse error: '+e)\r\n\t\t\t//errorHandler.error('element parse error: '+e);\r\n\t\t\tend = -1;\r\n\t\t\t//throw e;\r\n\t\t}\r\n\t\tif(end>start){\r\n\t\t\tstart = end;\r\n\t\t}else{\r\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\r\n\t\t\tappendText(Math.max(tagStart,start)+1);\r\n\t\t}\r\n\t}\r\n}\r\nfunction copyLocator(f,t){\r\n\tt.lineNumber = f.lineNumber;\r\n\tt.columnNumber = f.columnNumber;\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\r\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\r\n\tvar attrName;\r\n\tvar value;\r\n\tvar p = ++start;\r\n\tvar s = S_TAG;//status\r\n\twhile(true){\r\n\t\tvar c = source.charAt(p);\r\n\t\tswitch(c){\r\n\t\tcase '=':\r\n\t\t\tif(s === S_ATTR){//attrName\r\n\t\t\t\tattrName = source.slice(start,p);\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else if(s === S_ATTR_SPACE){\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\r\n\t\t\t\tthrow new Error('attribute equal must after attrName');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '\\'':\r\n\t\tcase '\"':\r\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\r\n\t\t\t\t){//equal\r\n\t\t\t\tif(s === S_ATTR){\r\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t}\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\tp = source.indexOf(c,start)\r\n\t\t\t\tif(p>0){\r\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\tel.add(attrName,value,start-1);\r\n\t\t\t\t\ts = S_ATTR_END;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//fatalError: no end quot match\r\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\r\n\t\t\t\t}\r\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t//console.log(attrName,value,start,p)\r\n\t\t\t\tel.add(attrName,value,start);\r\n\t\t\t\t//console.dir(el)\r\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\ts = S_ATTR_END\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: no equal before\r\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\ts =S_TAG_CLOSE;\r\n\t\t\t\tel.closed = true;\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\tcase S_ATTR:\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tbreak;\r\n\t\t\t//case S_EQ:\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ''://end document\r\n\t\t\t//throw new Error('unexpected end of input')\r\n\t\t\terrorHandler.error('unexpected end of input');\r\n\t\t\tif(s == S_TAG){\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\tcase '>':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\tbreak;//normal\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\r\n\t\t\tcase S_ATTR:\r\n\t\t\t\tvalue = source.slice(start,p);\r\n\t\t\t\tif(value.slice(-1) === '/'){\r\n\t\t\t\t\tel.closed  = true;\r\n\t\t\t\t\tvalue = value.slice(0,-1)\r\n\t\t\t\t}\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tif(s === S_ATTR_SPACE){\r\n\t\t\t\t\tvalue = attrName;\r\n\t\t\t\t}\r\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(value,value,start)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase S_EQ:\r\n\t\t\t\tthrow new Error('attribute value missed!!');\r\n\t\t\t}\r\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\r\n\t\t\treturn p;\r\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\r\n\t\tcase '\\u0080':\r\n\t\t\tc = ' ';\r\n\t\tdefault:\r\n\t\t\tif(c<= ' '){//space\r\n\t\t\t\tswitch(s){\r\n\t\t\t\tcase S_TAG:\r\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR:\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t\ts = S_ATTR_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value,start)\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//case S_TAG_SPACE:\r\n\t\t\t\t//case S_EQ:\r\n\t\t\t\t//case S_ATTR_SPACE:\r\n\t\t\t\t//\tvoid();break;\r\n\t\t\t\t//case S_TAG_CLOSE:\r\n\t\t\t\t\t//ignore warning\r\n\t\t\t\t}\r\n\t\t\t}else{//not space\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\n\t\t\t\tswitch(s){\r\n\t\t\t\t//case S_TAG:void();break;\r\n\t\t\t\t//case S_ATTR:void();break;\r\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\r\n\t\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\t\tvar tagName =  el.tagName;\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(attrName,attrName,start);\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\r\n\t\t\t\tcase S_TAG_SPACE:\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_EQ:\r\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//end outer switch\r\n\t\t//console.log('p++',p)\r\n\t\tp++;\r\n\t}\r\n}\r\n/**\r\n * @return true if has new namespace define\r\n */\r\nfunction appendElement(el,domBuilder,currentNSMap){\r\n\tvar tagName = el.tagName;\r\n\tvar localNSMap = null;\r\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\tvar a = el[i];\r\n\t\tvar qName = a.qName;\r\n\t\tvar value = a.value;\r\n\t\tvar nsp = qName.indexOf(':');\r\n\t\tif(nsp>0){\r\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\r\n\t\t\tvar localName = qName.slice(nsp+1);\r\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\r\n\t\t}else{\r\n\t\t\tlocalName = qName;\r\n\t\t\tprefix = null\r\n\t\t\tnsPrefix = qName === 'xmlns' && ''\r\n\t\t}\r\n\t\t//can not set prefix,because prefix !== ''\r\n\t\ta.localName = localName ;\r\n\t\t//prefix == null for no ns prefix attribute \r\n\t\tif(nsPrefix !== false){//hack!!\r\n\t\t\tif(localNSMap == null){\r\n\t\t\t\tlocalNSMap = {}\r\n\t\t\t\t//console.log(currentNSMap,0)\r\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\r\n\t\t\t\t//console.log(currentNSMap,1)\r\n\t\t\t}\r\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\r\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\r\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \r\n\t\t}\r\n\t}\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\ta = el[i];\r\n\t\tvar prefix = a.prefix;\r\n\t\tif(prefix){//no prefix attribute has no namespace\r\n\t\t\tif(prefix === 'xml'){\r\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\r\n\t\t\t}if(prefix !== 'xmlns'){\r\n\t\t\t\ta.uri = currentNSMap[prefix || '']\r\n\t\t\t\t\r\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar nsp = tagName.indexOf(':');\r\n\tif(nsp>0){\r\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\r\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\r\n\t}else{\r\n\t\tprefix = null;//important!!\r\n\t\tlocalName = el.localName = tagName;\r\n\t}\r\n\t//no prefix element has default namespace\r\n\tvar ns = el.uri = currentNSMap[prefix || ''];\r\n\tdomBuilder.startElement(ns,localName,tagName,el);\r\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\r\n\t//localNSMap = null\r\n\tif(el.closed){\r\n\t\tdomBuilder.endElement(ns,localName,tagName);\r\n\t\tif(localNSMap){\r\n\t\t\tfor(prefix in localNSMap){\r\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tel.currentNSMap = currentNSMap;\r\n\t\tel.localNSMap = localNSMap;\r\n\t\t//parseStack.push(el);\r\n\t\treturn true;\r\n\t}\r\n}\r\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\r\n\tif(/^(?:script|textarea)$/i.test(tagName)){\r\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\r\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\r\n\t\tif(/[&<]/.test(text)){\r\n\t\t\tif(/^script$/i.test(tagName)){\r\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\r\n\t\t\t\t\t//lexHandler.startCDATA();\r\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\t\t//lexHandler.endCDATA();\r\n\t\t\t\t\treturn elEndStart;\r\n\t\t\t\t//}\r\n\t\t\t}//}else{//text area\r\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\treturn elEndStart;\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\treturn elStartEnd+1;\r\n}\r\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\r\n\t//if(tagName in closeMap){\r\n\tvar pos = closeMap[tagName];\r\n\tif(pos == null){\r\n\t\t//console.log(tagName)\r\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\r\n\t\tif(pos<elStartEnd){//忘记闭合\r\n\t\t\tpos = source.lastIndexOf('</'+tagName)\r\n\t\t}\r\n\t\tcloseMap[tagName] =pos\r\n\t}\r\n\treturn pos<elStartEnd;\r\n\t//} \r\n}\r\nfunction _copy(source,target){\r\n\tfor(var n in source){target[n] = source[n]}\r\n}\r\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\r\n\tvar next= source.charAt(start+2)\r\n\tswitch(next){\r\n\tcase '-':\r\n\t\tif(source.charAt(start + 3) === '-'){\r\n\t\t\tvar end = source.indexOf('--\x3e',start+4);\r\n\t\t\t//append comment source.substring(4,end)//\x3c!--\r\n\t\t\tif(end>start){\r\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\r\n\t\t\t\treturn end+3;\r\n\t\t\t}else{\r\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\tdefault:\r\n\t\tif(source.substr(start+3,6) == 'CDATA['){\r\n\t\t\tvar end = source.indexOf(']]>',start+9);\r\n\t\t\tdomBuilder.startCDATA();\r\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\r\n\t\t\tdomBuilder.endCDATA() \r\n\t\t\treturn end+3;\r\n\t\t}\r\n\t\t//<!DOCTYPE\r\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \r\n\t\tvar matchs = split(source,start);\r\n\t\tvar len = matchs.length;\r\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\r\n\t\t\tvar name = matchs[1][0];\r\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\r\n\t\t\tvar sysid = len>4 && matchs[4][0];\r\n\t\t\tvar lastMatch = matchs[len-1]\r\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\r\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\r\n\t\t\tdomBuilder.endDTD();\r\n\t\t\t\r\n\t\t\treturn lastMatch.index+lastMatch[0].length\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\n\r\nfunction parseInstruction(source,start,domBuilder){\r\n\tvar end = source.indexOf('?>',start);\r\n\tif(end){\r\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\r\n\t\tif(match){\r\n\t\t\tvar len = match[0].length;\r\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\r\n\t\t\treturn end+2;\r\n\t\t}else{//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * @param source\r\n */\r\nfunction ElementAttributes(source){\r\n\t\r\n}\r\nElementAttributes.prototype = {\r\n\tsetTagName:function(tagName){\r\n\t\tif(!tagNamePattern.test(tagName)){\r\n\t\t\tthrow new Error('invalid tagName:'+tagName)\r\n\t\t}\r\n\t\tthis.tagName = tagName\r\n\t},\r\n\tadd:function(qName,value,offset){\r\n\t\tif(!tagNamePattern.test(qName)){\r\n\t\t\tthrow new Error('invalid attribute:'+qName)\r\n\t\t}\r\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\r\n\t},\r\n\tlength:0,\r\n\tgetLocalName:function(i){return this[i].localName},\r\n\tgetLocator:function(i){return this[i].locator},\r\n\tgetQName:function(i){return this[i].qName},\r\n\tgetURI:function(i){return this[i].uri},\r\n\tgetValue:function(i){return this[i].value}\r\n//\t,getIndex:function(uri, localName)){\r\n//\t\tif(localName){\r\n//\t\t\t\r\n//\t\t}else{\r\n//\t\t\tvar qName = uri\r\n//\t\t}\r\n//\t},\r\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\r\n//\tgetType:function(uri,localName){}\r\n//\tgetType:function(i){},\r\n}\r\n\r\n\r\n\r\n\r\nfunction _set_proto_(thiz,parent){\r\n\tthiz.__proto__ = parent;\r\n\treturn thiz;\r\n}\r\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\r\n\t_set_proto_ = function(thiz,parent){\r\n\t\tfunction p(){};\r\n\t\tp.prototype = parent;\r\n\t\tp = new p();\r\n\t\tfor(parent in thiz){\r\n\t\t\tp[parent] = thiz[parent];\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n\r\nfunction split(source,start){\r\n\tvar match;\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\r\n\treg.lastIndex = start;\r\n\treg.exec(source);//skip <\r\n\twhile(match = reg.exec(source)){\r\n\t\tbuf.push(match);\r\n\t\tif(match[1])return buf;\r\n\t}\r\n}\r\n\r\nexports.G = XMLReader;\r\n\r\n\n\n//# sourceURL=webpack://native/./node_modules/xmldom/sax.js?")}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[n]={id:n,exports:{}};return __webpack_modules__[n](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(n,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(899)})();