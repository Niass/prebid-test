/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/await-to-js/dist/await-to-js.es5.js":
/*!**********************************************************!*\
  !*** ./node_modules/await-to-js/dist/await-to-js.es5.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"to\": () => (/* binding */ to)\n/* harmony export */ });\n/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (to);\n//# sourceMappingURL=await-to-js.es5.js.map\n\n\n//# sourceURL=webpack://cookies-sync/./node_modules/await-to-js/dist/await-to-js.es5.js?");
  
  /***/ }),
  
  /***/ "./node_modules/css-loader/index.js!./src/Creative/style.css":
  /*!*******************************************************************!*\
    !*** ./node_modules/css-loader/index.js!./src/Creative/style.css ***!
    \*******************************************************************/
  /***/ ((module, exports, __webpack_require__) => {
  
  eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\niframe {\\n  border: 0 !important;\\n  top: 0;\\n  transition: all ease-in-out .8s;\\n}\\n\\niframe.hide {\\n  top: 0;\\n}\\n\\nbody {\\n  overflow: hidden;\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack://cookies-sync/./src/Creative/style.css?./node_modules/css-loader/index.js");
  
  /***/ }),
  
  /***/ "./node_modules/css-loader/index.js!./src/Native/style.css":
  /*!*****************************************************************!*\
    !*** ./node_modules/css-loader/index.js!./src/Native/style.css ***!
    \*****************************************************************/
  /***/ ((module, exports, __webpack_require__) => {
  
  eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.bliink-native {\\n    background: #fff;\\n    background: rgba(255, 255, 255, 0.8);\\n    font-family: Helvetica, Arial, sans-serif;\\n    font-weight: normal;\\n    color: #1F2534;\\n    right: 0;\\n    bottom: 0;\\n    border: 0;\\n    position: absolute;\\n    width: 70%;\\n    height: 100%;\\n    box-sizing: border-box;\\n    padding: 1.5%;\\n}\\n\\n.bliink-native__link {\\n    height: 100%;\\n    width: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    padding: 1.5%;\\n    box-sizing: border-box;\\n    color: #1F2534;\\n}\\n\\n.bliink-native__content {\\n    display: inline-block;\\n    padding: 0 1.5%;\\n    position: absolute;\\n    height: 85%;\\n}\\n\\n.bliink-native__title {\\n    font-size: 18px;\\n    line-height: 22px;\\n    margin-bottom: 10px;\\n    font-weight: 500;\\n    width: 85%;\\n}\\n\\n.bliink-native__adchoices {\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n    height: 20px;\\n    margin: 0;\\n    padding: 0;\\n    display: block;\\n    z-index: 2;\\n    font-size: 12px;\\n    text-decoration: none;\\n    vertical-align: top;\\n    color: #1f2534;\\n    font-weight: 500;\\n}\\n\\n.bliink-native__adchoices img {\\n    bottom: 5px;\\n    right: 5px;\\n    height: 12px;\\n    float: right;\\n    margin: 0 6px 0 4px;\\n}\\n\\n.bliink-native__adchoices img:first-child {\\n    margin-left: 0;\\n}\\n\\n.bliink-native__text {\\n    width: 100%;\\n    font-size: 14px;\\n    line-height: 18px;\\n    font-weight: 400;\\n}\\n\\n.bliink-native__sponsored {\\n    position: absolute;\\n    font-size: 10px;\\n    padding: 3px 6px;\\n    background: #1f2534;\\n    top: 0;\\n    right: 0;\\n    z-index: 2;\\n    color: #fff;\\n    opacity: .8;\\n}\\n\\n.bliink-native__thumb {\\n    max-width: 30%;\\n    height: 100%;\\n    overflow: hidden;\\n    display: inline-block;\\n    position: relative;\\n}\\n\\n.bliink-native__thumb img {\\n    height: 100%;\\n}\\n\\n@media only screen and (max-width: 500px) {\\n    .bliink-native {\\n        width: 100%;\\n    }\\n\\n    .bliink-native__title {\\n        font-size: 11px;\\n        line-height: 12px;\\n        margin-bottom: 2px;\\n    }\\n\\n    .bliink-native__text {\\n        font-size: 10px;\\n        line-height: 12px;\\n    }\\n\\n    .bliink-native__sponsored {\\n        font-size: 7px;\\n    }\\n\\n    .bliink-native__adchoices,\\n    .bliink-native__adchoices img {\\n        height: 9px;\\n        font-size: 9px;\\n        bottom: 6px;\\n    }\\n}\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack://cookies-sync/./src/Native/style.css?./node_modules/css-loader/index.js");
  
  /***/ }),
  
  /***/ "./node_modules/css-loader/lib/css-base.js":
  /*!*************************************************!*\
    !*** ./node_modules/css-loader/lib/css-base.js ***!
    \*************************************************/
  /***/ ((module) => {
  
  eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n//# sourceURL=webpack://cookies-sync/./node_modules/css-loader/lib/css-base.js?");
  
  /***/ }),
  
  /***/ "./src/Creative/style.css":
  /*!********************************!*\
    !*** ./src/Creative/style.css ***!
    \********************************/
  /***/ ((module, __unused_webpack_exports, __webpack_require__) => {
  
  eval("// css-to-string-loader: transforms styles from css-loader to a string output\n\n// Get the styles\nvar styles = __webpack_require__(/*! !!../../node_modules/css-loader/index.js!./style.css */ \"./node_modules/css-loader/index.js!./src/Creative/style.css\");\n\nif (typeof styles === 'string') {\n  // Return an existing string\n  module.exports = styles;\n} else {\n  // Call the custom toString method from css-loader module\n  module.exports = styles.toString();\n}\n\n//# sourceURL=webpack://cookies-sync/./src/Creative/style.css?");
  
  /***/ }),
  
  /***/ "./src/Native/style.css":
  /*!******************************!*\
    !*** ./src/Native/style.css ***!
    \******************************/
  /***/ ((module, __unused_webpack_exports, __webpack_require__) => {
  
  eval("// css-to-string-loader: transforms styles from css-loader to a string output\n\n// Get the styles\nvar styles = __webpack_require__(/*! !!../../node_modules/css-loader/index.js!./style.css */ \"./node_modules/css-loader/index.js!./src/Native/style.css\");\n\nif (typeof styles === 'string') {\n  // Return an existing string\n  module.exports = styles;\n} else {\n  // Call the custom toString method from css-loader module\n  module.exports = styles.toString();\n}\n\n//# sourceURL=webpack://cookies-sync/./src/Native/style.css?");
  
  /***/ }),
  
  /***/ "./src/Creative/index.ts":
  /*!*******************************!*\
    !*** ./src/Creative/index.ts ***!
    \*******************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var await_to_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! await-to-js */ \"./node_modules/await-to-js/dist/await-to-js.es5.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ \"./src/helpers.ts\");\n/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utility */ \"./src/Creative/utility.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./style.css */ \"./src/Creative/style.css\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _insTagChecker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../insTagChecker */ \"./src/insTagChecker.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n// @ts-ignore\n\n\nvar CreativeComponent = /** @class */ (function () {\n    //endregion Properties\n    //region Initialization\n    /**\n     * @param Ad\n     * @param container\n     * @param onDestroyHandler\n     * @param isInline\n     * @param isSticky\n     * @param imageUrl\n     */\n    function CreativeComponent(Ad, container, \n    // public onDestroyHandler: () => void,\n    isInline, isSticky, imageUrl) {\n        if (isInline === void 0) { isInline = false; }\n        if (isSticky === void 0) { isSticky = false; }\n        if (imageUrl === void 0) { imageUrl = ''; }\n        this.Ad = Ad;\n        this.container = container;\n        this.isInline = isInline;\n        this.isSticky = isSticky;\n        this.imageUrl = imageUrl;\n        this.isLoaded = false;\n        this.isRendered = false;\n        this.isVisible = false;\n        this.isDestroyed = false;\n    }\n    Object.defineProperty(CreativeComponent.prototype, \"adm\", {\n        //endregion Initialization\n        //region Getters\n        get: function () {\n            var _a;\n            var options = {\n                imageUrl: this.imageUrl,\n                isSticky: this.isSticky,\n            };\n            var adm = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.setAdMacros)((_a = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getAdServerCreative)(this.Ad)) === null || _a === void 0 ? void 0 : _a.adm, options);\n            if (adm) {\n                try {\n                    return JSON.parse(adm);\n                }\n                catch (e) {\n                    return adm;\n                }\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeComponent.prototype, \"formatId\", {\n        get: function () {\n            var _a;\n            if (this.isInline) {\n                return _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeCategory.IN_FEED;\n            }\n            if (this.creativeCategory) {\n                return this.creativeCategory;\n            }\n            var id = (_a = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getAdServerCreative)(this.Ad)) === null || _a === void 0 ? void 0 : _a.category;\n            var format = _constants__WEBPACK_IMPORTED_MODULE_3__.FORMATS.find(function (format) { return id === format.id; });\n            if (format === null || format === void 0 ? void 0 : format.id) {\n                return format === null || format === void 0 ? void 0 : format.id;\n            }\n            return _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeCategory.IN_IMAGE;\n        },\n        /**\n         * @param creativeCategory\n         */\n        set: function (creativeCategory) {\n            this.creativeCategory = creativeCategory;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @param height\n     */\n    CreativeComponent.prototype.expand = function (height) {\n        this.formatId = height === 100 ? _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeCategory.IN_IMAGE_FRAME : _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeCategory.IN_IMAGE;\n    };\n    //endregion Getters\n    //region Actions\n    /**\n     * @param delay\n     */\n    CreativeComponent.prototype.hideCreative = function (delay) {\n        var _this = this;\n        if (delay === void 0) { delay = 0; }\n        if (this.hideCreativeTimeout) {\n            clearTimeout(this.hideCreativeTimeout);\n        }\n        this.hideCreativeTimeout = setTimeout(function () {\n            (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.sendMessageToCreative)(_this.creativeView, _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeEvent.HIDE);\n        }, delay);\n    };\n    CreativeComponent.prototype.showCreative = function () {\n        if (this.hideCreativeTimeout) {\n            clearTimeout(this.hideCreativeTimeout);\n        }\n        (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.sendMessageToCreative)(this.creativeView, _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeEvent.SHOW);\n    };\n    CreativeComponent.prototype.destroy = function (refresh) {\n        if (this.isDestroyed)\n            return;\n        this.isDestroyed = true;\n        new _helpers__WEBPACK_IMPORTED_MODULE_1__.Logger().info('CreativeComponent Destroy');\n        if (this.hideCreativeTimeout) {\n            clearTimeout(this.hideCreativeTimeout);\n        }\n        if (this.viewabilityChecker) {\n            this.viewabilityChecker.cancel();\n        }\n        if (this.insTagChecker) {\n            this.insTagChecker.cancel();\n        }\n        // if (!refresh && this.onDestroyHandler) {\n        //   this.onDestroyHandler()\n        // }\n    };\n    //endregion Actions\n    //region Handlers\n    CreativeComponent.prototype.onCreativeLoadedHandler = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var err;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.isLoaded)\n                            return [2 /*return*/];\n                        this.isLoaded = true;\n                        new _helpers__WEBPACK_IMPORTED_MODULE_1__.Logger().info('CreativeComponent Loaded');\n                        this.sendEvent(_constants__WEBPACK_IMPORTED_MODULE_3__.AdEvent.IMPRESSION);\n                        this.viewabilityChecker = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.creativeViewabilityChecker)(this.creativeView, (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getAdServerCreative)(this.Ad), this.formatId);\n                        return [4 /*yield*/, (0,await_to_js__WEBPACK_IMPORTED_MODULE_0__.to)(this.viewabilityChecker.promise)];\n                    case 1:\n                        err = (_a.sent())[0];\n                        if (!err) {\n                            this.onViewable();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n   * @param eventName\n   * @param label\n   */\n    CreativeComponent.prototype.sendEvent = function (eventName, label) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, event_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!((_a = this.Ad) === null || _a === void 0 ? void 0 : _a.token)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, (0,await_to_js__WEBPACK_IMPORTED_MODULE_0__.to)((0,_helpers__WEBPACK_IMPORTED_MODULE_1__.sendEventWithToken)(eventName, this.Ad.token, label))];\n                    case 1:\n                        _b = _c.sent(), event_1 = _b[1];\n                        new _helpers__WEBPACK_IMPORTED_MODULE_1__.Logger().info(event_1 ? 'Event Success' : 'Event Failure', eventName);\n                        _c.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeComponent.prototype.onViewable = function () {\n        if (this.isVisible)\n            return;\n        this.isVisible = true;\n        new _helpers__WEBPACK_IMPORTED_MODULE_1__.Logger().info('Is Viewable');\n        this.sendEvent(_constants__WEBPACK_IMPORTED_MODULE_3__.AdEvent.VISIBLE);\n        (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.sendMessageToCreative)(this.creativeView, _constants__WEBPACK_IMPORTED_MODULE_3__.CreativeEvent.VISIBLE);\n        if (!_utility__WEBPACK_IMPORTED_MODULE_2__.isMobile()) {\n            this.hideCreative(6000);\n        }\n    };\n    CreativeComponent.prototype.onImageEnter = function () {\n        this.showCreative();\n    };\n    CreativeComponent.prototype.onImageLeave = function () {\n        this.hideCreative(3000);\n    };\n    //endregion Handlers\n    //region UI\n    CreativeComponent.prototype.markup = function () {\n        return \"<iframe class=\\\"\".concat(_constants__WEBPACK_IMPORTED_MODULE_3__.BLIINK_ADUNIT_IFRAME_CLASS, \" hide\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_3__.IFRAME_INLINE_STYLE, \"\\\" sandbox=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_3__.IFRAME_SANDBOX, \"\\\"></iframe>\");\n    };\n    CreativeComponent.prototype.render = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var creative, doc, div, baseElement, head, style, err;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (this.isRendered)\n                            return [2 /*return*/];\n                        this.isRendered = true;\n                        new _helpers__WEBPACK_IMPORTED_MODULE_1__.Logger().info('CreativeComponent Render');\n                        this.container.innerHTML = this.markup();\n                        setTimeout(function () {\n                            document.querySelector(\".\".concat(_constants__WEBPACK_IMPORTED_MODULE_3__.BLIINK_ADUNIT_IFRAME_CLASS)).classList.remove('hide');\n                        }, 10);\n                        this.creativeView = this.container.querySelector(\".\".concat(_constants__WEBPACK_IMPORTED_MODULE_3__.BLIINK_ADUNIT_IFRAME_CLASS));\n                        if (!this.adm || !this.adm.includes('</ins>')) {\n                            this.creativeView.addEventListener('load', this.onCreativeLoadedHandler.bind(this));\n                        }\n                        creative = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getAdServerCreative)(this.Ad);\n                        if (!creative) {\n                            return [2 /*return*/];\n                        }\n                        // creative is not prefetch\n                        if (creative.mode !== _helpers__WEBPACK_IMPORTED_MODULE_1__.DeliveryMode.PREFETCH && creative.type === _helpers__WEBPACK_IMPORTED_MODULE_1__.CreativeType.URL && !this.adm) {\n                            this.creativeView.src = creative.url;\n                            return [2 /*return*/];\n                        }\n                        if (this.adm.includes('</ins>')) {\n                            this.insTagChecker = (0,_insTagChecker__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.creativeView);\n                        }\n                        doc = (_a = this.creativeView.contentWindow) === null || _a === void 0 ? void 0 : _a.document;\n                        if (!doc) {\n                            this.destroy();\n                            return [2 /*return*/];\n                        }\n                        doc.open();\n                        doc.write(this.adm);\n                        div = doc.querySelector('body');\n                        if (div) {\n                            div.style.margin = '0';\n                        }\n                        if (div && creative.type === _helpers__WEBPACK_IMPORTED_MODULE_1__.CreativeType.URL) {\n                            baseElement = this.creativeView.contentDocument.createElement('base');\n                            baseElement.setAttribute('href', creative.url);\n                            this.creativeView.contentDocument.getElementsByTagName('head')[0].appendChild(baseElement);\n                        }\n                        // creative is not prefetch\n                        if (creative.mode !== _helpers__WEBPACK_IMPORTED_MODULE_1__.DeliveryMode.PREFETCH) {\n                            head = doc.head || doc.getElementsByTagName('head')[0];\n                            style = doc.createElement('style');\n                            style.type = 'text/css';\n                            if (style.styleSheet) {\n                                style.styleSheet.cssText = (_style_css__WEBPACK_IMPORTED_MODULE_4___default());\n                            }\n                            else {\n                                style.appendChild(doc.createTextNode((_style_css__WEBPACK_IMPORTED_MODULE_4___default())));\n                            }\n                            head.appendChild(style);\n                        }\n                        doc.close();\n                        if (!this.insTagChecker) return [3 /*break*/, 2];\n                        return [4 /*yield*/, (0,await_to_js__WEBPACK_IMPORTED_MODULE_0__.to)(this.insTagChecker.promise)];\n                    case 1:\n                        err = (_b.sent())[0];\n                        if (!err) {\n                            this.onCreativeLoadedHandler();\n                        }\n                        _b.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeComponent.prototype.resize = function (size) { };\n    return CreativeComponent;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreativeComponent);\n\n\n//# sourceURL=webpack://cookies-sync/./src/Creative/index.ts?");
  
  /***/ }),
  
  /***/ "./src/Creative/utility.ts":
  /*!*********************************!*\
    !*** ./src/Creative/utility.ts ***!
    \*********************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getDeviceHeight\": () => (/* binding */ getDeviceHeight),\n/* harmony export */   \"getDeviceWidth\": () => (/* binding */ getDeviceWidth),\n/* harmony export */   \"getDomElementBackgroundImageUrl\": () => (/* binding */ getDomElementBackgroundImageUrl),\n/* harmony export */   \"getDomElementTransformProperty\": () => (/* binding */ getDomElementTransformProperty),\n/* harmony export */   \"getImageSrc\": () => (/* binding */ getImageSrc),\n/* harmony export */   \"getTopWindowReferrer\": () => (/* binding */ getTopWindowReferrer),\n/* harmony export */   \"isDocumentAnIframe\": () => (/* binding */ isDocumentAnIframe),\n/* harmony export */   \"isDomElementFullyInViewport\": () => (/* binding */ isDomElementFullyInViewport),\n/* harmony export */   \"isDomElementInViewport\": () => (/* binding */ isDomElementInViewport),\n/* harmony export */   \"isDomElementPartInViewport\": () => (/* binding */ isDomElementPartInViewport),\n/* harmony export */   \"isMobile\": () => (/* binding */ isMobile)\n/* harmony export */ });\n/* harmony import */ var _pageData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pageData */ \"./src/pageData.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n\n\n/**\n * @param img\n */\nfunction getDomElementBackgroundImageUrl(img) {\n    if (img) {\n        var style = img.currentStyle || window.getComputedStyle(img, false);\n        return style.backgroundImage.slice(4, -1).replace(/\"/g, '');\n    }\n    return null;\n}\n/**\n * @param image\n * @param withMeta\n */\nfunction getImageSrc(image, withMeta) {\n    if (withMeta === void 0) { withMeta = true; }\n    var src = (image === null || image === void 0 ? void 0 : image.getAttribute('data-src')) || (image === null || image === void 0 ? void 0 : image.src) || (image === null || image === void 0 ? void 0 : image.currentSrc) || getDomElementBackgroundImageUrl(image) || (image === null || image === void 0 ? void 0 : image.getAttribute('src')) || '';\n    if (src || !withMeta) {\n        return src;\n    }\n    return _pageData__WEBPACK_IMPORTED_MODULE_0__.getMetaValue(_constants__WEBPACK_IMPORTED_MODULE_1__.META_IMAGE) || '';\n}\n/**\n * @param el\n */\nfunction getDomElementTransformProperty(el) {\n    var imageStyle = window.getComputedStyle(el);\n    var imageTransformProperty = imageStyle.getPropertyValue('transform');\n    if (imageTransformProperty && imageTransformProperty !== 'none') {\n        return imageTransformProperty.replace(/[^0-9\\-.,]/g, '').split(',');\n    }\n    return null;\n}\nfunction isDocumentAnIframe() {\n    try {\n        return window.self !== window.top;\n    }\n    catch (e) {\n        return true;\n    }\n}\nfunction isMobile() {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\n            check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n}\n/**\n * @param el\n */\nfunction isDomElementFullyInViewport(el) {\n    var bounding = el.getBoundingClientRect();\n    var top = bounding.top, left = bounding.left, bottom = bounding.bottom, right = bounding.right;\n    return (top >= 0 &&\n        left >= 0 &&\n        bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n        right <= (window.innerWidth || document.documentElement.clientWidth));\n}\n/**\n * @param el\n */\nfunction isDomElementInViewport(el) {\n    var bounding = el.getBoundingClientRect();\n    var _a = bounding || {}, _b = _a.top, top = _b === void 0 ? null : _b, _c = _a.bottom, bottom = _c === void 0 ? null : _c;\n    return ((top >= 0 &&\n        top <= getDeviceHeight())\n        ||\n            (bottom >= 0 &&\n                bottom <= getDeviceHeight()));\n}\n/**\n * @param el\n * @param percentage\n */\nfunction isDomElementPartInViewport(el, percentage) {\n    if (percentage === void 0) { percentage = 50; }\n    var bounding = el.getBoundingClientRect();\n    var _a = bounding || {}, _b = _a.top, top = _b === void 0 ? null : _b, _c = _a.bottom, bottom = _c === void 0 ? null : _c, _d = _a.height, height = _d === void 0 ? null : _d;\n    var expectedHeight = height * ((100 - percentage) / 100);\n    return top >= -expectedHeight && bottom <= (getDeviceHeight() + expectedHeight);\n}\nfunction getTopWindowReferrer() {\n    try {\n        return window.top.document.referrer;\n    }\n    catch (e) {\n        return document.referrer;\n    }\n}\nfunction getDeviceWidth() {\n    return window.innerWidth || document.documentElement.clientWidth || screen.width || 0;\n}\nfunction getDeviceHeight() {\n    return window.innerHeight || document.documentElement.clientHeight || screen.height || 0;\n}\n\n\n//# sourceURL=webpack://cookies-sync/./src/Creative/utility.ts?");
  
  /***/ }),
  
  /***/ "./src/Native/index.ts":
  /*!*****************************!*\
    !*** ./src/Native/index.ts ***!
    \*****************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var await_to_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! await-to-js */ \"./node_modules/await-to-js/dist/await-to-js.es5.js\");\n/* harmony import */ var _Creative__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Creative */ \"./src/Creative/index.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers */ \"./src/helpers.ts\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./style.css */ \"./src/Native/style.css\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_css__WEBPACK_IMPORTED_MODULE_4__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n// @ts-ignore\n\nvar CreativeNativeComponent = /** @class */ (function (_super) {\n    __extends(CreativeNativeComponent, _super);\n    function CreativeNativeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CreativeNativeComponent.prototype, \"creative\", {\n        get: function () {\n            var _a, _b;\n            return (_b = (_a = this.Ad) === null || _a === void 0 ? void 0 : _a.ad) === null || _b === void 0 ? void 0 : _b.native;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeNativeComponent.prototype, \"impTrackers\", {\n        get: function () {\n            var _a, _b, _c, _d;\n            var pixels = ((_b = (_a = this.creative) === null || _a === void 0 ? void 0 : _a.thirdPartyCountPixel) === null || _b === void 0 ? void 0 : _b.map(function (impUrl) {\n                return \"<img src=\\\"\".concat(impUrl, \"\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.PIXEL_INLINE_STYLE, \"\\\" />\");\n            })) || [];\n            if ((_c = this.creative) === null || _c === void 0 ? void 0 : _c.impUrls) {\n                pixels.push(\"<img src=\\\"\".concat((_d = this.creative) === null || _d === void 0 ? void 0 : _d.impUrls, \"\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.PIXEL_INLINE_STYLE, \"\\\" />\"));\n            }\n            return (pixels === null || pixels === void 0 ? void 0 : pixels.join('')) || '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeNativeComponent.prototype, \"jsTrackers\", {\n        get: function () {\n            var _a, _b;\n            return ((_b = (_a = this.creative) === null || _a === void 0 ? void 0 : _a.jsTrackers) === null || _b === void 0 ? void 0 : _b.map(function (jsTracker) {\n                return \"<script src=\\\"\".concat(jsTracker, \"\\\"></script>\");\n            }).join('')) || '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CreativeNativeComponent.prototype, \"adChoices\", {\n        get: function () {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            var ssp = 'disabled';\n            var recommendedBy = ((_a = this.Ad) === null || _a === void 0 ? void 0 : _a.ssp) === ssp ? 'Recommended by' : '';\n            var outbrain = ((_b = this.Ad) === null || _b === void 0 ? void 0 : _b.ssp) === ssp ? '<img src=\"https://widgets.outbrain.com/images/widgetIcons/OB-Logo-2019-Web-Orange.png\" />' : '';\n            if ((_e = (_d = (_c = this.Ad) === null || _c === void 0 ? void 0 : _c.ad) === null || _d === void 0 ? void 0 : _d.ad_choices) === null || _e === void 0 ? void 0 : _e.image_url) {\n                return \"<a href=\\\"\".concat((_h = (_g = (_f = this.Ad) === null || _f === void 0 ? void 0 : _f.ad) === null || _g === void 0 ? void 0 : _g.ad_choices) === null || _h === void 0 ? void 0 : _h.click_url, \"\\\" target=\\\"_blank\\\" class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__adchoices\\\">\\n                  \").concat(recommendedBy, \" <img src=\\\"\").concat((_l = (_k = (_j = this.Ad) === null || _j === void 0 ? void 0 : _j.ad) === null || _k === void 0 ? void 0 : _k.ad_choices) === null || _l === void 0 ? void 0 : _l.image_url, \"\\\" /> \").concat(outbrain, \"\\n              </a>\");\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CreativeNativeComponent.prototype.eventTrackers = function (eventType) {\n        var _a, _b;\n        var trackers = (_b = (_a = this.creative) === null || _a === void 0 ? void 0 : _a.eventTrackers) === null || _b === void 0 ? void 0 : _b.filter(function (eventTracker) { return eventTracker.event === eventType; }).map(function (eventTracker) {\n            if (eventTracker.method === _helpers__WEBPACK_IMPORTED_MODULE_3__.NativeEventTrackingMethod.JS) {\n                return \"<script src=\\\"\".concat(eventTracker.url, \"\\\"></script>\");\n            }\n            return \"<img src=\\\"\".concat(eventTracker.url, \"\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.PIXEL_INLINE_STYLE, \"\\\" />\");\n        });\n        return (trackers === null || trackers === void 0 ? void 0 : trackers.join('')) || '';\n    };\n    CreativeNativeComponent.prototype.trackViewability = function (eventType, params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (eventType === _helpers__WEBPACK_IMPORTED_MODULE_3__.NativeEventType.VIEWABLE_MRC50) {\n                            this.onViewable();\n                        }\n                        this.viewabilityChecker = (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.viewabilityChecker)(this.creativeView, params);\n                        return [4 /*yield*/, (0,await_to_js__WEBPACK_IMPORTED_MODULE_0__.to)(this.viewabilityChecker.promise)];\n                    case 1:\n                        err = (_a.sent())[0];\n                        if (!err) {\n                            this.container.insertAdjacentHTML('beforeend', this.eventTrackers(eventType));\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CreativeNativeComponent.prototype.trackClick = function () {\n        var _this = this;\n        var _a;\n        (_a = this.creative.clicksTracker) === null || _a === void 0 ? void 0 : _a.forEach(function (clickTracker) {\n            _this.container.insertAdjacentHTML('beforeend', \"<img src=\\\"\".concat(clickTracker, \"\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.PIXEL_INLINE_STYLE, \"\\\" />\"));\n        });\n    };\n    Object.defineProperty(CreativeNativeComponent.prototype, \"adm\", {\n        get: function () {\n            var _a, _b, _c;\n            var sponsored = this.creative.sponsored ? this.creative.sponsored : 'Sponsored';\n            var clickUrl = this.creative.creativeClickUrl;\n            if (((_a = this.Ad) === null || _a === void 0 ? void 0 : _a.ssp) !== _helpers__WEBPACK_IMPORTED_MODULE_3__.Exchange.OUTBRAIN) {\n                clickUrl = \"https:\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__.EVENT_API_URL, \"/c?token=\").concat((_b = this.Ad) === null || _b === void 0 ? void 0 : _b.token, \"&redirect=\").concat(clickUrl);\n            }\n            var text = (this.creative.data && this.creative.data !== 'undefined') ? this.creative.data : '';\n            return \"<div class=\\\"\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"\\\">\\n                <a href=\\\"\").concat(clickUrl, \"\\\" target=\\\"_blank\\\" class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__link\\\">\\n                  <div class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__thumb\\\">\\n                    <img src=\\\"\").concat(this.creative.creativeUrl, \"\\\" alt=\\\"\").concat(this.creative.title, \"\\\" />\\n                  </div>\\n                  <div class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__content\\\">\\n                    <div class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__title\\\">\").concat(this.creative.title, \"</div>\\n                    <div class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__text\\\">\").concat(text, \"</div>\\n                  </div>\\n                  <div class=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__sponsored\\\">\").concat(sponsored, \"</div>\\n                </a>\\n                \").concat(this.adChoices, \"\\n                <img src=\\\"https:\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.EVENT_API_URL, \"/e?token=\").concat((_c = this.Ad) === null || _c === void 0 ? void 0 : _c.token, \"&name=impression\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.PIXEL_INLINE_STYLE, \"\\\" />\\n                \").concat(this.impTrackers, \"\\n                \").concat(this.eventTrackers(_helpers__WEBPACK_IMPORTED_MODULE_3__.NativeEventType.IMPRESSION), \"\\n                \").concat(this.jsTrackers, \"\\n            </div>\");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CreativeNativeComponent.prototype.markup = function () {\n        return \"<iframe class=\\\"\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_ADUNIT_IFRAME_CLASS, \"\\\" style=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.IFRAME_INLINE_STYLE, \"\\\" sandbox=\\\"\").concat(_constants__WEBPACK_IMPORTED_MODULE_2__.IFRAME_SANDBOX, \"\\\"></iframe>\");\n    };\n    CreativeNativeComponent.prototype.render = function () {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var doc, head, style;\n            return __generator(this, function (_c) {\n                console.log('rendering***');\n                if (this.isRendered)\n                    return [2 /*return*/];\n                this.isRendered = true;\n                new _helpers__WEBPACK_IMPORTED_MODULE_3__.Logger().info('CreativeNativeComponent Render', this.container);\n                this.container.innerHTML = this.markup();\n                this.creativeView = this.container.querySelector(\".\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_ADUNIT_IFRAME_CLASS));\n                doc = (_a = this.creativeView.contentWindow) === null || _a === void 0 ? void 0 : _a.document;\n                doc.open();\n                doc.write(this.adm);\n                head = doc.head || doc.getElementsByTagName('head')[0];\n                style = doc.createElement('style');\n                style.type = 'text/css';\n                if (style.styleSheet) {\n                    style.styleSheet.cssText = (_style_css__WEBPACK_IMPORTED_MODULE_4___default());\n                }\n                else {\n                    style.appendChild(doc.createTextNode((_style_css__WEBPACK_IMPORTED_MODULE_4___default())));\n                }\n                head.appendChild(style);\n                (_b = doc.querySelector(\".\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__.BLIINK_NATIVE_CLASS, \"__link\"))) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.trackClick.bind(this));\n                doc.close();\n                this.trackViewability(_helpers__WEBPACK_IMPORTED_MODULE_3__.NativeEventType.VIEWABLE_MRC50, { inViewDuration: 1, percentInViewport: 50 });\n                this.trackViewability(_helpers__WEBPACK_IMPORTED_MODULE_3__.NativeEventType.VIEWABLE_MRC100, { inViewDuration: 1, percentInViewport: 100 });\n                return [2 /*return*/];\n            });\n        });\n    };\n    return CreativeNativeComponent;\n}(_Creative__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreativeNativeComponent);\n\n\n//# sourceURL=webpack://cookies-sync/./src/Native/index.ts?");
  
  /***/ }),
  
  /***/ "./src/constants.ts":
  /*!**************************!*\
    !*** ./src/constants.ts ***!
    \**************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AdEvent\": () => (/* binding */ AdEvent),\n/* harmony export */   \"AdMode\": () => (/* binding */ AdMode),\n/* harmony export */   \"BLIINK_ADUNIT_CLASS\": () => (/* binding */ BLIINK_ADUNIT_CLASS),\n/* harmony export */   \"BLIINK_ADUNIT_IFRAME_CLASS\": () => (/* binding */ BLIINK_ADUNIT_IFRAME_CLASS),\n/* harmony export */   \"BLIINK_ADUNIT_OVERLAY_CLASS\": () => (/* binding */ BLIINK_ADUNIT_OVERLAY_CLASS),\n/* harmony export */   \"BLIINK_ADUNIT_WRAPPER_CLASS\": () => (/* binding */ BLIINK_ADUNIT_WRAPPER_CLASS),\n/* harmony export */   \"BLIINK_ADVIEW_CLASS\": () => (/* binding */ BLIINK_ADVIEW_CLASS),\n/* harmony export */   \"BLIINK_CLASS_PREFIX\": () => (/* binding */ BLIINK_CLASS_PREFIX),\n/* harmony export */   \"BLIINK_NATIVE_CLASS\": () => (/* binding */ BLIINK_NATIVE_CLASS),\n/* harmony export */   \"BLIINK_PLAYER_CLASS\": () => (/* binding */ BLIINK_PLAYER_CLASS),\n/* harmony export */   \"CreativeCategory\": () => (/* binding */ CreativeCategory),\n/* harmony export */   \"CreativeEvent\": () => (/* binding */ CreativeEvent),\n/* harmony export */   \"DisplayType\": () => (/* binding */ DisplayType),\n/* harmony export */   \"EVENT_API_URL\": () => (/* binding */ EVENT_API_URL),\n/* harmony export */   \"Exchange\": () => (/* binding */ Exchange),\n/* harmony export */   \"FORMATS\": () => (/* binding */ FORMATS),\n/* harmony export */   \"IFRAME_INLINE_STYLE\": () => (/* binding */ IFRAME_INLINE_STYLE),\n/* harmony export */   \"IFRAME_SANDBOX\": () => (/* binding */ IFRAME_SANDBOX),\n/* harmony export */   \"IMAGES_LOCATOR_QUERY\": () => (/* binding */ IMAGES_LOCATOR_QUERY),\n/* harmony export */   \"IMAGES_LOCATOR_QUERY_WRAPPER\": () => (/* binding */ IMAGES_LOCATOR_QUERY_WRAPPER),\n/* harmony export */   \"META_DESCRIPTION\": () => (/* binding */ META_DESCRIPTION),\n/* harmony export */   \"META_IMAGE\": () => (/* binding */ META_IMAGE),\n/* harmony export */   \"META_KEYWORDS\": () => (/* binding */ META_KEYWORDS),\n/* harmony export */   \"META_TAG\": () => (/* binding */ META_TAG),\n/* harmony export */   \"MediaFileType\": () => (/* binding */ MediaFileType),\n/* harmony export */   \"MediaType\": () => (/* binding */ MediaType),\n/* harmony export */   \"MediaTypeId\": () => (/* binding */ MediaTypeId),\n/* harmony export */   \"PIXEL_INLINE_STYLE\": () => (/* binding */ PIXEL_INLINE_STYLE),\n/* harmony export */   \"Platform\": () => (/* binding */ Platform),\n/* harmony export */   \"ResizeSource\": () => (/* binding */ ResizeSource),\n/* harmony export */   \"SlideShowType\": () => (/* binding */ SlideShowType),\n/* harmony export */   \"TagStickyPosition\": () => (/* binding */ TagStickyPosition)\n/* harmony export */ });\nvar IFRAME_INLINE_STYLE = 'height: 100% !important; width: 100% !important; z-index: 1; overflow: hidden; min-height: inherit !important; min-width: inherit !important; max-height: inherit !important; max-width: inherit !important; display: block !important;border: 0 !important;';\nvar IFRAME_SANDBOX = 'allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation';\nvar BLIINK_CLASS_PREFIX = 'bliink';\nvar BLIINK_ADUNIT_CLASS = \"\".concat(BLIINK_CLASS_PREFIX, \"-adunit\");\nvar BLIINK_NATIVE_CLASS = \"\".concat(BLIINK_CLASS_PREFIX, \"-native\");\nvar BLIINK_ADUNIT_WRAPPER_CLASS = \"\".concat(BLIINK_ADUNIT_CLASS, \"__wrapper\");\nvar BLIINK_ADUNIT_IFRAME_CLASS = \"\".concat(BLIINK_ADUNIT_CLASS, \"__iframe\");\nvar BLIINK_ADUNIT_OVERLAY_CLASS = \"\".concat(BLIINK_ADUNIT_CLASS, \"__overlay\");\nvar BLIINK_ADVIEW_CLASS = \"\".concat(BLIINK_CLASS_PREFIX, \"-adview\");\nvar BLIINK_PLAYER_CLASS = \"\".concat(BLIINK_CLASS_PREFIX, \"-player\");\nvar PIXEL_INLINE_STYLE = 'width: 1px; height: 1px; border: 0; opacity: 0;';\nvar IMAGES_LOCATOR_QUERY = 'img, div[style*=\"background-image\"], div[style*=\"background: url\"]';\nvar IMAGES_LOCATOR_QUERY_WRAPPER = ':wrapper img, :wrapper picture span, :wrapper div[style*=\"background-image\"], :wrapper div[style*=\"background: url\"]';\nvar META_DESCRIPTION = 'description';\nvar META_KEYWORDS = 'keywords';\nvar META_TAG = 'tag';\nvar META_IMAGE = 'image';\nvar EVENT_API_URL = 'https://e.api.bliink.io';\nvar CreativeCategory;\n(function (CreativeCategory) {\n    CreativeCategory[CreativeCategory[\"IN_IMAGE\"] = 1] = \"IN_IMAGE\";\n    CreativeCategory[CreativeCategory[\"IN_IMAGE_FRAME\"] = 2] = \"IN_IMAGE_FRAME\";\n    CreativeCategory[CreativeCategory[\"IN_IMAGE_VIDEO\"] = 3] = \"IN_IMAGE_VIDEO\";\n    CreativeCategory[CreativeCategory[\"IN_IMAGE_HOT_SPOT\"] = 4] = \"IN_IMAGE_HOT_SPOT\";\n    CreativeCategory[CreativeCategory[\"FOOTER\"] = 5] = \"FOOTER\";\n    CreativeCategory[CreativeCategory[\"IN_FEED\"] = 6] = \"IN_FEED\";\n    CreativeCategory[CreativeCategory[\"VAST\"] = 7] = \"VAST\";\n})(CreativeCategory || (CreativeCategory = {}));\nvar MediaType;\n(function (MediaType) {\n    MediaType[\"VIDEO\"] = \"video\";\n    MediaType[\"BANNER\"] = \"banner\";\n    MediaType[\"NATIVE\"] = \"native\";\n    MediaType[\"VPAID\"] = \"vpaid\";\n})(MediaType || (MediaType = {}));\nvar MediaFileType;\n(function (MediaFileType) {\n    MediaFileType[\"VPAID\"] = \"application/javascript\";\n    MediaFileType[\"VIDEO\"] = \"video/mp4\";\n})(MediaFileType || (MediaFileType = {}));\nvar ResizeSource;\n(function (ResizeSource) {\n    ResizeSource[\"Image\"] = \"image\";\n    ResizeSource[\"Wrapper\"] = \"wrapper\";\n})(ResizeSource || (ResizeSource = {}));\nvar CreativeEvent;\n(function (CreativeEvent) {\n    CreativeEvent[\"CLICK\"] = \"bliink-click\";\n    CreativeEvent[\"VISIBLE\"] = \"bliink-visible\";\n    CreativeEvent[\"SHOW\"] = \"bliink-show\";\n    CreativeEvent[\"HIDE\"] = \"bliink-hide\";\n    CreativeEvent[\"HIDE_CLOSE\"] = \"bliink-hide-close\";\n    CreativeEvent[\"DESTROY\"] = \"bliink-destroy\";\n    CreativeEvent[\"PLAY_VIDEO\"] = \"bliink-play-video\";\n    CreativeEvent[\"VIDEO_STARTED\"] = \"bliink-video-started\";\n    CreativeEvent[\"VIDEO_FIRST_QUARTILE\"] = \"bliink-video-first-quartile\";\n    CreativeEvent[\"VIDEO_MIDPOINT\"] = \"bliink-video-midpoint\";\n    CreativeEvent[\"VIDEO_THIRD_QUARTILE\"] = \"bliink-video-third-quartile\";\n    CreativeEvent[\"VIDEO_COMPLETE\"] = \"bliink-video-complete\";\n    CreativeEvent[\"EVENT\"] = \"bliink-event\";\n    CreativeEvent[\"EXPAND\"] = \"bliink-expand\";\n    CreativeEvent[\"REDUCE\"] = \"bliink-reduce\";\n    CreativeEvent[\"STICKY\"] = \"bliink-sticky\";\n    CreativeEvent[\"ENABLE_SWITCH\"] = \"bliink-enable-switch\";\n    CreativeEvent[\"SWITCH\"] = \"bliink-switch\";\n})(CreativeEvent || (CreativeEvent = {}));\nvar AdEvent;\n(function (AdEvent) {\n    AdEvent[\"AD_ERROR\"] = \"adError\";\n    AdEvent[\"ERROR\"] = \"error\";\n    AdEvent[\"CALL\"] = \"call\";\n    AdEvent[\"IMPRESSION\"] = \"impression\";\n    AdEvent[\"CLICK\"] = \"click\";\n    AdEvent[\"VISIBLE\"] = \"visible\";\n    AdEvent[\"CLOSE\"] = \"close\";\n    AdEvent[\"CREATIVE_VIEW\"] = \"creativeView\";\n    AdEvent[\"STARTED\"] = \"start\";\n    AdEvent[\"FIRST_QUARTILE\"] = \"firstquartile\";\n    AdEvent[\"MIDPOINT\"] = \"midpoint\";\n    AdEvent[\"THIRD_QUARTILE\"] = \"thirdquartile\";\n    AdEvent[\"COMPLETE\"] = \"complete\";\n    AdEvent[\"RESUMED\"] = \"resume\";\n    AdEvent[\"ADBLOCK\"] = \"adblock\";\n    AdEvent[\"BID_REQUEST\"] = \"bid-request\";\n    AdEvent[\"BID_RESPONSE\"] = \"bid-response\";\n    AdEvent[\"CREATIVE_ERROR\"] = \"creative-error\";\n    AdEvent[\"CUSTOM\"] = \"custom\";\n})(AdEvent || (AdEvent = {}));\nvar FORMATS = [\n    {\n        id: CreativeCategory.IN_IMAGE,\n        name: 'in-image',\n    },\n    {\n        id: CreativeCategory.IN_IMAGE_FRAME,\n        name: 'in-image-frame',\n    },\n    {\n        id: CreativeCategory.IN_IMAGE_VIDEO,\n        name: 'in-image-video',\n    },\n    {\n        id: CreativeCategory.IN_IMAGE_HOT_SPOT,\n        name: 'in-image-hotspot',\n    },\n    {\n        id: CreativeCategory.FOOTER,\n        name: 'footer',\n    },\n    {\n        id: CreativeCategory.IN_FEED,\n        name: 'in-feed',\n    },\n];\nvar Exchange;\n(function (Exchange) {\n    Exchange[\"APPNEXUS\"] = \"appnexus\";\n    Exchange[\"FREEWHEEL\"] = \"freewheel-ssp\";\n    Exchange[\"RICHAUDIENCE\"] = \"richaudience\";\n    Exchange[\"SMILEWANTED\"] = \"smilewanted\";\n    Exchange[\"OUTBRAIN\"] = \"outbrain\";\n    Exchange[\"ADAGIO\"] = \"adagio\";\n})(Exchange || (Exchange = {}));\nvar MediaTypeId;\n(function (MediaTypeId) {\n    MediaTypeId[MediaTypeId[\"BANNER\"] = 1] = \"BANNER\";\n    MediaTypeId[MediaTypeId[\"VIDEO\"] = 2] = \"VIDEO\";\n    MediaTypeId[MediaTypeId[\"NATIVE\"] = 3] = \"NATIVE\";\n})(MediaTypeId || (MediaTypeId = {}));\nvar Platform;\n(function (Platform) {\n    Platform[Platform[\"DESKTOP\"] = 1] = \"DESKTOP\";\n    Platform[Platform[\"MOBILE\"] = 2] = \"MOBILE\";\n    Platform[Platform[\"IOS\"] = 3] = \"IOS\";\n    Platform[Platform[\"ANDROID\"] = 4] = \"ANDROID\";\n})(Platform || (Platform = {}));\nvar SlideShowType;\n(function (SlideShowType) {\n    SlideShowType[\"DEFAULT\"] = \"default\";\n    SlideShowType[\"INLINE\"] = \"inline\";\n})(SlideShowType || (SlideShowType = {}));\nvar TagStickyPosition;\n(function (TagStickyPosition) {\n    TagStickyPosition[\"TopLeft\"] = \"top_left\";\n    TagStickyPosition[\"TopRight\"] = \"top_right\";\n    TagStickyPosition[\"BottomLeft\"] = \"bottom_left\";\n    TagStickyPosition[\"BottomRight\"] = \"bottom_right\";\n})(TagStickyPosition || (TagStickyPosition = {}));\nvar DisplayType;\n(function (DisplayType) {\n    DisplayType[\"ARTICLE\"] = \"article\";\n    DisplayType[\"SLIDE_SHOW\"] = \"slide_show\";\n    DisplayType[\"STICKY\"] = \"sticky\";\n})(DisplayType || (DisplayType = {}));\nvar AdMode;\n(function (AdMode) {\n    AdMode[\"TEST\"] = \"test\";\n    AdMode[\"AD_SERVER\"] = \"normal\";\n    AdMode[\"AD_SERVER_NEW\"] = \"ad\";\n    AdMode[\"RTB\"] = \"rtb\";\n    AdMode[\"NO_AD\"] = \"no-ad\";\n})(AdMode || (AdMode = {}));\n\n\n//# sourceURL=webpack://cookies-sync/./src/constants.ts?");
  
  /***/ }),
  
  /***/ "./src/helpers.ts":
  /*!************************!*\
    !*** ./src/helpers.ts ***!
    \************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AdDebugAd\": () => (/* binding */ AdDebugAd),\n/* harmony export */   \"AdMode\": () => (/* binding */ AdMode),\n/* harmony export */   \"CreativeCategory\": () => (/* binding */ CreativeCategory),\n/* harmony export */   \"CreativeEvent\": () => (/* binding */ CreativeEvent),\n/* harmony export */   \"CreativeType\": () => (/* binding */ CreativeType),\n/* harmony export */   \"DeliveryMode\": () => (/* binding */ DeliveryMode),\n/* harmony export */   \"Exchange\": () => (/* binding */ Exchange),\n/* harmony export */   \"LOG_PREFIX\": () => (/* binding */ LOG_PREFIX),\n/* harmony export */   \"Logger\": () => (/* binding */ Logger),\n/* harmony export */   \"MediaType\": () => (/* binding */ MediaType),\n/* harmony export */   \"MessageType\": () => (/* binding */ MessageType),\n/* harmony export */   \"NativeEventTrackingMethod\": () => (/* binding */ NativeEventTrackingMethod),\n/* harmony export */   \"NativeEventType\": () => (/* binding */ NativeEventType),\n/* harmony export */   \"adDecodeData\": () => (/* binding */ adDecodeData),\n/* harmony export */   \"asyncChecker\": () => (/* binding */ asyncChecker),\n/* harmony export */   \"creativeViewabilityChecker\": () => (/* binding */ creativeViewabilityChecker),\n/* harmony export */   \"getAdServerCreative\": () => (/* binding */ getAdServerCreative),\n/* harmony export */   \"getMessageFrameOrigin\": () => (/* binding */ getMessageFrameOrigin),\n/* harmony export */   \"getNativeAd\": () => (/* binding */ getNativeAd),\n/* harmony export */   \"isAdServer\": () => (/* binding */ isAdServer),\n/* harmony export */   \"isTest\": () => (/* binding */ isTest),\n/* harmony export */   \"lazyLoad\": () => (/* binding */ lazyLoad),\n/* harmony export */   \"sendEventWithToken\": () => (/* binding */ sendEventWithToken),\n/* harmony export */   \"sendMessageToCreative\": () => (/* binding */ sendMessageToCreative),\n/* harmony export */   \"setAdMacros\": () => (/* binding */ setAdMacros),\n/* harmony export */   \"viewabilityChecker\": () => (/* binding */ viewabilityChecker),\n/* harmony export */   \"viewabilityParameters\": () => (/* binding */ viewabilityParameters)\n/* harmony export */ });\n/* harmony import */ var await_to_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! await-to-js */ \"./node_modules/await-to-js/dist/await-to-js.es5.js\");\n/* harmony import */ var _Creative_utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Creative/utility */ \"./src/Creative/utility.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\nvar CreativeCategory;\n(function (CreativeCategory) {\n    CreativeCategory[CreativeCategory[\"IN_IMAGE\"] = 1] = \"IN_IMAGE\";\n    CreativeCategory[CreativeCategory[\"IN_IMAGE_FRAME\"] = 2] = \"IN_IMAGE_FRAME\";\n    CreativeCategory[CreativeCategory[\"IN_IMAGE_VIDEO\"] = 3] = \"IN_IMAGE_VIDEO\";\n    CreativeCategory[CreativeCategory[\"IN_IMAGE_HOT_SPOT\"] = 4] = \"IN_IMAGE_HOT_SPOT\";\n    CreativeCategory[CreativeCategory[\"FOOTER\"] = 5] = \"FOOTER\";\n    CreativeCategory[CreativeCategory[\"IN_FEED\"] = 6] = \"IN_FEED\";\n    CreativeCategory[CreativeCategory[\"VAST\"] = 7] = \"VAST\";\n})(CreativeCategory || (CreativeCategory = {}));\nvar MediaType;\n(function (MediaType) {\n    MediaType[\"VIDEO\"] = \"video\";\n    MediaType[\"BANNER\"] = \"banner\";\n    MediaType[\"NATIVE\"] = \"native\";\n    MediaType[\"VPAID\"] = \"vpaid\";\n})(MediaType || (MediaType = {}));\nvar AdMode;\n(function (AdMode) {\n    AdMode[\"TEST\"] = \"test\";\n    AdMode[\"AD_SERVER\"] = \"normal\";\n    AdMode[\"AD_SERVER_NEW\"] = \"ad\";\n    AdMode[\"RTB\"] = \"rtb\";\n    AdMode[\"NO_AD\"] = \"no-ad\";\n})(AdMode || (AdMode = {}));\nvar AdDebugAd;\n(function (AdDebugAd) {\n    AdDebugAd[\"IN_FEED\"] = \"in-feed\";\n    AdDebugAd[\"RTB_NATIVE\"] = \"native\";\n    AdDebugAd[\"RTB_BANNER\"] = \"banner\";\n    AdDebugAd[\"NORMAL_AD\"] = \"normal\";\n    AdDebugAd[\"RTB_VIDEO\"] = \"video\";\n    AdDebugAd[\"RTB_VIDEO_2\"] = \"video2\";\n    AdDebugAd[\"NORMAL_CREATIVE\"] = \"creative\";\n    AdDebugAd[\"NORMAL_VAST\"] = \"vast\";\n})(AdDebugAd || (AdDebugAd = {}));\nvar CreativeType;\n(function (CreativeType) {\n    CreativeType[CreativeType[\"URL\"] = 1] = \"URL\";\n    CreativeType[CreativeType[\"CODE\"] = 2] = \"CODE\";\n})(CreativeType || (CreativeType = {}));\nvar DeliveryMode;\n(function (DeliveryMode) {\n    DeliveryMode[DeliveryMode[\"NOT_PREFETCH\"] = 0] = \"NOT_PREFETCH\";\n    DeliveryMode[DeliveryMode[\"PREFETCH\"] = 1] = \"PREFETCH\";\n})(DeliveryMode || (DeliveryMode = {}));\nvar NativeEventType;\n(function (NativeEventType) {\n    NativeEventType[NativeEventType[\"IMPRESSION\"] = 1] = \"IMPRESSION\";\n    NativeEventType[NativeEventType[\"VIEWABLE_MRC50\"] = 2] = \"VIEWABLE_MRC50\";\n    NativeEventType[NativeEventType[\"VIEWABLE_MRC100\"] = 3] = \"VIEWABLE_MRC100\";\n    NativeEventType[NativeEventType[\"VIEWABLE_VIDEO50\"] = 4] = \"VIEWABLE_VIDEO50\";\n})(NativeEventType || (NativeEventType = {}));\nvar NativeEventTrackingMethod;\n(function (NativeEventTrackingMethod) {\n    NativeEventTrackingMethod[NativeEventTrackingMethod[\"IMG\"] = 1] = \"IMG\";\n    NativeEventTrackingMethod[NativeEventTrackingMethod[\"JS\"] = 2] = \"JS\";\n})(NativeEventTrackingMethod || (NativeEventTrackingMethod = {}));\nvar LOG_PREFIX = 'BLIINK';\nvar MessageType;\n(function (MessageType) {\n    MessageType[\"DEBUG\"] = \"debug\";\n    MessageType[\"INFO\"] = \"info\";\n    MessageType[\"WARN\"] = \"warn\";\n    MessageType[\"ERROR\"] = \"error\";\n})(MessageType || (MessageType = {}));\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    Logger.prototype.debug = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.DEBUG, message, supportingData);\n    };\n    Logger.prototype.info = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.INFO, message, supportingData);\n    };\n    Logger.prototype.warn = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.WARN, message, supportingData);\n    };\n    Logger.prototype.error = function (message) {\n        var supportingData = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            supportingData[_i - 1] = arguments[_i];\n        }\n        Logger.emitLogMessage(MessageType.ERROR, message, supportingData);\n    };\n    Logger.showLogs = function () {\n        var _a;\n        var debug = (_a = new URLSearchParams(window.location.search)) === null || _a === void 0 ? void 0 : _a.get('bliink_debug');\n        return !!(debug || ['test-logger', 'development'].includes(\"development\"));\n    };\n    Logger.emitLogMessage = function (messageType, message, supportingData) {\n        if (!Logger.showLogs()) {\n            return;\n        }\n        if (supportingData.length > 0) {\n            console[messageType](LOG_PREFIX, \"[\".concat(messageType, \"]\"), message, supportingData);\n            return;\n        }\n        console[messageType](LOG_PREFIX, \"[\".concat(messageType, \"]\"), message);\n    };\n    return Logger;\n}());\n\nvar CreativeEvent;\n(function (CreativeEvent) {\n    CreativeEvent[\"CLICK\"] = \"bliink-click\";\n    CreativeEvent[\"VISIBLE\"] = \"bliink-visible\";\n    CreativeEvent[\"SHOW\"] = \"bliink-show\";\n    CreativeEvent[\"HIDE\"] = \"bliink-hide\";\n    CreativeEvent[\"HIDE_CLOSE\"] = \"bliink-hide-close\";\n    CreativeEvent[\"DESTROY\"] = \"bliink-destroy\";\n    CreativeEvent[\"PLAY_VIDEO\"] = \"bliink-play-video\";\n    CreativeEvent[\"VIDEO_STARTED\"] = \"bliink-video-started\";\n    CreativeEvent[\"VIDEO_FIRST_QUARTILE\"] = \"bliink-video-first-quartile\";\n    CreativeEvent[\"VIDEO_MIDPOINT\"] = \"bliink-video-midpoint\";\n    CreativeEvent[\"VIDEO_THIRD_QUARTILE\"] = \"bliink-video-third-quartile\";\n    CreativeEvent[\"VIDEO_COMPLETE\"] = \"bliink-video-complete\";\n    CreativeEvent[\"EVENT\"] = \"bliink-event\";\n    CreativeEvent[\"EXPAND\"] = \"bliink-expand\";\n    CreativeEvent[\"REDUCE\"] = \"bliink-reduce\";\n    CreativeEvent[\"STICKY\"] = \"bliink-sticky\";\n    CreativeEvent[\"ENABLE_SWITCH\"] = \"bliink-enable-switch\";\n    CreativeEvent[\"SWITCH\"] = \"bliink-switch\";\n})(CreativeEvent || (CreativeEvent = {}));\n/**\n * @param el\n * @param message\n */\nfunction sendMessageToCreative(el, message) {\n    if (el && el.contentWindow && message) {\n        el.contentWindow.postMessage(message, '*');\n        return true;\n    }\n    return false;\n}\nfunction isTest(ad) {\n    return (ad === null || ad === void 0 ? void 0 : ad.creative) && (ad === null || ad === void 0 ? void 0 : ad.mode) === AdMode.TEST;\n}\nfunction isAdServer(ad) {\n    return (ad === null || ad === void 0 ? void 0 : ad.creative) && ((ad === null || ad === void 0 ? void 0 : ad.mode) === AdMode.AD_SERVER || (ad === null || ad === void 0 ? void 0 : ad.mode) === AdMode.AD_SERVER_NEW);\n}\nfunction setAdMacros(adm, options) {\n    var _a;\n    return (_a = adm === null || adm === void 0 ? void 0 : adm\n    // Sticky\n    .replace('\"${STICKY}\"', String(options.isSticky))) === null || _a === void 0 ? void 0 : _a.replace('${IMAGE_URL}', options.imageUrl);\n}\nfunction getAdServerCreative(ad) {\n    if (isAdServer(ad) || isTest(ad)) {\n        if (ad.creative.adm || ad.creative.url) {\n            return ad.creative;\n        }\n    }\n    return null;\n}\nfunction asyncChecker(checker) {\n    var resolve;\n    var reject;\n    var promise = new Promise(function (resolveFromPromise, rejectFromPromise) {\n        resolve = resolveFromPromise;\n        reject = rejectFromPromise;\n    });\n    var timerInterval = setInterval(function () {\n        checker(resolve, timerInterval);\n    }, 10);\n    return {\n        promise: promise,\n        cancel: function () {\n            clearInterval(timerInterval);\n            reject(new Error('InsTagChecker canceled'));\n        },\n    };\n}\nfunction viewabilityParameters(creative, creativeCategory) {\n    if ((creative === null || creative === void 0 ? void 0 : creative.viewability_duration) && (creative === null || creative === void 0 ? void 0 : creative.viewability_percent_in_view)) {\n        return {\n            inViewDuration: creative.viewability_duration,\n            percentInViewport: creative.viewability_percent_in_view,\n        };\n    }\n    if ([CreativeCategory.IN_IMAGE_VIDEO, CreativeCategory.VAST].includes(creativeCategory)) {\n        return {\n            inViewDuration: 2,\n            percentInViewport: 50,\n        };\n    }\n    return {\n        inViewDuration: 1,\n        percentInViewport: 30,\n    };\n}\n/**\n * @param el\n * @param params\n */\nfunction viewabilityChecker(el, params) {\n    if (!el || typeof el !== 'object' && typeof params.percentInViewport !== 'number' && typeof params.inViewDuration !== 'number') {\n        throw new Error('LazyLoading invalid parameters');\n    }\n    var viewabilityCounter = 0;\n    return asyncChecker(function (resolve, timerInterval) {\n        if (viewabilityCounter < (params.inViewDuration * 100)) {\n            if (_Creative_utility__WEBPACK_IMPORTED_MODULE_1__.isDomElementPartInViewport(el, params.percentInViewport)) {\n                viewabilityCounter += 1;\n                return;\n            }\n            // TODO test without counter reset\n            // viewabilityCounter = 0\n            return;\n        }\n        clearInterval(timerInterval);\n        resolve();\n    });\n}\n/**\n * @param el\n * @param creative\n * @param creativeCategory\n */\nfunction creativeViewabilityChecker(el, creative, creativeCategory) {\n    var params = viewabilityParameters(creative, creativeCategory);\n    return viewabilityChecker(el, params);\n}\nvar Exchange;\n(function (Exchange) {\n    Exchange[\"APPNEXUS\"] = \"appnexus\";\n    Exchange[\"FREEWHEEL\"] = \"freewheel-ssp\";\n    Exchange[\"RICHAUDIENCE\"] = \"richaudience\";\n    Exchange[\"SMILEWANTED\"] = \"smilewanted\";\n    Exchange[\"OUTBRAIN\"] = \"outbrain\";\n    Exchange[\"ADAGIO\"] = \"adagio\";\n})(Exchange || (Exchange = {}));\n/**\n * @param event\n */\nfunction getMessageFrameOrigin(event) {\n    var iframes = Array.from(document.getElementsByTagName('iframe'));\n    var iframe = iframes.find(function (f) { return f.contentWindow === event.source\n        || (event.source && f.contentWindow === event.source.parent); });\n    if (iframe) {\n        return iframe;\n    }\n    return iframes.find(function (frame) { return frame.src.indexOf(event.origin) === 0; });\n}\nfunction sendEventWithToken(eventName, EVENT_API_URL, token, label) {\n    return __awaiter(this, void 0, void 0, function () {\n        var urlWithParams, _a, err, response, _b, event_1;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!(eventName && token)) return [3 /*break*/, 4];\n                    urlWithParams = \"\".concat(EVENT_API_URL, \"/e?token=\").concat(token, \"&name=\").concat(eventName);\n                    if (label && typeof label === 'string') {\n                        urlWithParams = \"\".concat(urlWithParams, \"&label=\").concat(label);\n                    }\n                    return [4 /*yield*/, (0,await_to_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(fetch(urlWithParams))];\n                case 1:\n                    _a = _c.sent(), err = _a[0], response = _a[1];\n                    if (!(response && response.ok)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, (0,await_to_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(response.json())];\n                case 2:\n                    _b = _c.sent(), event_1 = _b[1];\n                    return [2 /*return*/, event_1];\n                case 3: throw err;\n                case 4: throw new Error('Missing params');\n            }\n        });\n    });\n}\nfunction lazyLoad(el) {\n    if (!el || typeof el !== 'object') {\n        throw new Error('LazyLoading invalid parameters');\n    }\n    var resolve;\n    var reject;\n    var promise = new Promise(function (resolveFromPromise, rejectFromPromise) {\n        resolve = resolveFromPromise;\n        reject = rejectFromPromise;\n    });\n    var timerInterval = setInterval(function () {\n        if (_Creative_utility__WEBPACK_IMPORTED_MODULE_1__.isDomElementInViewport(el)) {\n            new Logger().info('In Viewport');\n            clearInterval(timerInterval);\n            resolve();\n        }\n    }, 10);\n    return {\n        promise: promise,\n        cancel: function () {\n            clearInterval(timerInterval);\n            reject(new Error('Lazy Load canceled'));\n        },\n    };\n}\nvar adDecodeData = function (encodedText) {\n    return JSON.parse(atob(encodedText));\n};\nvar getNativeAd = function () {\n    try {\n        return adDecodeData(window.name);\n    }\n    catch (error) {\n        console.log(\"error2 res\", error);\n        return {};\n    }\n};\n\n\n//# sourceURL=webpack://cookies-sync/./src/helpers.ts?");
  
  /***/ }),
  
  /***/ "./src/index.ts":
  /*!**********************!*\
    !*** ./src/index.ts ***!
    \**********************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ \"./src/helpers.ts\");\n/* harmony import */ var _Native__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Native */ \"./src/Native/index.ts\");\n\n\nvar ad = (0,_helpers__WEBPACK_IMPORTED_MODULE_0__.getNativeAd)();\nconsole.log('ad', ad);\nvar divDom = document.querySelector('.bliink-adview');\nvar testDom = document.getElementById('test');\nconsole.log('testDom', testDom);\nconsole.log('divDom', divDom);\nvar test = new _Native__WEBPACK_IMPORTED_MODULE_1__[\"default\"](ad, divDom);\nconsole.log('test****', test.render());\n// class AdUnit {\n//   // State\n//   isRendered = false\n//   isDestroyed = false\n//   isSticky = false\n//   Ad: IAd\n//   isEnableSwitch = false\n//   adUnitSize: IAdUnitSize\n//   googleResized = false\n//   refreshCount = 0\n//   // Life cycle\n//   lazyLoad: ILazyLoad\n//   onImageEnter: () => void\n//   onImageLeave: () => void\n//   timer: any\n//   refreshTimer: any\n//   // DOM Elements\n//   CreativeComponent:  CreativeNativeComponent\n//   wrapper: HTMLElement\n//   containerDomElement: HTMLElement\n//   closeButton: HTMLElement\n//   //region Initialization\n//   constructor(public config: IAdUnitConfig) {\n//     if (!this.config?.image) {\n//       return\n//     }\n//     this.onImageEnter = this.onImageEnterHandler.bind(this)\n//     this.config?.image.addEventListener('mouseenter', this.onImageEnter, true)\n//     this.onImageLeave = this.onImageLeaveHandler.bind(this)\n//     this.config?.image.addEventListener('mouseleave', this.onImageLeave, true)\n//     this.render()\n//     this.timer = setInterval(this.resizeAdUnit.bind(this), 100)\n//     this.lazyLoad = lazyLoad(this.config?.image)\n//   }\n//   //endregion Initialization\n//   //region Setters\n//   /**\n//    * @param container\n//    */\n//   set container(container) {\n//     this.containerDomElement = container\n//   }\n//   //endregion Setters\n//   //region Getters\n//   get format(): IFormat {\n//     return FORMATS.find(format => this.formatId === format.id)\n//   }\n//   get formatId(): CreativeCategory {\n//     return this.CreativeComponent?.formatId || CreativeCategory.IN_IMAGE\n//   }\n//   get imageSrc(): string {\n//     return Utility.getImageSrc(this.config.image)\n//   }\n//   get position(): number {\n//     if (this.config.wrapperClass && this.wrapper) {\n//       if (this.wrapper.getAttribute('data-index')) {\n//         return parseInt(this.wrapper.getAttribute('data-index'), 10)\n//       }\n//       if (this.wrapper.getAttribute('data-id')) {\n//         return parseInt(this.wrapper.getAttribute('data-id'), 10)\n//       }\n//     }\n//     return 0\n//   }\n//   get container(): HTMLElement {\n//     if (!this.isRendered) {\n//       return null\n//     }\n//     if (document.body.contains(this.containerDomElement)) {\n//       return this.containerDomElement\n//     }\n//     const image: HTMLImageElement = document.querySelector(`img[src*='${this.imageSrc}'], div[style*='${this.imageSrc}']`)\n//     if (image) {\n//       this.config.image = image\n//       this.render()\n//       return this.containerDomElement\n//     }\n//   }\n//   get resizeSource() {\n//     return  this.config.image\n//   }\n//   //endregion Getters\n//   //region Actions\n//   /**\n//    * requestAd\n//    */\n//   async requestAd(refresh = 0) {\n//     this.refreshCount = refresh\n//     this.config.refresh = refresh > 0\n//     // const [, winningAd] = await to(requestAd(this.config, this.imageSrc))\n//     const winningAd = {} as any\n//     if (winningAd && this.container) {\n//       if (this.config.refresh && this.CreativeComponent) {\n//         this.CreativeComponent.destroy(true)\n//       }\n//       this.Ad = winningAd\n//       this.CreativeComponent = new CreativeNativeComponent(\n//         this.Ad,\n//         this.container.querySelector(`.${BLIINK_ADVIEW_CLASS}`),\n//         this.destroy.bind(this),\n//         this.sendEvent.bind(this),\n//         false,\n//         false,\n//         this.imageSrc,\n//       )\n//       if (this.format) {\n//         this.container?.classList.add(this.format.name)\n//       }\n//       this.resizeAdUnit()\n//       window.addEventListener('message', this.onCreativeMessageHandler.bind(this))\n//       // render creative\n//       this.isRendered = true\n//       this.CreativeComponent.render()\n//       this.container?.classList.add('bliink-is-active')\n//       this.refreshTimer = setTimeout(async () => {\n//         const canRefresh = lazyLoad(this.config?.image)\n//         const [err] = await to(canRefresh.promise)\n//         if (!err) {\n//           this.requestAd(this.refreshCount + 1)\n//         }\n//       }, 10000)\n//       return\n//     }\n//     // passback if no winning ad\n//     if (!this.config.refresh) {\n//       this.config.passbackHandler(this.config.tag.passback)\n//       this.destroy()\n//     }\n//   }\n//   /**\n//    * @param eventName\n//    * @param label\n//    */\n//   async sendEvent(eventName: AdEvent, label?: string) {\n//     const refreshLabel = this.refreshCount > 0 ? `refresh_${this.refreshCount}` : ''\n//     if (this.Ad?.token) {\n//       const [, event] = await to(sendEventWithToken(eventName, this.Ad.token, label || refreshLabel))\n//       new Logger().info(event ? 'Event Success' : 'Event Failure', eventName)\n//     }\n//   }\n//   /**\n//    * @param height\n//    */\n//   expand(height: number) {\n//     this.CreativeComponent?.expand(height)\n//     if (this.format) {\n//       this.container?.classList.remove('in-image')\n//       this.container?.classList.remove('in-image-frame')\n//       this.container?.classList.add(this.format.name)\n//     }\n//   }\n//   //endregion Actions\n//   //region Handlers\n//   /**\n//    * @param event\n//    */\n//   onVideoEventHandler(event: AdEvent) {\n//     if (event !== AdEvent.IMPRESSION && event !== AdEvent.VISIBLE) {\n//       this.sendEvent(event)\n//     }\n//   }\n//   onEnableSwitch() {\n//     this.isEnableSwitch = true\n//     new Logger().info(event ? 'Event Success' : 'Event Failure', 'bliink-enable-switch')\n//   }\n//   /**\n//    * @param creativeMessage\n//    */\n//   onCreativeMessageHandler(creativeMessage: ICreativeEventMessage) {\n//     const { data } = creativeMessage\n//     const { message, video, height, label } = data\n//     if (data && (this.CreativeComponent.creativeView === getMessageFrameOrigin(creativeMessage))) {\n//       new Logger().info('received message from creative', message)\n//       switch (message) {\n//         case CreativeEvent.CLICK:\n//           this.sendEvent(AdEvent.CLICK)\n//           break\n//         case CreativeEvent.EVENT:\n//           this.sendEvent(AdEvent.CUSTOM, label)\n//           break\n//         case CreativeEvent.HIDE_CLOSE:\n//           this.closeButton.style.display = 'none'\n//           break\n//         case CreativeEvent.DESTROY:\n//           this.destroy()\n//           break\n//         case CreativeEvent.SWITCH:\n//           break\n//         case CreativeEvent.ENABLE_SWITCH:\n//           this.onEnableSwitch()\n//           break\n//         case CreativeEvent.EXPAND:\n//           this.expand(height)\n//           break\n//         case CreativeEvent.STICKY:\n//           this.isSticky = true\n//           break\n//       }\n//     }\n//   }\n//   onImageEnterHandler() {\n//     this.CreativeComponent?.onImageEnter()\n//   }\n//   onImageLeaveHandler() {\n//     this.CreativeComponent?.onImageLeave()\n//   }\n//   //endregion Handlers\n//   //region UI\n//   /**\n//    * markup\n//    */\n//   markup() {\n//     return `<div id=\"bliink-adunit-${this.config.id}\" class=\"bliink-adunit\">\n//               <div class=\"bliink-adunit__overlay\"></div>\n//               <div class=\"${BLIINK_ADUNIT_WRAPPER_CLASS}\">\n//                 <div class=\"bliink-adunit__close\"></div>\n//                 <div class=\"bliink-adview\"></div>\n//               </div>\n//             </div>`\n//   }\n//   getWrapper(): HTMLElement {\n//     if (this.config.wrapper) {\n//       return this.config.wrapper\n//     }\n//     if (this.config.wrapperClass) {\n//       // TODO fix inline wrapper\n//       this.wrapper = document.querySelector(this.config.wrapperClass)\n//     }\n//     if (this.config.image?.parentNode) {\n//       return this.config.image.parentNode as HTMLElement\n//     }\n//     return null\n//   }\n//   onHandleClickCloseButton(e) {\n//     e.preventDefault()\n//     e.stopImmediatePropagation()\n//     if (this.isEnableSwitch) {\n//       sendMessageToCreative(this.CreativeComponent.creativeView, CreativeEvent.SWITCH)\n//       this.closeButton.style.display = 'none'\n//       this.isEnableSwitch = false\n//       return\n//     }\n//     this.destroy()\n//     return\n//   }\n//   render() {\n//     if (this.isRendered) return\n//     this.isRendered = true\n//     new Logger().info('AdUnit Render')\n//     this.wrapper = this.getWrapper()\n//     this.wrapper.insertAdjacentHTML('beforeend', this.markup())\n//     const adUnits = this.wrapper?.querySelectorAll(`.${BLIINK_ADUNIT_CLASS}`)\n//     if (adUnits.length !== 0) {\n//       this.container = adUnits[adUnits.length - 1] as HTMLElement\n//       if (this.container) {\n//         this.closeButton = this.container.querySelector(`.${BLIINK_ADUNIT_CLASS}__close`)\n//         this.closeButton.addEventListener('click', (e: any) => this.onHandleClickCloseButton(e))\n//         this.closeButton.addEventListener('touchend', (e: any) => this.onHandleClickCloseButton(e))\n//         return\n//       }\n//     }\n//     this.isRendered = false\n//   }\n//   resizeAdUnit() {\n//     const adViewWrapper: HTMLElement = this.container?.querySelector(`.${BLIINK_ADUNIT_WRAPPER_CLASS}`)\n//     if (!this.CreativeComponent || !adViewWrapper || this.formatId === CreativeCategory.IN_FEED) {\n//       return\n//     }\n//     this.resizeLegacy()\n//     // resize ad unit\n//     const size = getAdUnitSize(this.formatId, this.resizeSource, this.config.image, this.config.adUnitResizeSource)\n//     this.resizeGoogle(adViewWrapper, size)\n//     if (equalSize(size, this.adUnitSize)) {\n//       return\n//     }\n//     new Logger().info('resize')\n//     this.adUnitSize = {\n//       height: size.height,\n//       width: size.width,\n//       top: size.top,\n//       left: size.left,\n//     }\n//     const adView = this.container.querySelector(`.${BLIINK_ADVIEW_CLASS}`) as HTMLElement\n//     if (this.isSticky) {\n//       if (!Utility.isDomElementInViewport(this.config.image)) {\n//         this.container.classList.add('bliink-is-sticky')\n//       } else {\n//         this.container.classList.remove('bliink-is-sticky')\n//       }\n//     } else if (adView) {\n//       adView.style.transform = ''\n//       adView.style.transformOrigin = ''\n//     }\n//     resizeElement(adViewWrapper, size)\n//   }\n//   // resize google RTB iframe\n//   resizeGoogle(wrapper: HTMLElement, size: IAdUnitSize) {\n//     const iframe: HTMLIFrameElement = wrapper.querySelector('.GoogleActiveViewClass iframe')\n//     if (iframe) {\n//       resizeElement(iframe, size)\n//       this.googleResized = true\n//     }\n//   }\n//   resizeLegacy() {\n//     // TODO custom webedia\n//     let el: HTMLElement = document.querySelector('.wdiapo-big__caption')\n//     if (el) {\n//       el.style.display = 'none'\n//     }\n//     // TODO custom GMC\n//     let els = document.querySelectorAll('.Article-slideImageContainer picture')\n//     if (els && els.length > 0) {\n//       els.forEach((el: any) => {\n//         if (el) {\n//           el.style.display = 'block'\n//         }\n//       })\n//     }\n//     els = document.querySelectorAll('.picture-card__media__paginate')\n//     if (els && els.length > 0) {\n//       els.forEach((el: any) => {\n//         if (el) {\n//           el.style.zIndex = '99'\n//         }\n//       })\n//     }\n//     // TODO custom mondadori\n//     el = document.querySelector('.article-cover__image')\n//     if (el) {\n//       if (Utility.getDeviceWidth() >= 1200) {\n//         el.style.paddingLeft = '340px'\n//       } else {\n//         el.style.paddingLeft = '0'\n//       }\n//     }\n//     el = document.querySelector('#content .content.left')\n//     if (el) {\n//       el.style.zIndex = '1'\n//     }\n//     el = document.querySelector('.nav-tools .bt-previous')\n//     if (el) {\n//       el.style.zIndex = '99'\n//     }\n//     els = document.querySelectorAll('.mf-slider.gallery .mf-control')\n//     if (els && els.length > 0) {\n//       els.forEach((el: any) => {\n//         if (el) {\n//           el.style.zIndex = '99'\n//         }\n//       })\n//     }\n//   }\n//   //endregion UI\n//   destroy() {\n//     if (this.isDestroyed) return\n//     this.isDestroyed = true\n//     new Logger().info('AdUnit Destroy')\n//     this.config.image?.removeEventListener('mouseenter', this.onImageLeave, true)\n//     this.config.image?.removeEventListener('mouseleave', this.onImageEnter, true)\n//     window.removeEventListener('message', this.onCreativeMessageHandler, true)\n//     this.CreativeComponent?.destroy()\n//     this.lazyLoad?.cancel()\n//     if (this.refreshTimer) {\n//       clearTimeout(this.refreshTimer)\n//     }\n//     if (this.timer) {\n//       clearInterval(this.timer)\n//     }\n//     this.container?.remove()\n//     // TODO custom webedia\n//     let el: HTMLElement = document.querySelector('.wdiapo-big__caption')\n//     if (el) {\n//       el.style.display = 'block'\n//     }\n//     // TODO custom mondadori\n//     el = document.querySelector('.article-cover__image')\n//     if (el) {\n//       if (Utility.getDeviceWidth() >= 1200) {\n//         el.style.paddingLeft = '170px'\n//       } else {\n//         el.style.paddingLeft = '0'\n//       }\n//     }\n//     el = document.querySelector('#content .content.left')\n//     if (el) {\n//       el.style.zIndex = '5'\n//     }\n//   }\n// }\n// export default AdUnit\n\n\n//# sourceURL=webpack://cookies-sync/./src/index.ts?");
  
  /***/ }),
  
  /***/ "./src/insTagChecker.ts":
  /*!******************************!*\
    !*** ./src/insTagChecker.ts ***!
    \******************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"asyncChecker\": () => (/* binding */ asyncChecker),\n/* harmony export */   \"default\": () => (/* binding */ insTagChecker)\n/* harmony export */ });\nfunction asyncChecker(checker) {\n    var resolve;\n    var reject;\n    var promise = new Promise(function (resolveFromPromise, rejectFromPromise) {\n        resolve = resolveFromPromise;\n        reject = rejectFromPromise;\n    });\n    var timerInterval = setInterval(function () {\n        checker(resolve, timerInterval);\n    }, 10);\n    return {\n        promise: promise,\n        cancel: function () {\n            clearInterval(timerInterval);\n            reject(new Error('InsTagChecker canceled'));\n        },\n    };\n}\nfunction insTagChecker(container) {\n    if (!container) {\n        throw new Error('InsTagChecker invalid parameters');\n    }\n    return asyncChecker(function (resolve, timerInterval) {\n        var _a, _b;\n        var ins = (_a = container.contentDocument) === null || _a === void 0 ? void 0 : _a.querySelector('ins');\n        var resizeIframe = function (el, width, height) {\n            if (el) {\n                el.style.width = width;\n                el.style.height = height;\n                el.style.border = '0';\n                el.setAttribute('width', width);\n                el.setAttribute('height', height);\n            }\n        };\n        var checkBliinkIframe = function (el, parent) {\n            if (el.src && el.src.indexOf('bliink') >= 0) {\n                var width = \"\".concat(container.innerWidth || container.offsetWidth, \"px\");\n                var height = \"\".concat(container.innerHeight || container.offsetHeight, \"px\");\n                resizeIframe(el, width, height);\n                if (parent) {\n                    resizeIframe(parent, width, height);\n                }\n                clearInterval(timerInterval);\n                if (parent) {\n                    var e = parent.contentWindow.document.body;\n                    var script = parent.contentWindow.document.createElement('script');\n                    script.src = 'https://tag.bliink.io/creative.min.js';\n                    script.async = true;\n                    script.defer = true;\n                    e.appendChild(script);\n                }\n                resolve();\n                resizeIframe(ins, width, height);\n                return true;\n            }\n            return false;\n        };\n        var iframes = (_b = container.contentDocument) === null || _b === void 0 ? void 0 : _b.querySelectorAll('ins iframe');\n        iframes === null || iframes === void 0 ? void 0 : iframes.forEach(function (el) {\n            if (el.srcdoc) {\n                var children = el === null || el === void 0 ? void 0 : el.contentWindow.document.querySelectorAll('iframe');\n                children.forEach(function (child) {\n                    if (checkBliinkIframe(child, el)) {\n                        return;\n                    }\n                });\n            }\n            if (checkBliinkIframe(el)) {\n                return;\n            }\n        });\n    });\n}\n\n\n//# sourceURL=webpack://cookies-sync/./src/insTagChecker.ts?");
  
  /***/ }),
  
  /***/ "./src/pageData.ts":
  /*!*************************!*\
    !*** ./src/pageData.ts ***!
    \*************************/
  /***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
  
  "use strict";
  eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getKeywords\": () => (/* binding */ getKeywords),\n/* harmony export */   \"getMetaList\": () => (/* binding */ getMetaList),\n/* harmony export */   \"getMetaValue\": () => (/* binding */ getMetaValue),\n/* harmony export */   \"getMultipleMetaValue\": () => (/* binding */ getMultipleMetaValue),\n/* harmony export */   \"getOneMetaValue\": () => (/* binding */ getOneMetaValue)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\n/**\n * @param name\n */\nfunction getMetaList(name) {\n    return [\n        {\n            key: 'name',\n            value: name,\n        },\n        {\n            key: 'name*',\n            value: name,\n        },\n        {\n            key: 'itemprop*',\n            value: name,\n        },\n        {\n            key: 'property',\n            value: \"'og:\".concat(name, \"'\"),\n        },\n        {\n            key: 'property',\n            value: \"'twitter:\".concat(name, \"'\"),\n        },\n        {\n            key: 'property',\n            value: \"'article:\".concat(name, \"'\"),\n        },\n    ];\n}\n/**\n * @param name\n * @param type\n */\nfunction getMetaValue(name, type) {\n    if (type === void 0) { type = 1; }\n    var metaList = getMetaList(name);\n    var metaContent = '';\n    metaList.forEach(function (meta) {\n        var method = type === 1 ? getOneMetaValue : getMultipleMetaValue;\n        var metaValue = method(\"meta[\".concat(meta.key, \"=\").concat(meta.value, \"]\"));\n        if (metaValue) {\n            metaContent = metaValue;\n            return null;\n        }\n    });\n    return metaContent;\n}\n/**\n * @param query\n */\nfunction getOneMetaValue(query) {\n    var metaEl = document.querySelector(query);\n    if (metaEl && metaEl.content) {\n        return metaEl.content;\n    }\n    return null;\n}\n/**\n * @param query\n */\nfunction getMultipleMetaValue(query) {\n    var metaEls = document.querySelectorAll(query);\n    if (metaEls.length !== 0) {\n        var values_1 = [];\n        metaEls.forEach(function (metaEl) {\n            if (metaEl.content) {\n                values_1.push(metaEl.content);\n            }\n        });\n        return values_1\n            .map(function (value) { return value.trim(); })\n            .join(',');\n    }\n    return null;\n}\nfunction getKeywords() {\n    var _a, _b;\n    var keywords = __spreadArray(__spreadArray([], (_a = getMetaValue(_constants__WEBPACK_IMPORTED_MODULE_0__.META_KEYWORDS)) === null || _a === void 0 ? void 0 : _a.split(','), true), (_b = getMetaValue(_constants__WEBPACK_IMPORTED_MODULE_0__.META_TAG, 2)) === null || _b === void 0 ? void 0 : _b.split(','), true);\n    if ((keywords === null || keywords === void 0 ? void 0 : keywords.length) > 0) {\n        return keywords\n            .filter(function (value) { return value; })\n            .map(function (value) { return value.trim(); });\n    }\n    return [];\n}\n\n\n//# sourceURL=webpack://cookies-sync/./src/pageData.ts?");
  
  /***/ })
  
  /******/ 	});
  /************************************************************************/
  /******/ 	// The module cache
  /******/ 	var __webpack_module_cache__ = {};
  /******/ 	
  /******/ 	// The require function
  /******/ 	function __webpack_require__(moduleId) {
  /******/ 		// Check if module is in cache
  /******/ 		var cachedModule = __webpack_module_cache__[moduleId];
  /******/ 		if (cachedModule !== undefined) {
  /******/ 			return cachedModule.exports;
  /******/ 		}
  /******/ 		// Create a new module (and put it into the cache)
  /******/ 		var module = __webpack_module_cache__[moduleId] = {
  /******/ 			id: moduleId,
  /******/ 			// no module.loaded needed
  /******/ 			exports: {}
  /******/ 		};
  /******/ 	
  /******/ 		// Execute the module function
  /******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
  /******/ 	
  /******/ 		// Return the exports of the module
  /******/ 		return module.exports;
  /******/ 	}
  /******/ 	
  /************************************************************************/
  /******/ 	/* webpack/runtime/compat get default export */
  /******/ 	(() => {
  /******/ 		// getDefaultExport function for compatibility with non-harmony modules
  /******/ 		__webpack_require__.n = (module) => {
  /******/ 			var getter = module && module.__esModule ?
  /******/ 				() => (module['default']) :
  /******/ 				() => (module);
  /******/ 			__webpack_require__.d(getter, { a: getter });
  /******/ 			return getter;
  /******/ 		};
  /******/ 	})();
  /******/ 	
  /******/ 	/* webpack/runtime/define property getters */
  /******/ 	(() => {
  /******/ 		// define getter functions for harmony exports
  /******/ 		__webpack_require__.d = (exports, definition) => {
  /******/ 			for(var key in definition) {
  /******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
  /******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
  /******/ 				}
  /******/ 			}
  /******/ 		};
  /******/ 	})();
  /******/ 	
  /******/ 	/* webpack/runtime/hasOwnProperty shorthand */
  /******/ 	(() => {
  /******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
  /******/ 	})();
  /******/ 	
  /******/ 	/* webpack/runtime/make namespace object */
  /******/ 	(() => {
  /******/ 		// define __esModule on exports
  /******/ 		__webpack_require__.r = (exports) => {
  /******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
  /******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
  /******/ 			}
  /******/ 			Object.defineProperty(exports, '__esModule', { value: true });
  /******/ 		};
  /******/ 	})();
  /******/ 	
  /************************************************************************/
  /******/ 	
  /******/ 	// startup
  /******/ 	// Load entry module and return exports
  /******/ 	// This entry module can't be inlined because the eval devtool is used.
  /******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
  /******/ 	
  /******/ })()
  ;